/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,n){"use strict";n.d(t,"v",(function(){return r})),n.d(t,"q",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"t",(function(){return c})),n.d(t,"k",(function(){return h})),n.d(t,"u",(function(){return d})),n.d(t,"o",(function(){return f})),n.d(t,"s",(function(){return m})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"w",(function(){return w})),n.d(t,"i",(function(){return T})),n.d(t,"r",(function(){return S})),n.d(t,"f",(function(){return M})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return L})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return A})),n.d(t,"g",(function(){return P})),n.d(t,"a",(function(){return O})),n.d(t,"p",(function(){return C}));var r={fallbackLocale:"ja"},o=[{code:"ja",iso:"ja"},{code:"en",iso:"en"}],l="ja",c="___",h="default",d="prefix_except_default",f=!1,m=null,_={useCookie:!0,cookieKey:"i18n_redirected",alwaysRedirect:!1,fallbackLocale:null},v=!1,y=!1,x="",w={moduleName:"i18n",syncLocale:!1,syncMessages:!1,syncRouteParams:!0},T=function(){return null},S=function(){return null},M="nuxt-i18n",E="code",L="iso",k="domain",A="file",P={PREFIX:"prefix",PREFIX_EXCEPT_DEFAULT:"prefix_except_default",PREFIX_AND_DEFAULT:"prefix_and_default",NO_PREFIX:"no_prefix"},O="nuxtI18n",C=["ja","en"]},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"_gsScope",(function(){return l})),n.d(t,"TweenLite",(function(){return c})),n.d(t,"globals",(function(){return h})),n.d(t,"default",(function(){return c})),n.d(t,"SimpleTimeline",(function(){return f})),n.d(t,"Animation",(function(){return m})),n.d(t,"Ease",(function(){return _})),n.d(t,"Linear",(function(){return v})),n.d(t,"Power0",(function(){return y})),n.d(t,"Power1",(function(){return x})),n.d(t,"Power2",(function(){return w})),n.d(t,"Power3",(function(){return T})),n.d(t,"Power4",(function(){return S})),n.d(t,"TweenPlugin",(function(){return M})),n.d(t,"EventDispatcher",(function(){return E}));n(22),n(29),n(25);var o=n(7),l=(n(41),n(42),n(5),n(33),"undefined"!=typeof window?window:e.exports&&void 0!==r?r:{}),c=function(e){var t={},n=e.document,r=e.GreenSockGlobals=e.GreenSockGlobals||e;if(r.TweenLite)return r.TweenLite;var a,i,p,l,c,h,d,f=function(e){var i,a=e.split("."),p=r;for(i=0;i<a.length;i++)p[a[i]]=p=p[a[i]]||{};return p},m=f("com.greensock"),_=function(a){var i,b=[],e=a.length;for(i=0;i!==e;b.push(a[i++]));return b},v=function(){},y=(h=Object.prototype.toString,d=h.call([]),function(e){return null!=e&&(e instanceof Array||"object"===Object(o.a)(e)&&!!e.push&&h.call(e)===d)}),x={},w=function e(n,o,l,c){this.sc=x[n]?x[n].sc:[],x[n]=this,this.gsClass=null,this.func=l;var h=[];this.check=function(d){for(var m,a,_,v,i=o.length,y=i;--i>-1;)(m=x[o[i]]||new e(o[i],[])).gsClass?(h[i]=m.gsClass,y--):d&&m.sc.push(this);if(0===y&&l)for(_=(a=("com.greensock."+n).split(".")).pop(),v=f(a.join("."))[_]=this.gsClass=l.apply(l,h),c&&(r[_]=t[_]=v),i=0;i<this.sc.length;i++)this.sc[i].check()},this.check(!0)},T=e._gsDefine=function(e,t,n,r){return new w(e,t,n,r)},S=m._class=function(e,t,n){return t=t||function(){},T(e,[],(function(){return t}),n),t};T.globals=r;var M=[0,0,1,1],E=S("easing.Ease",(function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?M.concat(t):M}),!0),L=E.map={},k=E.register=function(e,t,n,r){for(var o,l,c,h,d=t.split(","),i=d.length,f=(n||"easeIn,easeOut,easeInOut").split(",");--i>-1;)for(l=d[i],o=r?S("easing."+l,null,!0):m.easing[l]||{},c=f.length;--c>-1;)h=f[c],L[l+"."+h]=L[h+l]=o[h]=e.getRatio?e:e[h]||new e};for((p=E.prototype)._calcEnd=!1,p.getRatio=function(p){if(this._func)return this._params[0]=p,this._func.apply(null,this._params);var e=this._type,t=this._power,n=1===e?1-p:2===e?p:p<.5?2*p:2*(1-p);return 1===t?n*=n:2===t?n*=n*n:3===t?n*=n*n*n:4===t&&(n*=n*n*n*n),1===e?1-n:2===e?n:p<.5?n/2:1-n/2},i=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--i>-1;)p=a[i]+",Power"+i,k(new E(null,null,1,i),p,"easeOut",!0),k(new E(null,null,2,i),p,"easeIn"+(0===i?",easeNone":"")),k(new E(null,null,3,i),p,"easeInOut");L.linear=m.easing.Linear.easeIn,L.swing=m.easing.Quad.easeInOut;var A=S("events.EventDispatcher",(function(e){this._listeners={},this._eventTarget=e||this}));(p=A.prototype).addEventListener=function(e,t,n,r,o){o=o||0;var h,i,d=this._listeners[e],f=0;for(this!==l||c||l.wake(),null==d&&(this._listeners[e]=d=[]),i=d.length;--i>-1;)(h=d[i]).c===t&&h.s===n?d.splice(i,1):0===f&&h.pr<o&&(f=i+1);d.splice(f,0,{c:t,s:n,up:r,pr:o})},p.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;--i>-1;)if(n[i].c===t)return void n.splice(i,1)},p.dispatchEvent=function(e){var i,t,n,r=this._listeners[e];if(r)for((i=r.length)>1&&(r=r.slice(0)),t=this._eventTarget;--i>-1;)(n=r[i])&&(n.up?n.c.call(n.s||t,{type:e,target:t}):n.c.call(n.s||t))};var P=e.requestAnimationFrame,O=e.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},R=C();for(i=(a=["ms","moz","webkit","o"]).length;--i>-1&&!P;)P=e[a[i]+"RequestAnimationFrame"],O=e[a[i]+"CancelAnimationFrame"]||e[a[i]+"CancelRequestAnimationFrame"];S("Ticker",(function(e,t){var r,o,h,d,f,m=this,_=C(),y=!(!1===t||!P)&&"auto",x=500,w=33,T=function e(t){var n,l,c=C()-R;c>x&&(_+=c-w),R+=c,m.time=(R-_)/1e3,n=m.time-f,(!r||n>0||!0===t)&&(m.frame++,f+=n+(n>=d?.004:d-n),l=!0),!0!==t&&(h=o(e)),l&&m.dispatchEvent("tick")};A.call(m),m.time=m.frame=0,m.tick=function(){T(!0)},m.lagSmoothing=function(e,t){if(!arguments.length)return x<1e8;x=e||1e8,w=Math.min(t,x,0)},m.sleep=function(){null!=h&&(y&&O?O(h):clearTimeout(h),o=v,h=null,m===l&&(c=!1))},m.wake=function(e){null!==h?m.sleep():e?_+=-R+(R=C()):m.frame>10&&(R=C()-x+5),o=0===r?v:y&&P?P:function(e){return setTimeout(e,1e3*(f-m.time)+1|0)},m===l&&(c=!0),T(2)},m.fps=function(e){if(!arguments.length)return r;d=1/((r=e)||60),f=this.time+d,m.wake()},m.useRAF=function(e){if(!arguments.length)return y;m.sleep(),y=e,m.fps(r)},m.fps(e),setTimeout((function(){"auto"===y&&m.frame<5&&"hidden"!==(n||{}).visibilityState&&m.useRAF(!1)}),1500)})),(p=m.Ticker.prototype=new m.events.EventDispatcher).constructor=m.Ticker;var I=S("core.Animation",(function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!!t.immediateRender,this.data=t.data,this._reversed=!!t.reversed,ee){c||l.wake();var n=this.vars.useFrames?Q:ee;n.add(this,n._time),this.vars.paused&&this.paused(!0)}}));l=I.ticker=new m.Ticker,(p=I.prototype)._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;!function e(){c&&C()-R>2e3&&("hidden"!==(n||{}).visibilityState||!l.lagSmoothing())&&l.wake();var t=setTimeout(e,2e3);t.unref&&t.unref()}(),p.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},p.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},p.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},p.seek=function(time,e){return this.totalTime(Number(time),!1!==e)},p.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},p.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},p.render=function(time,e,t){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},p.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-8},p._enabled=function(e,t){return c||l.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(e,t){return this._enabled(!1,!1)},p.kill=function(e,t){return this._kill(e,t),this},p._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},p._swapSelfInParams=function(e){for(var i=e.length,t=e.concat();--i>-1;)"{self}"===e[i]&&(t[i]=this);return t},p._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(o);break;case 1:n.call(o,r[0]);break;case 2:n.call(o,r[0],r[1]);break;default:n.apply(o,r)}},p.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=y(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,o[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},p.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},p.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},p.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},p.totalTime=function(time,e,t){if(c||l.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(time<0&&!t&&(time+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(time>n&&!t&&(time=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-time:time)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===time&&0!==this._duration||(D.length&&ie(),this.render(time,e,!1),D.length&&ie())}return this},p.progress=p.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},p.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},p.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,n;for(e=e||1e-8,this._timeline&&this._timeline.smoothChildTiming&&(n=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=n-(n-this._startTime)*this._timeScale/e),this._timeScale=e,n=this.timeline;n&&n.timeline;)n._dirty=!0,n.totalDuration(),n=n.timeline;return this},p.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(c||e||l.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var F=S("core.SimpleTimeline",(function(e){I.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0}));(p=F.prototype=new I).constructor=F,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(e,t,n,r){var o,l;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(l=e._startTime;o&&o._startTime>l;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},p._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(time,e,t){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=time;r;)n=r._next,(r._active||time>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(time-r._startTime)*r._timeScale,e,t):r.render((time-r._startTime)*r._timeScale,e,t)),r=n},p.rawTime=function(){return c||l.wake(),this._totalTime};var N=S("TweenLite",(function(t,n,r){if(I.call(this,n,r),this.render=N.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:N.selector(t)||t;var i,o,l,c=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?J[N.defaultOverwrite]:"number"==typeof h?h>>0:J[h],(c||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=l=_(t),this._propLookup=[],this._siblings=[],i=0;i<l.length;i++)(o=l[i])?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(l.splice(i--,1),this._targets=l=l.concat(_(o))):(this._siblings[i]=ne(o,this,!1),1===h&&this._siblings[i].length>1&&ae(o,this,null,1,this._siblings[i])):"string"==typeof(o=l[i--]=N.selector(o))&&l.splice(i+1,1):l.splice(i--,1);else this._propLookup={},this._siblings=ne(t,this,!1),1===h&&this._siblings.length>1&&ae(t,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))}),!0),z=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(p=N.prototype=new I).constructor=N,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,N.version="2.1.2",N.defaultEase=p._ease=new E(null,null,1,1),N.defaultOverwrite="auto",N.ticker=l,N.autoSleep=120,N.lagSmoothing=function(e,t){l.lagSmoothing(e,t)},N.selector=e.$||e.jQuery||function(t){var r=e.$||e.jQuery;return r?(N.selector=r,r(t)):(n||(n=e.document),n?n.querySelectorAll?n.querySelectorAll(t):n.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var D=[],G={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,j=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m.call(this._tween,t,this._target||n.t,this._tween):t<1e-6&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},W=function(e){return(1e3*e|0)/1e3+""},H=function(e,t,filter,n){var r,o,l,i,c,h,d,a=[],f=0,s="",m=0;for(a.start=e,a.end=t,e=a[0]=e+"",t=a[1]=t+"",filter&&(filter(a),e=a[0],t=a[1]),a.length=0,r=e.match(U)||[],o=t.match(U)||[],n&&(n._next=null,n.blob=1,a._firstPT=a._applyPT=n),c=o.length,i=0;i<c;i++)d=o[i],s+=(h=t.substr(f,t.indexOf(d,f)-f))||!i?h:",",f+=h.length,m?m=(m+1)%5:"rgba("===h.substr(-5)&&(m=1),d===r[i]||r.length<=i?s+=d:(s&&(a.push(s),s=""),l=parseFloat(r[i]),a.push(l),a._firstPT={_next:a._firstPT,t:a,p:a.length-1,s:l,c:("="===d.charAt(1)?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-l)||0,f:0,m:m&&m<4?Math.round:W}),f+=d.length;return(s+=t.substr(f))&&a.push(s),a.setRatio=j,B.test(t)&&(a.end=null),a},V=function(e,t,n,r,l,c,h,d,f){"function"==typeof r&&(r=r(f||0,e));var m=Object(o.a)(e[t]),_="function"!==m?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),s="get"!==n?n:_?h?e[_](h):e[_]():e[t],v="string"==typeof r&&"="===r.charAt(1),y={t:e,p:t,s:s,f:"function"===m,pg:0,n:l||t,m:c?"function"==typeof c?c:Math.round:0,pr:0,c:v?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-s||0};if(("number"!=typeof s||"number"!=typeof r&&!v)&&(h||isNaN(s)||!v&&isNaN(r)||"boolean"==typeof s||"boolean"==typeof r?(y.fp=h,y={t:H(s,v?parseFloat(y.s)+y.c+(y.s+"").replace(/[0-9\-\.]/g,""):r,d||N.defaultStringFilter,y),p:"setRatio",s:0,c:1,f:2,pg:0,n:l||t,pr:0,m:0}):(y.s=parseFloat(s),v||(y.c=parseFloat(r)-y.s||0))),y.c)return(y._next=this._firstPT)&&(y._next._prev=y),this._firstPT=y,y},Y=N._internals={isArray:y,isSelector:z,lazyTweens:D,blobDif:H},X=N._plugins={},$=Y.tweenLookup={},Z=0,K=Y.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},J={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=I._rootFramesTimeline=new F,ee=I._rootTimeline=new F,te=30,ie=Y.lazyRender=function(){var i,e,t=D.length;for(G={},i=0;i<t;i++)(e=D[i])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);D.length=0};ee._startTime=l.time,Q._startTime=l.frame,ee._active=Q._active=!0,setTimeout(ie,1),I._updateRoot=N.render=function(){var i,a,p;if(D.length&&ie(),ee.render((l.time-ee._startTime)*ee._timeScale,!1,!1),Q.render((l.frame-Q._startTime)*Q._timeScale,!1,!1),D.length&&ie(),l.frame>=te){for(p in te=l.frame+(parseInt(N.autoSleep,10)||120),$){for(i=(a=$[p].tweens).length;--i>-1;)a[i]._gc&&a.splice(i,1);0===a.length&&delete $[p]}if((!(p=ee._first)||p._paused)&&N.autoSleep&&!Q._first&&1===l._listeners.tick.length){for(;p&&p._paused;)p=p._next;p||l.sleep()}}},l.addEventListener("tick",I._updateRoot);var ne=function(e,t,n){var a,i,r=e._gsTweenID;if($[r||(e._gsTweenID=r="t"+Z++)]||($[r]={target:e,tweens:[]}),t&&((a=$[r].tweens)[i=a.length]=t,n))for(;--i>-1;)a[i]===t&&a.splice(i,1);return $[r].tweens},re=function(e,t,n,r){var o,l,c=e.vars.onOverwrite;return c&&(o=c(e,t,n,r)),(c=N.onOverwrite)&&(l=c(e,t,n,r)),!1!==o&&!1!==l},ae=function(e,t,n,r,o){var i,l,c,h;if(1===r||r>=4){for(h=o.length,i=0;i<h;i++)if((c=o[i])!==t)c._gc||c._kill(null,e,t)&&(l=!0);else if(5===r)break;return l}var d,f=t._startTime+1e-8,m=[],_=0,v=0===t._duration;for(i=o.length;--i>-1;)(c=o[i])===t||c._gc||c._paused||(c._timeline!==t._timeline?(d=d||oe(t,0,v),0===oe(c,d,v)&&(m[_++]=c)):c._startTime<=f&&c._startTime+c.totalDuration()/c._timeScale>f&&((v||!c._initted)&&f-c._startTime<=2e-8||(m[_++]=c)));for(i=_;--i>-1;)if(h=(c=m[i])._firstPT,2===r&&c._kill(n,e,t)&&(l=!0),2!==r||!c._firstPT&&c._initted&&h){if(2!==r&&!re(c,t))continue;c._enabled(!1,!1)&&(l=!0)}return l},oe=function(e,t,n){for(var r=e._timeline,o=r._timeScale,l=e._startTime;r._timeline;){if(l+=r._startTime,o*=r._timeScale,r._paused)return-100;r=r._timeline}return(l/=o)>t?l-t:n&&l===t||!e._initted&&l-t<2e-8?1e-8:(l+=e.totalDuration()/e._timeScale/o)>t+1e-8?0:l-t-1e-8};p._init=function(){var i,e,t,p,n,r,o=this.vars,l=this._overwrittenProps,c=this._duration,h=!!o.immediateRender,d=o.ease,f=this._startAt;if(o.startAt){for(p in f&&(f.render(-1,!0),f.kill()),n={},o.startAt)n[p]=o.startAt[p];if(n.data="isStart",n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==o.lazy,n.startAt=n.delay=null,n.onUpdate=o.onUpdate,n.onUpdateParams=o.onUpdateParams,n.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=N.to(this.target||{},0,n),h)if(this._time>0)this._startAt=null;else if(0!==c)return}else if(o.runBackwards&&0!==c)if(f)f.render(-1,!0),f.kill(),this._startAt=null;else{for(p in 0!==this._time&&(h=!1),t={},o)K[p]&&"autoCSS"!==p||(t[p]=o[p]);if(t.overwrite=0,t.data="isFromStart",t.lazy=h&&!1!==o.lazy,t.immediateRender=h,this._startAt=N.to(this.target,0,t),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=d=d?d instanceof E?d:"function"==typeof d?new E(d,o.easeParams):L[d]||N.defaultEase:N.defaultEase,o.easeParams instanceof Array&&d.config&&(this._ease=d.config.apply(d,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,i=0;i<r;i++)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],l?l[i]:null,i)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,l,0);if(e&&N._onPluginEvent("_onInitAllProps",this),l&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(t=this._firstPT;t;)t.s+=t.c,t.c=-t.c,t=t._next;this._onUpdate=o.onUpdate,this._initted=!0},p._initProps=function(t,n,r,o,l){var p,i,c,h,d,f;if(null==t)return!1;for(p in G[t._gsTweenID]&&ie(),this.vars.css||t.style&&t!==e&&t.nodeType&&X.css&&!1!==this.vars.autoCSS&&function(e,t){var p,n={};for(p in e)K[p]||p in t&&"transform"!==p&&"x"!==p&&"y"!==p&&"width"!==p&&"height"!==p&&"className"!==p&&"border"!==p||!(!X[p]||X[p]&&X[p]._autoCSS)||(n[p]=e[p],delete e[p]);e.css=n}(this.vars,t),this.vars)if(f=this.vars[p],K[p])f&&(f instanceof Array||f.push&&y(f))&&-1!==f.join("").indexOf("{self}")&&(this.vars[p]=f=this._swapSelfInParams(f,this));else if(X[p]&&(h=new X[p])._onInitTween(t,this.vars[p],this,l)){for(this._firstPT=d={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:p,pg:1,pr:h._priority,m:0},i=h._overwriteProps.length;--i>-1;)n[h._overwriteProps[i]]=this._firstPT;(h._priority||h._onInitAllProps)&&(c=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),d._next&&(d._next._prev=d)}else n[p]=V.call(this,t,p,"get",f,p,0,null,this.vars.stringFilter,l);return o&&this._kill(o,t)?this._initProps(t,n,r,o,l):this._overwrite>1&&this._firstPT&&r.length>1&&ae(t,this,n,this._overwrite,r)?(this._kill(n,t),this._initProps(t,n,r,o,l)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(G[t._gsTweenID]=!0),c)},p.render=function(time,e,t){var n,r,o,l,c=this._time,h=this._duration,d=this._rawPrevTime;if(time>=h-1e-8&&time>=0)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",t=t||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||t)&&(this._startTime===this._timeline._duration&&(time=0),(d<0||time<=0&&time>=-1e-8||1e-8===d&&"isPause"!==this.data)&&d!==time&&(t=!0,d>1e-8&&(r="onReverseComplete")),this._rawPrevTime=l=!e||time||d===time?time:1e-8);else if(time<1e-8)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==c||0===h&&d>0)&&(r="onReverseComplete",n=this._reversed),time>-1e-8?time=0:time<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||t)&&(d>=0&&(1e-8!==d||"isPause"!==this.data)&&(t=!0),this._rawPrevTime=l=!e||time||d===time?time:1e-8)),(!this._initted||this._startAt&&this._startAt.progress())&&(t=!0);else if(this._totalTime=this._time=time,this._easeType){var f=time/h,m=this._easeType,_=this._easePower;(1===m||3===m&&f>=.5)&&(f=1-f),3===m&&(f*=2),1===_?f*=f:2===_?f*=f*f:3===_?f*=f*f*f:4===_&&(f*=f*f*f*f),this.ratio=1===m?1-f:2===m?f:time/h<.5?f/2:1-f/2}else this.ratio=this._ease.getRatio(time/h);if(this._time!==c||t){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!t&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=c,this._rawPrevTime=d,D.push(this),void(this._lazy=[time,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==c&&time>=0&&(this._active=!0),0===c&&(this._startAt&&(time>=0?this._startAt.render(time,!0,t):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(time<0&&this._startAt&&-1e-4!==time&&this._startAt.render(time,!0,t),e||(this._time!==c||n||t)&&this._callback("onUpdate")),r&&(this._gc&&!t||(time<0&&this._startAt&&!this._onUpdate&&-1e-4!==time&&this._startAt.render(time,!0,t),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===h&&1e-8===this._rawPrevTime&&1e-8!==l&&(this._rawPrevTime=0)))}},p._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:N.selector(t)||t;var i,r,p,l,c,h,d,f,m,_=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline,v=this._firstPT;if((y(t)||z(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],n)&&(h=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){c=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;c=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(c){if(d=e||c,f=e!==r&&"all"!==r&&e!==c&&("object"!==Object(o.a)(e)||!e._tempKill),n&&(N.onOverwrite||this.vars.onOverwrite)){for(p in d)c[p]&&(m||(m=[]),m.push(p));if((m||!e)&&!re(this,n,t,m))return!1}for(p in d)(l=c[p])&&(_&&(l.f?l.t[l.p](l.s):l.t[l.p]=l.s,h=!0),l.pg&&l.t._kill(d)&&(h=!0),l.pg&&0!==l.t._overwriteProps.length||(l._prev?l._prev._next=l._next:l===this._firstPT&&(this._firstPT=l._next),l._next&&(l._next._prev=l._prev),l._next=l._prev=null),delete c[p]),f&&(r[p]=1);!this._firstPT&&this._initted&&v&&this._enabled(!1,!1)}}return h},p.invalidate=function(){this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this);var e=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],I.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(e,!1,!1!==this.vars.lazy)),this},p._enabled=function(e,t){if(c||l.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=ne(n[i],this,!0);else this._siblings=ne(this.target,this,!0)}return I.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&N._onPluginEvent(e?"_onEnable":"_onDisable",this)},N.to=function(e,t,n){return new N(e,t,n)},N.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new N(e,t,n)},N.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new N(e,t,r)},N.delayedCall=function(e,t,n,r,o){return new N(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},N.set=function(e,t){return new N(e,0,t)},N.getTweensOf=function(e,t){if(null==e)return[];var i,a,n,r;if(e="string"!=typeof e?e:N.selector(e)||e,(y(e)||z(e))&&"number"!=typeof e[0]){for(i=e.length,a=[];--i>-1;)a=a.concat(N.getTweensOf(e[i],t));for(i=a.length;--i>-1;)for(r=a[i],n=i;--n>-1;)r===a[n]&&a.splice(i,1)}else if(e._gsTweenID)for(i=(a=ne(e).concat()).length;--i>-1;)(a[i]._gc||t&&!a[i].isActive())&&a.splice(i,1);return a||[]},N.killTweensOf=N.killDelayedCallsTo=function(e,t,n){"object"===Object(o.a)(t)&&(n=t,t=!1);for(var a=N.getTweensOf(e,t),i=a.length;--i>-1;)a[i]._kill(n,e)};var se=S("plugins.TweenPlugin",(function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=se.prototype}),!0);if(p=se.prototype,se.version="1.19.0",se.API=2,p._firstPT=null,p._addTween=V,p.setRatio=j,p._kill=function(e){var i,a=this._overwriteProps,t=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(i=a.length;--i>-1;)null!=e[a[i]]&&a.splice(i,1);for(;t;)null!=e[t.n]&&(t._next&&(t._next._prev=t._prev),t._prev?(t._prev._next=t._next,t._prev=null):this._firstPT===t&&(this._firstPT=t._next)),t=t._next;return!1},p._mod=p._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},N._onPluginEvent=function(e,t){var n,r,o,l,c,h=t._firstPT;if("_onInitAllProps"===e){for(;h;){for(c=h._next,r=o;r&&r.pr>h.pr;)r=r._next;(h._prev=r?r._prev:l)?h._prev._next=h:o=h,(h._next=r)?r._prev=h:l=h,h=c}h=t._firstPT=o}for(;h;)h.pg&&"function"==typeof h.t[e]&&h.t[e]()&&(n=!0),h=h._next;return n},se.activate=function(e){for(var i=e.length;--i>-1;)e[i].API===se.API&&(X[(new e[i])._propName]=e[i]);return!0},T.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,o=e.overwriteProps,map={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},l=S("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",(function(){se.call(this,n,r),this._overwriteProps=o||[]}),!0===e.global),p=l.prototype=new se(n);for(t in p.constructor=l,l.API=e.API,map)"function"==typeof e[t]&&(p[map[t]]=e[t]);return l.version=e.version,se.activate([l]),l},a=e._gsQueue){for(i=0;i<a.length;i++)a[i]();for(p in x)x[p].func||e.console.log("GSAP encountered missing dependency: "+p)}return c=!1,N}(l),h=l.GreenSockGlobals,d=h.com.greensock,f=d.core.SimpleTimeline,m=d.core.Animation,_=h.Ease,v=h.Linear,y=v,x=h.Power1,w=h.Power2,T=h.Power3,S=h.Power4,M=h.TweenPlugin,E=d.events.EventDispatcher}.call(this,n(242)(e),n(43))},,function(e,t,n){"use strict";n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"a",(function(){return _})),n.d(t,"n",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"c",(function(){return w})),n.d(t,"h",(function(){return S})),n.d(t,"o",(function(){return M})),n.d(t,"k",(function(){return E})),n.d(t,"m",(function(){return L})),n.d(t,"d",(function(){return k})),n.d(t,"b",(function(){return A})),n.d(t,"g",(function(){return P})),n.d(t,"l",(function(){return O}));n(53),n(31),n(33),n(195),n(60),n(41),n(42),n(72),n(139);var r=n(51),o=(n(22),n(7)),l=(n(36),n(35),n(9),n(5),n(21),n(4),n(11)),c=n(2);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(e){c.a.config.errorHandler&&c.a.config.errorHandler(e)}function m(e){return e.then((function(e){return e.default||e}))}function _(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),d({},data,{},t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function v(e){return e.options&&e._Ctor===e?e:(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=c.a.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file),e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e[n]).map((function(o){return t&&t.push(r),e[n][o]}))})))}function x(e){return y(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],"instances")}function w(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function T(e,t){return Promise.all(w(e,(function(e,n,r,o){return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:if("function"!=typeof e||e.options){l.next=4;break}return l.next=3,regeneratorRuntime.awrap(e());case 3:e=l.sent;case 4:return r.components[o]=e=v(e),l.abrupt("return","function"==typeof t?t(e,n,r,o):e);case 6:case"end":return l.stop()}}))})))}function S(e){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,regeneratorRuntime.awrap(T(e));case 4:return t.abrupt("return",d({},e,{meta:y(e).map((function(t,n){return d({},t.options.meta,{},(e.matched[n]||{}).meta)}))}));case 5:case"end":return t.stop()}}))}function M(e,t){var n,l,c,h;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e.context||(e.context={isStatic:!0,isDev:!1,isHMR:!1,app:e,store:e.store,payload:t.payload,error:t.error,base:"/",env:{}},t.req&&(e.context.req=t.req),t.res&&(e.context.res=t.res),t.ssrContext&&(e.context.ssrContext=t.ssrContext),e.context.redirect=function(t,path,n){if(t){e.context._redirected=!0;var r=Object(o.a)(path);if("number"==typeof t||"undefined"!==r&&"object"!==r||(n=path||{},path=t,r=Object(o.a)(path),t=302),"object"===r&&(path=e.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=N(path,n),window.location.replace(path),new Error("ERR_REDIRECT");e.context.next({path:path,query:n,status:t})}},e.context.nuxtState=window.__NUXT__),d.next=3,regeneratorRuntime.awrap(Promise.all([S(t.route),S(t.from)]));case 3:n=d.sent,l=Object(r.a)(n,2),c=l[0],h=l[1],t.route&&(e.context.route=c),t.from&&(e.context.from=h),e.context.next=t.next,e.context._redirected=!1,e.context._errored=!1,e.context.isHMR=!1,e.context.params=e.context.route.params||{},e.context.query=e.context.route.query||{};case 15:case"end":return d.stop()}}))}function E(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():L(e[0],t).then((function(){return E(e.slice(1),t)}))}function L(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function k(base,e){var path=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function A(e,t){return function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)"object"===Object(o.a)(e[i])&&(t[i]=new RegExp("^(?:"+e[i].pattern+")$"));return function(n,r){for(var path="",data=n||{},o=(r||{}).pretty?R:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var h=data[c.name||"pathMatch"],d=void 0;if(null==h){if(c.optional){c.partial&&(path+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Array.isArray(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=o(h[f]),!t[l].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");path+=(0===f?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?R(h,!0):o(h),!t[l].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');path+=c.prefix+d}}else path+=c}return path}}(function(e,t){var n,r=[],o=0,l=0,path="",c=t&&t.delimiter||"/";for(;null!=(n=C.exec(e));){var h=n[0],d=n[1],f=n.index;if(path+=e.slice(l,f),l=f+h.length,d)path+=d[1];else{var m=e[l],_=n[2],v=n[3],y=n[4],x=n[5],w=n[6],T=n[7];path&&(r.push(path),path="");var S=null!=_&&null!=m&&m!==_,M="+"===w||"*"===w,E="?"===w||"*"===w,L=n[2]||c,pattern=y||x;r.push({name:v||o++,prefix:_||"",delimiter:L,optional:E,repeat:M,partial:S,asterisk:Boolean(T),pattern:pattern?F(pattern):T?".*":"[^"+I(L)+"]+?"})}}l<e.length&&(path+=e.substr(l));path&&r.push(path);return r}(e,t))}function P(e,t){var n={},r=d({},e,{},t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function O(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return d({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(e){window.onNuxtReadyCbs.push(e)};var C=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function R(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function I(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function F(e){return e.replace(/([=!:$/()])/g,"\\$1")}function N(e,t){var n,o=e.indexOf("://");-1!==o?(n=e.substring(0,o),e=e.substring(o+3)):e.startsWith("//")&&(e=e.substring(2));var l,c=e.split("/"),h=(n?n+"://":"//")+c.shift(),path=c.filter(Boolean).join("/");if(2===(c=path.split("#")).length){var d=c,f=Object(r.a)(d,2);path=f[0],l=f[1]}return h+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(h+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map((function(t){var n=e[t];return null==n?"":Array.isArray(n)?n.slice().map((function(e){return[t,"=",e].join("")})).join("&"):t+"="+n})).filter(Boolean).join("&")}(t)),h+=l?"#"+l:""}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"loadLanguageAsync",(function(){return c})),n.d(t,"validateRouteParams",(function(){return d})),n.d(t,"getLocaleDomain",(function(){return f})),n.d(t,"getLocaleFromRoute",(function(){return m})),n.d(t,"syncVuex",(function(){return _}));n(29),n(72),n(4),n(33);var r=n(51),o=(n(9),n(5),n(228),n(7)),l=(n(109),n(71),n(84),n(36),n(0));function c(e,t){var n,r;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:(n=e.app).i18n.loadedLanguages||(n.i18n.loadedLanguages=[]),n.i18n.loadedLanguages.includes(t)||(r=n.i18n.locales.find((function(e){return e[l.b]===t})))&&(r[l.d]||console.warn("[".concat(l.f,"] Could not find lang file for locale ").concat(t)));case 3:case"end":return o.stop()}}))}var h=function(e){return e&&!Array.isArray(e)&&"object"===Object(o.a)(e)},d=function(e){h(e)?Object.entries(e).forEach((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];l.p.includes(n)?h(o)||console.warn("[".concat(l.f,"] Trying to set route params for locale ").concat(n," with a non-object value")):console.warn("[".concat(l.f,"] Trying to set route params for key ").concat(n," which is not a valid locale"))})):console.warn("[".concat(l.f,"] Route params should be an object"))},f=function(e,t){var n=(e.forwardedHost,window.location.href.split("/")[2]);if(n){var r=e.locales.find((function(e){return e[l.c]===n}));if(r)return r[l.b]}return null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="(".concat(l.p.join("|"),")"),n="(?:".concat(l.t).concat(l.k,")?");if(e.name){var r=new RegExp("".concat(l.t).concat(t).concat(n,"$"),"i"),o=e.name.match(r);if(o&&o.length>1)return o[1]}else if(e.path){var c=new RegExp("^/".concat(t,"/"),"i"),h=e.path.match(c);if(h&&h.length>1)return h[1]}return null},_=function(e){var t,n,r=arguments;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=r.length>1&&void 0!==r[1]?r[1]:null,n=r.length>2&&void 0!==r[2]?r[2]:null,!l.w||!e){o.next=9;break}if(null===t||!l.w.syncLocale){o.next=6;break}return o.next=6,regeneratorRuntime.awrap(e.dispatch(l.w.moduleName+"/setLocale",t));case 6:if(null===n||!l.w.syncMessages){o.next=9;break}return o.next=9,regeneratorRuntime.awrap(e.dispatch(l.w.moduleName+"/setMessages",n));case 9:case"end":return o.stop()}}))}},,function(e,t,n){"use strict";n(53),n(31),n(9),n(21),n(5),n(36);var r=n(11),o=(n(4),n(2)),l=n(75),c=n(118),h=n.n(c),d=n(62),f=n.n(d),m=n(119),_=n(3),v=function(){return Object(_.j)(n.e(2).then(n.bind(null,285)))},y=function(){return Object(_.j)(n.e(3).then(n.bind(null,284)))},x=function(){return Object(_.j)(n.e(4).then(n.bind(null,287)))},w=function(){return Object(_.j)(n.e(6).then(n.bind(null,283)))},T=function(){return Object(_.j)(n.e(9).then(n.bind(null,282)))},S=function(){return Object(_.j)(n.e(8).then(n.bind(null,286)))},M=function(){return Object(_.j)(n.e(7).then(n.bind(null,280)))},E=function(){return Object(_.j)(n.e(5).then(n.bind(null,281)))};o.a.use(m.a);var L={mode:"history",base:decodeURI("/"),linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(e,t,n){return{x:0,y:0}},routes:[{path:"/404",component:v,name:"404___ja"},{path:"/en/404",component:v,name:"404___en"},{path:"/about",component:y,name:"about___ja"},{path:"/en/about",component:y,name:"about___en"},{path:"/contact",component:x,name:"contact___ja"},{path:"/en/contact",component:x,name:"contact___en"},{path:"/reel",component:w,name:"reel___ja"},{path:"/en/reel",component:w,name:"reel___en"},{path:"/works",component:T,name:"works___ja"},{path:"/en/works",component:T,name:"works___en"},{path:"/works/category/:slug?",component:S,name:"works-category-slug___ja"},{path:"/en/works/category/:slug?",component:S,name:"works-category-slug___en"},{path:"/works/:slug",component:M,name:"works-slug___ja"},{path:"/en/works/:slug",component:M,name:"works-slug___en"},{path:"/",component:E,name:"index___ja"},{path:"/en/",component:E,name:"index___en"}],fallback:!1};var k={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props;data.nuxtChild=!0;for(var o=n,l=n.$nuxt.nuxt.transitions,c=n.$nuxt.nuxt.defaultTransition,h=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&h++,n=n.$parent;data.nuxtChildDepth=h;var d=l[h]||c,f={};A.forEach((function(e){void 0!==d[e]&&(f[e]=d[e])}));var m={};P.forEach((function(e){"function"==typeof d[e]&&(m[e]=d[e].bind(o))}));var _=m.beforeEnter;if(m.beforeEnter=function(e){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),_)return _.call(o,e)},!1===d.css){var v=m.leave;(!v||v.length<2)&&(m.leave=function(e,t){v&&v.call(o,e),o.$nextTick(t)})}var y=e("routerView",data);return r.keepAlive&&(y=e("keep-alive",{props:r.keepAliveProps},[y])),e("transition",{props:f,on:m},[y])}},A=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],P=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],O={name:"NuxtError",props:{error:{type:Object,default:null}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"}]}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}}},C=(n(202),n(26)),R=Object(C.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__nuxt-error-page"},[n("div",{staticClass:"error"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),e._v(" "),n("div",{staticClass:"title"},[e._v(e._s(e.message))]),e._v(" "),404===e.statusCode?n("p",{staticClass:"description"},[n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[e._v("Back to the home page")])],1):e._e(),e._v(" "),e._m(0)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[this._v("Nuxt.js")])])}],!1,null,null,null).exports,I=(n(41),n(42),n(22),n(51)),F={name:"Nuxt",components:{NuxtChild:k,NuxtError:R},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(_.b)(this.$route.matched[0].path)(this.$route.params);var e=Object(I.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var n=t.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){o.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occured while showing the error page"),e("p","Unfortunately an error occured and while showing the error page another error occured"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(R,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}},N=(n(35),n(204),n(30),n(63)),z={props:["user","lang"],methods:{onLangTransition:function(e){var t=e.target.querySelectorAll("a");if(t.length){var path=t[0].getAttribute("href");routeTransition.onLangTransition(this.$router,path)}},onNormalLogoTransition:function(){routeTransition.onNormalTransition("home")},onNormalTransition:function(e){routeTransition.onNormalTransition(e)},onMenuToggle:function(e){styleMenu.__Flag_open__?styleMenu.onClose():styleMenu.onOpen()},onToggleEnter:function(e){frontGL.__LOGO__.onMouseLoEnter(),e.target.querySelectorAll(".t div").forEach((function(e,i){var t=new TimelineLite;t.to(e,.4,{x:"100%",delay:.1*i,ease:Power2.easeInOut}),t.set(e,{x:"-100%"}),t.to(e,.4,{x:"0%",ease:Power2.easeOut})}))},onMouseEnterLogo:function(){frontGL.__LOGO__.onMouseEnter()},onMouseMoveLogo:function(e){frontGL.__LOGO__.onMouseMove(e,e.target)},onMouseLeaveLogo:function(){frontGL.__LOGO__.onMouseLeave()}}},D={props:["user","pickups"],methods:{onDragStart:function(e){mouse.onDragStart(e)}}},G={props:["user","lang","pages"],methods:{onMenuTransition:function(e){var t=e.target.dataset.name;routeTransition.onMenuTransition(t)},onNormalTransition:function(e){routeTransition.onNormalTransition(e)},onMouseEnter:function(e){styleMenu.onMouseEnter(e)},onMouseLeave:function(e){styleMenu.onMouseLeave(e)}}};function U(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var B={methods:{},components:{siteHeader:Object(C.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"site-header"},[n("div",{staticClass:"logo-wrap side"},[n("div",{staticClass:"logo-body"},[n("h1",{staticClass:"logo-h1 ui-splash-in"},[n("nuxt-link",{staticClass:"logo-a flip-a-wrap js--hover no-events",attrs:{to:e.localePath("index")},nativeOn:{click:function(t){return e.onNormalTransition("home")}}},[n("span",{staticClass:"flip-a"},[n("span",{staticClass:"t"},[n("span",{staticClass:"f js--slide-down"},[n("span",{staticClass:"s"},[e._v("maxilla")])]),e._v(" "),n("span",{staticClass:"b ja"},[n("span",{staticClass:"s"},[e._v("マキシラ")])])])])])],1),e._v(" "),e.user.isMobile?e._e():n("div",{staticClass:"ui-lang ui-splash-in"},["ja"===e.lang?n("div",{staticClass:"ui-lang-a js--hover flip-a-wrap no-events",on:{click:e.onLangTransition}},[n("nuxt-link",{staticClass:"in flip-a ui-lang-ul",attrs:{to:e.switchLocalePath("en")}},[n("span",{staticClass:"t"},[n("span",{staticClass:"f js--slide-down"},[n("span",{staticClass:"s"},[e._v("en")])]),e._v(" "),n("span",{staticClass:"b"},[n("span",{staticClass:"s"},[e._v("en")])])])])],1):n("div",{staticClass:"ui-lang-a js--hover flip-a-wrap no-events",on:{click:e.onLangTransition}},[n("nuxt-link",{staticClass:"in flip-a ui-lang-ul",attrs:{to:e.switchLocalePath("ja")}},[n("span",{staticClass:"t"},[n("span",{staticClass:"f js--slide-down"},[n("span",{staticClass:"s"},[e._v("ja")])]),e._v(" "),n("span",{staticClass:"b"},[n("span",{staticClass:"s"},[e._v("ja")])])])])],1)])])]),e._v(" "),n("nuxt-link",{staticClass:"logo-icon js--hover side ui-fade-out",attrs:{to:e.localePath("index"),"aria-label":"maxilla"},nativeOn:{click:function(t){return e.onNormalLogoTransition(t)},mouseenter:function(t){return e.onMouseEnterLogo(t)},mousemove:function(t){return e.onMouseMoveLogo(t)},mouseleave:function(t){return e.onMouseLeaveLogo(t)}}},[n("div",{staticClass:"in"},[e.user.isDesktop?n("div",{staticClass:"logo-svg logo-img"}):n("svg",{staticClass:"logo-svg logo-svg-mobile",attrs:{viewBox:"0 0 100 100"}},[n("title",[e._v("maxilla")]),e._v(" "),n("path",{attrs:{d:"M70.1,48.5c-0.8-0.5-1.8-0.9-2.7-0.8c-0.9,0.1-0.6-0.1-0.3-0.1c0,0-0.8,0.1-1.5,0.4c-0.8,0.3-2.7,0.9-3.4,1.2 c-0.7,0.3-1.4,0.8-2.2,1.6c-0.9,0.9-1.2,1.4-1.9,1.9c-0.7,0.5-0.9,0.8-1.4,0.9c-0.6,0.1-0.4,0-0.2-0.5c0.2-0.4,0.7-1.4,1-1.9 c0.3-0.5,0.9-1.6,2.2-2.3c1.3-0.7,3.8-1.6,5.3-2.5c1.5-0.9,3.1-2.1,3.6-3.3c0.5-1.3,0.7-1.9,0-3.7c-0.7-1.8-1.3-3.5-1.6-4.3 c-0.3-0.7-1-2.3-1.3-2.5c-0.3-0.2-0.6-0.2-0.7-0.5c-0.1-0.3-1.2-3.9-1.9-4.9c-0.7-1-0.8-1.2-0.9-1.1c-0.1,0.1,0.2,1.2,0.3,1.7 c0.1,0.5,0.7,2.2,0.9,2.9c0.2,0.7,0.4,1.7,0.7,2.6c0.3,0.9,0.9,3.3,1.2,4.1c0.3,0.8,0.7,2,0.9,2.9c0.2,0.9,0.5,2.2-0.3,3.1 c-0.8,0.9-1.5,1.3-1.5,1.3s0.2-1.6-0.1-3.2c-0.3-1.5-0.1-2.3-0.2-3.2c-0.1-0.9-0.2-3-0.5-4.2c-0.3-1.2-0.7-2.1-1.1-2.5 c-0.4-0.4-0.4,0-0.2,0.4c0.2,0.5,0.8,3.1,0.8,3.7c0,0.7,0.1,2.2,0,2.7c-0.1,0.5,0,2.4,0,3c0.1,0.6,0.2,2.2,0,2.9 c-0.2,0.7,0,1.2-1.1,1.5c-1.1,0.3-2.6,0.8-3.5,1.4c-1,0.6-1.3,1-1.7,1.2c-0.3,0.2-0.9,0.5-1.2,0c-0.3-0.5-0.8-1.3-1.1-1.8 c-0.3-0.5-0.5-1.4-0.4-1.8c0.1-0.4-0.1-1.2-0.1-1.6c0-0.4,0-1.1-0.1-1.2c-0.2,0-0.3,0.3-0.3,0.9c0,0.7-0.1,1.3-0.2,1.8 c-0.1,0.4-0.3,1.5,0.1,2.3c0.4,0.9,0.9,1.7,1.1,2.3c0.2,0.6,0.3,1.3,0,1.4c-0.2,0.2-0.4,0.1-0.2,0c0.2-0.2,0.2-0.3,0-0.2 c-0.2,0.1-0.5,0.3-0.4,0.1c0.2-0.2-0.2,0.1-0.5,0.2c-0.3,0.1-0.8,0.1-1.3,0.2c0,0-0.9-0.4-2.2-0.4c-1.3,0-2.2,0.4-2.2,0.4 c-0.4-0.1-1-0.1-1.3-0.2c-0.3-0.1-0.7-0.4-0.5-0.2c0.2,0.2-0.2,0-0.4-0.1c-0.2-0.1-0.1,0,0,0.2c0.2,0.2,0,0.2-0.2,0 c-0.2-0.2-0.2-0.9,0-1.4c0.2-0.5,0.7-1.4,1.1-2.3c0.4-0.9,0.2-1.9,0.1-2.3c-0.1-0.4-0.1-1.1-0.2-1.8c0-0.7-0.2-1-0.3-0.9 c-0.2,0-0.1,0.8-0.1,1.2c0,0.4-0.2,1.2-0.1,1.6c0.1,0.4-0.2,1.3-0.4,1.8c-0.3,0.5-0.8,1.4-1.1,1.8c-0.3,0.5-0.8,0.2-1.2,0 c-0.3-0.2-0.7-0.6-1.7-1.2c-1-0.6-2.5-1.1-3.5-1.4c-1.1-0.3-0.9-0.8-1.1-1.5c-0.2-0.7,0-2.3,0-2.9s0.1-2.5,0-3 c-0.1-0.5,0.1-2.1,0-2.7c0-0.7,0.6-3.3,0.8-3.7c0.2-0.4,0.1-0.9-0.2-0.4c-0.4,0.4-0.8,1.3-1.1,2.5c-0.3,1.2-0.4,3.3-0.5,4.2 c-0.1,0.9,0,1.7-0.2,3.2c-0.3,1.5-0.1,3.2-0.1,3.2s-0.7-0.4-1.5-1.3c-0.8-0.9-0.5-2.2-0.3-3.1c0.2-0.9,0.6-2.2,0.9-2.9 c0.3-0.8,0.9-3.2,1.2-4.1c0.3-0.9,0.5-1.8,0.7-2.6c0.2-0.7,0.8-2.4,0.9-2.9c0.1-0.5,0.4-1.6,0.3-1.7c-0.1-0.1-0.2,0-0.9,1.1 c-0.7,1-1.8,4.6-1.9,4.9c-0.1,0.3-0.4,0.3-0.7,0.5c-0.3,0.2-1,1.8-1.3,2.5c-0.3,0.7-0.9,2.5-1.6,4.3c-0.7,1.8-0.5,2.4,0,3.7 c0.5,1.3,2.1,2.4,3.6,3.3c1.5,0.9,4,1.7,5.3,2.5c1.3,0.7,1.8,1.8,2.2,2.3c0.3,0.5,0.8,1.5,1,1.9c0.2,0.4,0.4,0.6-0.2,0.5 c-0.6-0.1-0.8-0.4-1.4-0.9c-0.7-0.5-1-1.1-1.9-1.9c-0.9-0.9-1.5-1.3-2.2-1.6c-0.7-0.3-2.6-0.9-3.4-1.2c-0.8-0.3-1.5-0.4-1.5-0.4 c0.3,0.1,0.6,0.3-0.3,0.1c-0.9-0.1-1.9,0.3-2.7,0.8C29,49,30.1,50.2,31,51.7c0.9,1.5,1.8,3,2.9,4.4c1.1,1.4,2.7,1.5,4,1.9 c1.3,0.3,2,0.4,2.4,1c0.3,0.6,0.8,1.1,0.9,1.3c0.1,0.2,0.3,0.1,0.2,0.4c-0.1,0.3,0,0.1,0.1,0c0.1-0.1,0,0.2,0.2,0.3 c0.2,0.1,0.2,0.2,0.1,0.4c0,0.2-0.1,0.5,0.1,2.4c0.2,1.9,2.1,6.2,3.2,6.9c0.4,0.3,1.1,0.4,1.2,0.9c0.1,0.5,0.4,0.9,0.9,1.1 c0.5,0.3,0.8,1.2,2,1.3h1.7c1.3-0.1,1.6-1,2-1.3c0.5-0.3,0.8-0.6,0.9-1.1c0.1-0.5,0.8-0.6,1.2-0.9c1-0.8,3-5,3.2-6.9 c0.2-1.9,0.1-2.2,0.1-2.4c0-0.2,0-0.3,0.1-0.4c0.2-0.1,0.1-0.4,0.2-0.3c0.1,0.1,0.2,0.3,0.1,0c-0.1-0.3,0.1-0.3,0.2-0.4 c0.2-0.2,0.6-0.7,0.9-1.3c0.3-0.6,1-0.7,2.4-1c1.3-0.3,2.8-0.4,4-1.9c1.1-1.4,2.1-2.9,2.9-4.4C69.9,50.2,71,49,70.1,48.5z"}})])])]),e._v(" "),n("div",{staticClass:"ui-toggle js--hover side no-events ui-splash-in",on:{click:e.onMenuToggle,mouseenter:e.onToggleEnter}},[e._m(0)])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ui-toggle-in"},[t("div",{staticClass:"ui-toggle-body"},[t("div",{staticClass:"in"},[t("div",{staticClass:"t t1"},[t("div")]),this._v(" "),t("div",{staticClass:"t t2"},[t("div")])])])])}],!1,null,null,null).exports,siteFooter:Object(C.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"site-footer no-events"},[n("canvas",{staticClass:"gl",attrs:{id:"js--gl-back"}}),e._v(" "),n("canvas",{staticClass:"gl",attrs:{id:"js--gl-front"}}),e._v(" "),n("div",{attrs:{id:"js--video"}}),e._v(" "),n("div",{staticClass:"js--scroll-height"}),e._v(" "),n("div",{staticClass:"site-control site-control-progress side",on:{mousedown:e.onDragStart}},[n("div",{staticClass:"in"},[n("div",{staticClass:"site-control-in ui-fade-out"},[n("div",{staticClass:"in ui-fade"},[e.user.isDesktop?n("div",{staticClass:"site-control-body flip-vr ja",attrs:{"data-type":"text"}},[e._m(0)]):e._e(),e._v(" "),e._m(1)])]),e._v(" "),n("div",{staticClass:"site-control-in ui-fade-out"},[n("div",{staticClass:"in ui-fade"},[n("div",{staticClass:"site-control-body",attrs:{"data-type":"progress"}},[n("svg",{staticClass:"progress-svg",attrs:{viewBox:"0 0 200 200"}},[n("path",{staticClass:"path progress-b",attrs:{d:"M100,20a80,80,0,1,1-80,80,80,80,0,0,1,80-80"}}),e._v(" "),n("path",{staticClass:"path progress-f",attrs:{d:"M100,20a80,80,0,1,1-80,80,80,80,0,0,1,80-80"}})])])])])])]),e._v(" "),n("div",{staticClass:"site-mask"}),e._v(" "),n("div",{staticClass:"site-loading"})])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flip-vr-wrap"},[t("div",{staticClass:"flip-vr-body"},[t("div",{staticClass:"flex"},[t("span",{staticClass:"f ja ja2 js--slide-leave"},[this._v("読込")])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"site-control-body ja",attrs:{"data-type":"counter"}},[n("div",{staticClass:"site-control-counter-body in"},[n("div",{staticClass:"site-control-counter-ol"},[n("div",{staticClass:"site-control-counter-move"},[n("span",[e._v("五")]),e._v(" "),n("span",[e._v("四")]),e._v(" "),n("span",[e._v("三")]),e._v(" "),n("span",[e._v("二")]),e._v(" "),n("span",[e._v("一")])])])])])}],!1,null,null,null).exports,siteMenu:Object(C.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"site-nav"},[n("div",{staticClass:"in"},[e.user.isMobile?n("div",{staticClass:"ui-lang ui-fade"},["ja"===e.lang?n("nuxt-link",{staticClass:"flip-a-wrap",attrs:{to:e.switchLocalePath("en")},nativeOn:{click:function(t){return e.onNormalTransition("lang")}}},[n("div",{staticClass:"clip-w clip-p"},[n("div",{staticClass:"in flip-a ui-lang-ul clip-t"},[n("span",{staticClass:"t"},[n("span",{staticClass:"f"},[e._v("en")]),e._v(" "),n("span",{staticClass:"b"},[e._v("en")])])])])]):n("nuxt-link",{staticClass:"flip-a-wrap",attrs:{to:e.switchLocalePath("ja")},nativeOn:{click:function(t){return e.onNormalTransition("lang")}}},[n("div",{staticClass:"clip-w clip-p"},[n("div",{staticClass:"in flip-a ui-lang-ul clip-t"},[n("span",{staticClass:"t"},[n("span",{staticClass:"f"},[e._v("ja")]),e._v(" "),n("span",{staticClass:"b"},[e._v("ja")])])])])])],1):e._e(),e._v(" "),n("nav",{staticClass:"site-nav-body"},[n("div",{staticClass:"body"},[n("div",{staticClass:"site-nav-in in"},[n("div",{staticClass:"site-nav-left section section-information"},[e.user.isMobile?e._e():n("div",{staticClass:"site-nav-address flex-li clip-w clip-p"},[n("div",{staticClass:"clip-t"},[n("div",{staticClass:"h3"},[e._v("Japan")]),e._v(" "),e.pages.company.address_lang?n("div",{staticClass:"p"},[n("p",{domProps:{innerHTML:e._s(e.pages.company.address_lang[e.lang])}}),e._v(" "),n("a",{attrs:{href:e.pages.company.address_link,target:"_blank",rel:"noopener"}},[e._v("map")])]):e._e()])]),e._v(" "),e._m(0)]),e._v(" "),n("ul",{staticClass:"site-nav-right site-nav-ul"},[n("li",{staticClass:"site-nav-li clip-p"},[n("div",{staticClass:"clip-w"},[n("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:e.localePath("works"),"data-name":"works"},nativeOn:{click:function(t){return e.onMenuTransition(t)},mouseenter:function(t){return e.onMouseEnter(t)},mouseleave:function(t){return e.onMouseLeave(t)}}},[n("span",{staticClass:"t"},[n("span",{staticClass:"f"},[n("span",{staticClass:"s"},[e._v("Works")])]),e._v(" "),n("span",{staticClass:"b gs2"},[n("span",{staticClass:"s"},[e._v("Works")])])])])],1)]),e._v(" "),n("li",{staticClass:"site-nav-li clip-p"},[n("div",{staticClass:"clip-w"},[n("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:e.localePath("about"),"data-name":"about"},nativeOn:{click:function(t){return e.onMenuTransition(t)},mouseenter:function(t){return e.onMouseEnter(t)},mouseleave:function(t){return e.onMouseLeave(t)}}},[n("span",{staticClass:"t"},[n("span",{staticClass:"f"},[n("span",{staticClass:"s"},[e._v("About")])]),e._v(" "),n("span",{staticClass:"b gs2"},[n("span",{staticClass:"s"},[e._v("About")])])])])],1)]),e._v(" "),n("li",{staticClass:"site-nav-li clip-p"},[n("div",{staticClass:"clip-w"},[n("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:e.localePath("contact"),"data-name":"contact"},nativeOn:{click:function(t){return e.onMenuTransition(t)},mouseenter:function(t){return e.onMouseEnter(t)},mouseleave:function(t){return e.onMouseLeave(t)}}},[n("span",{staticClass:"t"},[n("span",{staticClass:"f"},[n("span",{staticClass:"s"},[e._v("Contact")])]),e._v(" "),n("span",{staticClass:"b gs2"},[n("span",{staticClass:"s"},[e._v("Contact")])])])])],1)]),e._v(" "),n("li",{staticClass:"site-nav-li clip-p"},[n("div",{staticClass:"clip-w"},[n("nuxt-link",{staticClass:"site-nav-a clip-t",attrs:{to:e.localePath("reel"),"data-name":"reel"},nativeOn:{click:function(t){return e.onMenuTransition(t)},mouseenter:function(t){return e.onMouseEnter(t)},mouseleave:function(t){return e.onMouseLeave(t)}}},[n("span",{staticClass:"t"},[n("span",{staticClass:"f"},[n("span",{staticClass:"s"},[e._v("Reel")])]),e._v(" "),n("span",{staticClass:"b gs2"},[n("span",{staticClass:"s"},[e._v("Reel")])])])])],1)])])])])]),e._v(" "),e._m(1),e._v(" "),e._m(2)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flip-btn-wrap"},[t("div",{staticClass:"clip-w clip-p"},[t("a",{staticClass:"flip-btn flip-a clip-t",attrs:{href:"https://cult.maxilla.jp/",target:"_blank",rel:"noopener"}},[t("span",{staticClass:"t"},[t("span",{staticClass:"f"},[this._v("culture")]),this._v(" "),t("span",{staticClass:"b"},[this._v("culture")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("small",{staticClass:"site-copy"},[t("span",{staticClass:"clip-w clip-p"},[t("span",{staticClass:"clip-t"},[this._v("© 2019 maxilla.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"site-nav-footer"},[t("div",{staticClass:"site-nav-sns p-r p-b"},[t("ul",[t("li",{staticClass:"clip-w clip-p"},[t("a",{staticClass:"clip-t flip-a",attrs:{href:"https://twitter.com/maxillajp",target:"_blank",rel:"noopener","aria-label":"Twitter"}},[t("span",{staticClass:"t"},[t("span",{staticClass:"i i-sns-tw f"}),this._v(" "),t("span",{staticClass:"i i-sns-tw b"})])])]),this._v(" "),t("li",{staticClass:"clip-w clip-p"},[t("a",{staticClass:"clip-t flip-a",attrs:{href:"https://www.facebook.com/maxillajp/",target:"_blank",rel:"noopener","aria-label":"Facebook"}},[t("span",{staticClass:"t"},[t("span",{staticClass:"i i-sns-fb f"}),this._v(" "),t("span",{staticClass:"i i-sns-fb b"})])])]),this._v(" "),t("li",{staticClass:"clip-w clip-p"},[t("a",{staticClass:"clip-t flip-a",attrs:{href:"https://www.instagram.com/maxillajp/",target:"_blank",rel:"noopener","aria-label":"Instagram"}},[t("span",{staticClass:"t"},[t("span",{staticClass:"i i-sns-ig f"}),this._v(" "),t("span",{staticClass:"i i-sns-ig b"})])])])])])])}],!1,null,null,null).exports},watch:{page:function(e){window.routeTransition.onInit(e)}},mounted:function(){var e=this;this.$nextTick((function(){function t(e){return-1!=window.navigator.userAgent.toLowerCase().indexOf(e)}window.__IS_PICKUP__=!1,window.WebFont=n(222),window.isMobile=n(223),window.isMobileFixed={phone:!1,tablet:!1,desktop:!0,any:!1},0===__WW__?location.reload():isMobile.phone||__WW__<640?(isMobileFixed.any=!0,isMobileFixed.phone=!0,isMobileFixed.tablet=!1,isMobileFixed.desktop=!1,$html.classList.add("is-mobile"),__LEGACY__=!1,__MIDSPEC__=!1):isMobile.tablet||__WW__<1024||!t("ipad")&&t("macintosh")&&"ontouchend"in document?(isMobileFixed.any=!0,isMobileFixed.phone=!1,isMobileFixed.tablet=!0,isMobileFixed.desktop=!1,$html.classList.add("is-tablet"),__LEGACY__=!1,__MIDSPEC__=!1):(isMobileFixed.any=!1,isMobileFixed.phone=!1,isMobileFixed.tablet=!1,isMobileFixed.desktop=!0,$html.classList.add("is-desktop")),__LOWSPEC__&&(isMobileFixed.any=!0,isMobileFixed.phone=!1,isMobileFixed.tablet=!0,isMobileFixed.desktop=!1,$html.classList.add("is-tablet")),e.$store.commit("updateUserData",{isDesktop:!isMobileFixed.any,isTablet:isMobileFixed.tablet,isMobile:isMobileFixed.phone,isLegacy:__LEGACY__,isLowspec:__LOWSPEC__,isRetina:__IS_RETINA__}),$html.classList.add("is-loading-before");var r=e.$store.getters.page.name;window.__IS_PICKUP_MAX__=8;for(var o=[],i=0;i<__IS_PICKUP_MAX__;i++)o.push(e.$store.getters.pickups[i]);e.$store.commit("updatePickups",o),"index___ja"===r||"index___en"===r?__PAGE_TYPE__="home":"works___ja"===r||"works-category-slug___ja"===r||"works___en"===r||"works-category-slug___en"===r?__PAGE_TYPE__="works":"reel___ja"===r||"reel___en"===r?__PAGE_TYPE__="reel":"about___ja"===r||"about___en"===r?__PAGE_TYPE__="about":"contact___ja"===r||"contact___en"===r?__PAGE_TYPE__="contact":"works-slug___ja"===r||"works-slug___en"===r?__PAGE_TYPE__="single":"404___ja"!==r&&"404___en"!==r||(__PAGE_TYPE__="404"),window.__POSTS__=[];for(o=[],i=e.$store.getters.pickups.length-1;i>=e.$store.getters.pickups.length-3;i--){var l=e.$store.getters.pickups[i],c={post_title_array:l.post_title_array,selected:!1,index:0,is_clone:!0,type:l.type,post_id:l.post_id,slug:l.slug,center:!1,is_loaded_data:!1,is_load_meta:!1,is_loaded_meta:!1,size:{ratio:0,origin:{w:l.size.w,h:l.size.h},scaled:{w:0,h:0},zoomed:{w:0,h:0}},title:{mesh:null,tex:null,pos:{x:0,y:0,px:0,py:0}},plane:{mesh:null,pos:{x:0,y:0,px:0,py:0}},img:{src:{d1x:l.img.src.d1x,d2x:l.img.src.d2x},tex:null},video:{el:null,tex:null,mp4:l.video.mp4,mp4_1x:l.video.mp4_1x,mp4_2x:l.video.mp4_2x,webm:l.video.webm}};o.push(c)}for(i=o.length-1;i>=0;i--)__POSTS__.push(o[i]);for(i=0;i<e.$store.getters.pickups.length;i++){var h=e.$store.getters.pickups[i],d={post_title_array:h.post_title_array,selected:!1,index:0,is_clone:!1,type:h.type,post_id:h.post_id,slug:h.slug,center:!1,is_loaded_data:!1,is_load_meta:!1,is_loaded_meta:!1,size:{ratio:0,origin:{w:h.size.w,h:h.size.h},scaled:{w:0,h:0},zoomed:{w:0,h:0}},title:{mesh:null,tex:null,pos:{x:0,y:0,px:0,py:0}},plane:{mesh:null,pos:{x:0,y:0,px:0,py:0}},img:{src:{d1x:h.img.src.d1x,d2x:h.img.src.d2x},tex:null},video:{el:null,tex:null,mp4:h.video.mp4,mp4_1x:h.video.mp4_1x,mp4_2x:h.video.mp4_2x,webm:h.video.webm}};__POSTS__.push(d)}for(i=0;i<3;i++){var f=e.$store.getters.pickups[i],m={post_title_array:f.post_title_array,selected:!1,index:0,is_clone:!0,type:f.type,post_id:f.post_id,slug:f.slug,center:!1,is_loaded_data:!1,is_load_meta:!1,is_loaded_meta:!1,size:{ratio:0,origin:{w:f.size.w,h:f.size.h},scaled:{w:0,h:0},zoomed:{w:0,h:0}},title:{mesh:null,tex:null,pos:{x:0,y:0,px:0,py:0}},plane:{mesh:null,pos:{x:0,y:0,px:0,py:0}},img:{src:{d1x:f.img.src.d1x,d2x:f.img.src.d2x},tex:null},video:{el:null,tex:null,mp4:f.video.mp4,mp4_1x:f.video.mp4_1x,mp4_2x:f.video.mp4_2x,webm:f.video.webm}};__POSTS__.push(m)}for(i=__POSTS__.length-1;i>=0;i--)__POSTS__[i].index=i;n(224),onceDOM(),onceGL()}))},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):U(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(N.b)(["pickups","page","pages","user"]))},j={_default:Object(C.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"__app"}},[n("site-header",{attrs:{user:e.user,lang:this.$i18n.locale}}),e._v(" "),n("site-menu",{attrs:{user:e.user,lang:this.$i18n.locale,pages:e.pages}}),e._v(" "),n("nuxt"),e._v(" "),n("site-footer",{attrs:{pickups:e.pickups,user:e.user}})],1)}),[],!1,null,null,null).exports},W={head:{title:"maxilla",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"og:site_name",property:"og:site_name",content:"maxilla"},{hid:"og:type",property:"og:type",content:"website"},{hid:"og:title",property:"og:title",content:"maxilla"},{hid:"og:description",property:"og:description",content:"maxilla/マキシラ is a visual studio based in Tokyo city, established in 2009. We love .MOV .JPG .HTML .PDF .GIF .WAV .AI .OBJ .AEP . ... and ZIP."},{hid:"og:image",property:"og:image",content:"https://mxresource.s3-ap-northeast-1.amazonaws.com/assets/img/ogp.png"},{name:"msapplication-TileColor",content:"#040404"},{name:"theme-color",content:"#040404"},{name:"format-detection",content:"telephone=no"},{"http-equiv":"X-UA-Compatible",content:"IE=edge"},{hid:"mobile-web-app-capable",name:"mobile-web-app-capable",content:"yes"},{hid:"apple-mobile-web-app-title",name:"apple-mobile-web-app-title",content:"maxilla"},{hid:"author",name:"author",content:"Kenta Toshikura"},{hid:"description",name:"description",content:"maxilla"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"apple-touch-icon",sizes:"180x180",href:"/assets/img/f/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/assets/img/f/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/assets/img/f/favicon-16x16.png"},{rel:"mask-icon",color:"#040404",href:"/assets/img/f/safari-pinned-tab.svg"},{rel:"manifest",href:"/assets/img/f/manifest.json"},{rel:"preconnect",href:"https://maxilla.jp"},{rel:"preconnect",href:"https://cdn.jsdelivr.net"},{rel:"preconnect",href:"https://maxilla.s3.amazonaws.com"},{rel:"preconnect",href:"https://wp.maxilla.jp"}],style:[],script:[],htmlAttrs:{lang:"en"}},render:function(e,t){var n=e(this.layout||"nuxt"),r=e("div",{domProps:{id:"__layout"},key:this.layoutName},[n]),o=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[r]);return e("div",{domProps:{id:"__nuxt"}},[o])},data:function(){return{isOnline:!0,layout:null,layoutName:""}},beforeCreate:function(){o.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){o.a.prototype.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},computed:{isOffline:function(){return!this.isOnline}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var e,t,n=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:if((e=Object(_.f)(this.$route)).length){r.next=3;break}return r.abrupt("return");case 3:return t=e.map((function(e){var p=[];return e.$options.fetch&&p.push(Object(_.m)(e.$options.fetch,n.context)),e.$options.asyncData&&p.push(Object(_.m)(e.$options.asyncData,n.context).then((function(t){for(var n in t)o.a.set(e.$data,n,t[n])}))),Promise.all(p)})),r.prev=4,r.next=7,regeneratorRuntime.awrap(Promise.all(t));case 7:r.next=13;break;case 9:r.prev=9,r.t0=r.catch(4),Object(_.i)(r.t0),this.error(r.t0);case 13:case"end":return r.stop()}}),null,this,[[4,9]])},setLayout:function(e){return e&&j["_"+e]||(e="default"),this.layoutName=e,this.layout=j["_"+e],this.layout},loadLayout:function(e){return e&&j["_"+e]||(e="default"),Promise.resolve(j["_"+e])}}};n(101),n(71),n(33);o.a.use(N.a);var H=["state","getters","actions","mutations"],V={};(V=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),K(e,t)}(n(225),"store/index.js")).modules=V.modules||{},J(n(115),"actions.js"),J(n(116),"getters.js"),J(n(117),"mutations.js");var Y,X,$,Z=V instanceof Function?V:function(){return new N.a.Store(Object.assign({strict:!1},V))};function K(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return n}})}return e}function J(e,t){e=e.default||e;var n=t.replace(/\.(js|mjs)$/,"").split("/"),r=n[n.length-1],o="store/".concat(t);if(e="state"===r?function(e,t){if("function"!=typeof e){console.warn("".concat(t," should export a method that returns an object"));var n=Object.assign({},e);return function(){return n}}return K(e,t)}(e,o):K(e,o),H.includes(r)){var l=r;ee(Q(V,n,{isProperty:!0}),e,l)}else{"index"===r&&(n.pop(),r=n[n.length-1]);var c=Q(V,n),h=!0,d=!1,f=void 0;try{for(var m,_=H[Symbol.iterator]();!(h=(m=_.next()).done);h=!0){var v=m.value;ee(c,e[v],v)}}catch(e){d=!0,f=e}finally{try{h||null==_.return||_.return()}finally{if(d)throw f}}!1===e.namespaced&&delete c.namespaced}}function Q(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isProperty,r=void 0!==n&&n;if(!t.length||r&&1===t.length)return e;var o=t.shift();return e.modules[o]=e.modules[o]||{},e.modules[o].namespaced=!0,e.modules[o].modules=e.modules[o].modules||{},Q(e.modules[o],t,{isProperty:r})}function ee(e,t,n){t&&("state"===n?e.state=t||e.state:e[n]=Object.assign({},e[n],t))}window.$workbox=regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!1 in navigator)){e.next=2;break}throw new Error("serviceWorker is not supported in current browser!");case 2:return e.next=4,regeneratorRuntime.awrap(n.e(12).then(n.bind(null,279)));case 4:return Y=e.sent,X=Y.Workbox,$=new X("/sw.js",{scope:"/"}),e.next=9,regeneratorRuntime.awrap($.register());case 9:return e.abrupt("return",$);case 10:case"end":return e.stop()}})).catch((function(e){}));n(109);var te=n(176),ie=n(74),ne=n(0),re=n(50);function ae(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function oe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ae(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ae(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function se(e,t){return function(n,r){if(n){var o=this[e];if(ne.u===ne.g.NO_PREFIX&&r&&r!==o.locale&&console.warn("[".concat(ne.f,"] Passing non-current locale to localePath is unsupported when using no_prefix strategy")),r=r||o.locale){"string"==typeof n&&(n={name:n});var l=Object.assign({},n);if(n.path&&!n.name){var path=!(r===ne.j&&ne.u===ne.g.PREFIX_EXCEPT_DEFAULT||ne.u===ne.g.NO_PREFIX||o.differentDomains)?"/".concat(r).concat(n.path):n.path;l.path=path}else{var c=n.name+(ne.u===ne.g.NO_PREFIX?"":ne.t+r);r===ne.j&&ne.u===ne.g.PREFIX_AND_DEFAULT&&(c+=ne.t+ne.k),l.name=c;var h=l.params;h&&void 0===h[0]&&h.pathMatch&&(h[0]=h.pathMatch)}return this[t].resolve(l).route.fullPath}}}}function le(e){return function(t){ne.u===ne.g.NO_PREFIX&&t&&t!==this[e].locale&&console.warn("[".concat(ne.f,"] Passing non-current locale to switchLocalePath is unsupported when using no_prefix strategy"));var n=this.getRouteBaseName();if(!n)return"";var r=this.$route,o=r.params,l=Object(te.a)(r,["params"]),c={};ne.w&&this.$store&&(c=this.$store.getters["".concat(ne.w.moduleName,"/localeRouteParams")](t));var h=Object.assign({},l,{name:n,params:oe({},o,{},c,{0:o.pathMatch})}),path=this.localePath(h,t);if(this[e].differentDomains){var d=this[e].locales.find((function(e){return e[ne.b]===t}));if(d&&d[ne.c])path=window.location.protocol.split(":")[0]+"://"+d[ne.c]+path;else console.warn("[".concat(ne.f,"] Could not find domain name for locale ").concat(t))}return path}}function ce(e){var t=e?function(t){return t||e}:function(e){return e||this.$route};return function(e){return(e=t.call(this,e)).name?e.name.split(ne.t)[0]:null}}ie.a.i18n=function(e){var t,n,r,o,l;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=e.app,n=e.route,r=e.redirect,!e.isHMR){c.next=3;break}return c.abrupt("return");case 3:if("/"!==n.path||!ne.s){c.next=6;break}return r("/"+ne.s,n.query),c.abrupt("return");case 6:if(t.i18n.__route=n,c.t0=ne.l,!c.t0){c.next=12;break}return c.next=11,regeneratorRuntime.awrap(t.i18n.__detectBrowserLanguage(n));case 11:c.t0=c.sent;case 12:if(!c.t0){c.next=14;break}return c.abrupt("return");case 14:return o=t.i18n.locale||t.i18n.defaultLocale||null,l=Object(re.getLocaleFromRoute)(n),c.next=18,regeneratorRuntime.awrap(t.i18n.setLocale(l||o));case 18:case"end":return c.stop()}}))};var he={install:function(e){e.mixin({methods:{localePath:se("$i18n","$router"),switchLocalePath:le("$i18n"),getRouteBaseName:ce()}})}},ue=function(e){var t=e.app,n=e.route;o.a.use(he),t.localePath=se("i18n","router"),t.switchLocalePath=le("i18n"),t.getRouteBaseName=ce(n)},de=(n(84),n(230),n(120)),pe=n.n(de),fe=n(121),me=n(17),_e=function(){var e=this;if(!(l.a.hasMetaInfo?l.a.hasMetaInfo(this):this._hasMetaInfo)||!this.$i18n||!this.$i18n.locale||!this.$i18n.locales||!1===this.$options[ne.a]||this.$options[ne.a]&&!1===this.$options[ne.a].seo)return{};var t=this.$i18n.locales.find((function(t){return t[ne.b]===e.$i18n.locale})),n={};t&&t[ne.e]&&(n.lang=t[ne.e]);var link=[];if(ne.u!==ne.g.NO_PREFIX&&link.push.apply(link,Object(me.a)(this.$i18n.locales.map((function(t){return t[ne.e]?{hid:"alternate-hreflang-"+t[ne.e],rel:"alternate",href:ne.h+e.switchLocalePath(t.code),hreflang:t[ne.e]}:(console.warn("[".concat(ne.f,"] Locale ISO code is required to generate alternate link")),null)})).filter((function(e){return!!e})))),ne.u===ne.g.PREFIX_AND_DEFAULT){var r=this.switchLocalePath(t[ne.b]);r&&r!==this.$route.path&&link.push({hid:"canonical-lang-"+t[ne.b],rel:"canonical",href:ne.h+r})}var meta=[];return t&&t[ne.e]&&meta.push({hid:"og:locale",property:"og:locale",content:t[ne.e].replace(/-/g,"_")}),meta.push.apply(meta,Object(me.a)(this.$i18n.locales.filter((function(e){return e[ne.e]&&e[ne.e]!==t[ne.e]})).map((function(e){return{hid:"og:locale:alternate-"+e[ne.e],property:"og:locale:alternate",content:e[ne.e].replace(/-/g,"_")}})))),{htmlAttrs:n,link:link,meta:meta}};function ge(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ve(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ge(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ge(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}o.a.use(fe.a);var ye,xe,be=function(e){var t,r,l,c,h,d,f,m,_,v,y,x,w,T;return regeneratorRuntime.async((function(S){for(;;)switch(S.prev=S.next){case 0:return t=e.app,r=e.route,l=e.store,c=e.req,e.res,h=e.redirect,ne.w&&l&&l.registerModule(ne.w.moduleName,{namespaced:!0,state:function(){return ve({},ne.w.syncLocale?{locale:""}:{},{},ne.w.syncMessages?{messages:{}}:{},{},ne.w.syncRouteParams?{routeParams:{}}:{})},actions:ve({},ne.w.syncLocale?{setLocale:function(e,t){(0,e.commit)("setLocale",t)}}:{},{},ne.w.syncMessages?{setMessages:function(e,t){(0,e.commit)("setMessages",t)}}:{},{},ne.w.syncRouteParams?{setRouteParams:function(e,t){(0,e.commit)("setRouteParams",t)}}:{}),mutations:ve({},ne.w.syncLocale?{setLocale:function(e,t){e.locale=t}}:{},{},ne.w.syncMessages?{setMessages:function(e,t){e.messages=t}}:{},{},ne.w.syncRouteParams?{setRouteParams:function(e,t){e.routeParams=t}}:{}),getters:ve({},ne.w.syncRouteParams?{localeRouteParams:function(e){var t=e.routeParams;return function(e){return t[e]||{}}}}:{})},{preserveState:!!l.state[ne.w.moduleName]}),d=ne.l.useCookie,f=ne.l.cookieKey,m=function(){if(d)return pe.a.get(f)},_=function(e){if(d){var t=new Date;pe.a.set(f,e,{expires:new Date(t.setDate(t.getDate()+365)),path:"/"})}},v=function(r){var o,c,f,m,_,v,y,x,w,T=arguments;return regeneratorRuntime.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(o=T.length>1&&void 0!==T[1]?T[1]:{},c=o.initialSetup,(f=void 0!==c&&c)||!t.i18n.differentDomains){S.next=3;break}return S.abrupt("return");case 3:if(r!==t.i18n.locale){S.next=5;break}return S.abrupt("return");case 5:if(m=t.i18n.locale,f||(t.i18n.beforeLanguageSwitch(m,r),d&&t.i18n.setLocaleCookie(r)),!ne.o){S.next=14;break}if(_=n(50),v=_.loadLanguageAsync,!t.i18n.fallbackLocale||r===t.i18n.fallbackLocale){S.next=12;break}return S.next=12,regeneratorRuntime.awrap(v(e,t.i18n.fallbackLocale));case 12:return S.next=14,regeneratorRuntime.awrap(v(e,r));case 14:return t.i18n.locale=r,f||t.i18n.onLanguageSwitched(m,r),S.next=18,regeneratorRuntime.awrap(Object(re.syncVuex)(l,r,t.i18n.getLocaleMessage(r)));case 18:f||ne.u===ne.g.NO_PREFIX||(y=t.i18n.__route,x=y&&y.name?t.getRouteBaseName(y):"index",w=t.localePath(Object.assign({},y,{name:x}),r),y&&y.path!==w&&h(w));case 19:case"end":return S.stop()}}))},t.i18n=new fe.a(ne.v),t.i18n.locales=ne.q,t.i18n.defaultLocale=ne.j,t.i18n.differentDomains=ne.m,t.i18n.forwardedHost=ne.n,t.i18n.beforeLanguageSwitch=ne.i,t.i18n.onLanguageSwitched=ne.r,t.i18n.setLocaleCookie=_,t.i18n.getLocaleCookie=m,t.i18n.setLocale=function(e){return v(e)},t.i18n.__route=r,o.a.prototype.$nuxtI18nSeo=_e,l&&(l.$i18n=t.i18n,l.state.localeDomains&&t.i18n.locales.forEach((function(e){e.domain=l.state.localeDomains[e.code]}))),y=t.i18n.defaultLocale||null,t.i18n.differentDomains?(x=Object(re.getLocaleDomain)(t.i18n,c),y=x||y):ne.u!==ne.g.NO_PREFIX?(w=Object(re.getLocaleFromRoute)(r),y=w||y):d&&(T=m(),ne.p.includes(T)&&(y=T)),S.next=23,regeneratorRuntime.awrap(v(y,{initialSetup:!0}));case 23:return t.i18n.__detectBrowserLanguage=function(e){var n,r,o,l;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ne.l){e.next=15;break}if(n=ne.l.alwaysRedirect,r=ne.l.fallbackLocale,d&&(o=m())&&1!==o&&"1"!==o||("undefined"!=typeof navigator&&navigator.language?o=navigator.language.toLocaleLowerCase().substring(0,2):c&&void 0!==c.headers["accept-language"]&&(o=c.headers["accept-language"].split(",")[0].toLocaleLowerCase().substring(0,2))),!o){e.next=15;break}if(d&&!n&&m()){e.next=15;break}if(l=r,ne.p.includes(o)&&(l=o),!l||!ne.p.includes(l)){e.next=14;break}if(l===t.i18n.locale){e.next=13;break}return e.next=11,regeneratorRuntime.awrap(t.i18n.setLocale(l));case 11:e.next=14;break;case 13:d&&!m()&&t.i18n.setLocaleCookie(l);case 14:return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}))},S.next=26,regeneratorRuntime.awrap(t.i18n.__detectBrowserLanguage(r));case 26:case"end":return S.stop()}}))},we=(n(24),0),Te=1,Se=2,Me=1,Ee=2,Le=0,ke=1,Ae=2,Pe=0,Oe=0,Ce=1,Re=2,Ie=3,Fe=4,Ne=5,ze=100,De=101,Ge=102,Ue=103,Be=104,je=200,We=201,He=202,Ve=203,Ye=204,Xe=205,$e=206,qe=207,Ze=208,Ke=209,Je=210,Qe=0,et=1,tt=2,it=3,nt=4,at=5,ot=6,st=7,lt=0,ct=1,ht=2,ut=0,pt=1,ft=2,mt=3,_t=4,gt=5,vt=301,yt=302,xt=303,bt=304,wt=305,Tt=306,St=307,Mt=1e3,Et=1001,Lt=1002,kt=1003,At=1004,Pt=1005,Ot=1006,Ct=1007,Rt=1008,It=1009,Ft=1010,Nt=1011,zt=1012,Dt=1013,Gt=1014,Ut=1015,Bt=1016,jt=1017,Wt=1018,Ht=1019,Vt=1020,Yt=1021,Xt=1022,$t=1023,qt=1024,Zt=1025,Kt=1026,Jt=1027,Qt=1028,ei=33776,ti=33777,ii=33778,ni=33779,ri=35840,ai=35841,oi=35842,si=35843,ci=36196,hi=37808,ui=37809,di=37810,pi=37811,fi=37812,mi=37813,_i=37814,gi=37815,vi=37816,yi=37817,xi=37818,bi=37819,wi=37820,Ti=37821,Si=2201,Mi=2400,Ei=0,Li=1,ki=2,Ai=3e3,Pi=3001,Oi=3007,Ci=3002,Ri=3004,Ii=3005,Fi=3006,Ni=3200,zi=0,Di=1,Gi={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],i=0;i<256;i++)e[i]=(i<16?"0":"")+i.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&o]+e[o>>8&255]+e[o>>16&255]+e[o>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,o){return r+(e-t)*(o-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Gi.DEG2RAD},radToDeg:function(e){return e*Gi.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};n(60);function Ui(){}function Bi(e,t){this.x=e||0,this.y=t||0}Object.assign(Ui.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}}),Object.defineProperties(Bi.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(Bi.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(s){return this.x+=s,this.y+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},addScaledVector:function(e,s){return this.x+=e.x*s,this.y+=e.y*s,this},sub:function(e,t){return void 0!==t?(console.warn("Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(s){return this.x-=s,this.y-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:(ye=new Bi,xe=new Bi,function(e,t){return ye.set(e,e),xe.set(t,t),this.clamp(ye,xe)}),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),s=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*s+e.x,this.y=r*s+o*n+e.y,this}});var ji,Wi,Hi,Vi,Yi,Xi,$i,qi;n(61);function Zi(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Zi.prototype,{isMatrix4:!0,set:function(e,t,n,r,o,l,c,h,d,f,m,_,v,y,x,w){var T=this.elements;return T[0]=e,T[4]=t,T[8]=n,T[12]=r,T[1]=o,T[5]=l,T[9]=c,T[13]=h,T[2]=d,T[6]=f,T[10]=m,T[14]=_,T[3]=v,T[7]=y,T[11]=x,T[15]=w,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Zi).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:(qi=new en,function(e){var t=this.elements,n=e.elements,r=1/qi.setFromMatrixColumn(e,0).length(),o=1/qi.setFromMatrixColumn(e,1).length(),l=1/qi.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*l,t[9]=n[9]*l,t[10]=n[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,o=e.z,a=Math.cos(n),b=Math.sin(n),l=Math.cos(r),c=Math.sin(r),h=Math.cos(o),d=Math.sin(o);if("XYZ"===e.order){var f=a*h,m=a*d,_=b*h,v=b*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+_*c,t[5]=f-v*c,t[9]=-b*l,t[2]=v-f*c,t[6]=_+m*c,t[10]=a*l}else if("YXZ"===e.order){var y=l*h,x=l*d,w=c*h,T=c*d;t[0]=y+T*b,t[4]=w*b-x,t[8]=a*c,t[1]=a*d,t[5]=a*h,t[9]=-b,t[2]=x*b-w,t[6]=T+y*b,t[10]=a*l}else if("ZXY"===e.order){y=l*h,x=l*d,w=c*h,T=c*d;t[0]=y-T*b,t[4]=-a*d,t[8]=w+x*b,t[1]=x+w*b,t[5]=a*h,t[9]=T-y*b,t[2]=-a*c,t[6]=b,t[10]=a*l}else if("ZYX"===e.order){f=a*h,m=a*d,_=b*h,v=b*d;t[0]=l*h,t[4]=_*c-m,t[8]=f*c+v,t[1]=l*d,t[5]=v*c+f,t[9]=m*c-_,t[2]=-c,t[6]=b*l,t[10]=a*l}else if("YZX"===e.order){var S=a*l,M=a*c,E=b*l,L=b*c;t[0]=l*h,t[4]=L-S*d,t[8]=E*d+M,t[1]=d,t[5]=a*h,t[9]=-b*h,t[2]=-c*h,t[6]=M*d+E,t[10]=S-L*d}else if("XZY"===e.order){S=a*l,M=a*c,E=b*l,L=b*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=S*d+L,t[5]=a*h,t[9]=M*d-E,t[2]=E*d-M,t[6]=b*h,t[10]=L*d+S}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:(Xi=new en(0,0,0),$i=new en(1,1,1),function(q){return this.compose(Xi,q,$i)}),lookAt:(Hi=new en,Vi=new en,Yi=new en,function(e,t,n){var r=this.elements;return Yi.subVectors(e,t),0===Yi.lengthSq()&&(Yi.z=1),Yi.normalize(),Hi.crossVectors(n,Yi),0===Hi.lengthSq()&&(1===Math.abs(n.z)?Yi.x+=1e-4:Yi.z+=1e-4,Yi.normalize(),Hi.crossVectors(n,Yi)),Hi.normalize(),Vi.crossVectors(Yi,Hi),r[0]=Hi.x,r[4]=Vi.x,r[8]=Yi.x,r[1]=Hi.y,r[5]=Vi.y,r[9]=Yi.y,r[2]=Hi.z,r[6]=Vi.z,r[10]=Yi.z,this}),multiply:function(e,t){return void 0!==t?(console.warn("Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(a,b){var e=a.elements,t=b.elements,n=this.elements,r=e[0],o=e[4],l=e[8],c=e[12],h=e[1],d=e[5],f=e[9],m=e[13],_=e[2],v=e[6],y=e[10],x=e[14],w=e[3],T=e[7],S=e[11],M=e[15],E=t[0],L=t[4],k=t[8],A=t[12],P=t[1],O=t[5],C=t[9],R=t[13],I=t[2],F=t[6],N=t[10],z=t[14],D=t[3],G=t[7],U=t[11],B=t[15];return n[0]=r*E+o*P+l*I+c*D,n[4]=r*L+o*O+l*F+c*G,n[8]=r*k+o*C+l*N+c*U,n[12]=r*A+o*R+l*z+c*B,n[1]=h*E+d*P+f*I+m*D,n[5]=h*L+d*O+f*F+m*G,n[9]=h*k+d*C+f*N+m*U,n[13]=h*A+d*R+f*z+m*B,n[2]=_*E+v*P+y*I+x*D,n[6]=_*L+v*O+y*F+x*G,n[10]=_*k+v*C+y*N+x*U,n[14]=_*A+v*R+y*z+x*B,n[3]=w*E+T*P+S*I+M*D,n[7]=w*L+T*O+S*F+M*G,n[11]=w*k+T*C+S*N+M*U,n[15]=w*A+T*R+S*z+M*B,this},multiplyScalar:function(s){var e=this.elements;return e[0]*=s,e[4]*=s,e[8]*=s,e[12]*=s,e[1]*=s,e[5]*=s,e[9]*=s,e[13]*=s,e[2]*=s,e[6]*=s,e[10]*=s,e[14]*=s,e[3]*=s,e[7]*=s,e[11]*=s,e[15]*=s,this},applyToBufferAttribute:function(){var e=new en;return function(t){for(var i=0,n=t.count;i<n;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix4(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],l=e[1],c=e[5],h=e[9],d=e[13],f=e[2],m=e[6],_=e[10],v=e[14];return e[3]*(+o*h*m-r*d*m-o*c*_+n*d*_+r*c*v-n*h*v)+e[7]*(+t*h*v-t*d*_+o*l*_-r*l*v+r*d*f-o*h*f)+e[11]*(+t*d*m-t*c*v-o*l*m+n*l*v+o*c*f-n*d*f)+e[15]*(-r*c*f-t*h*m+t*c*_+r*l*m-n*l*_+n*h*f)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,o=r[0],l=r[1],c=r[2],h=r[3],d=r[4],f=r[5],m=r[6],_=r[7],v=r[8],y=r[9],x=r[10],w=r[11],T=r[12],S=r[13],M=r[14],E=r[15],L=y*M*_-S*x*_+S*m*w-f*M*w-y*m*E+f*x*E,k=T*x*_-v*M*_-T*m*w+d*M*w+v*m*E-d*x*E,A=v*S*_-T*y*_+T*f*w-d*S*w-v*f*E+d*y*E,P=T*y*m-v*S*m-T*f*x+d*S*x+v*f*M-d*y*M,O=o*L+l*k+c*A+h*P;if(0===O){var C="Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(C);return console.warn(C),this.identity()}var R=1/O;return n[0]=L*R,n[1]=(S*x*h-y*M*h-S*c*w+l*M*w+y*c*E-l*x*E)*R,n[2]=(f*M*h-S*m*h+S*c*_-l*M*_-f*c*E+l*m*E)*R,n[3]=(y*m*h-f*x*h-y*c*_+l*x*_+f*c*w-l*m*w)*R,n[4]=k*R,n[5]=(v*M*h-T*x*h+T*c*w-o*M*w-v*c*E+o*x*E)*R,n[6]=(T*m*h-d*M*h-T*c*_+o*M*_+d*c*E-o*m*E)*R,n[7]=(d*x*h-v*m*h+v*c*_-o*x*_-d*c*w+o*m*w)*R,n[8]=A*R,n[9]=(T*y*h-v*S*h-T*l*w+o*S*w+v*l*E-o*y*E)*R,n[10]=(d*S*h-T*f*h+T*l*_-o*S*_-d*l*E+o*f*E)*R,n[11]=(v*f*h-d*y*h-v*l*_+o*y*_+d*l*w-o*f*w)*R,n[12]=P*R,n[13]=(v*S*c-T*y*c+T*l*x-o*S*x-v*l*M+o*y*M)*R,n[14]=(T*f*c-d*S*c-T*l*m+o*S*m+d*l*M-o*f*M)*R,n[15]=(d*y*c-v*f*c+v*l*m-o*y*m-d*l*x+o*f*x)*R,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,t,-s,0,0,s,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),s=Math.sin(e);return this.set(t,0,s,0,0,1,0,0,-s,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),s=Math.sin(e);return this.set(t,-s,0,0,s,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),s=Math.sin(t),r=1-n,o=e.x,l=e.y,c=e.z,h=r*o,d=r*l;return this.set(h*o+n,h*l-s*c,h*c+s*l,0,h*l+s*c,d*l+n,d*c-s*o,0,h*c-s*l,d*c+s*o,r*c*c+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,o=t._x,l=t._y,c=t._z,h=t._w,d=o+o,f=l+l,m=c+c,_=o*d,v=o*f,y=o*m,x=l*f,w=l*m,T=c*m,S=h*d,M=h*f,E=h*m,L=n.x,k=n.y,A=n.z;return r[0]=(1-(x+T))*L,r[1]=(v+E)*L,r[2]=(y-M)*L,r[3]=0,r[4]=(v-E)*k,r[5]=(1-(_+T))*k,r[6]=(w+S)*k,r[7]=0,r[8]=(y+M)*A,r[9]=(w-S)*A,r[10]=(1-(_+x))*A,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:(ji=new en,Wi=new Zi,function(e,t,n){var r=this.elements,o=ji.set(r[0],r[1],r[2]).length(),l=ji.set(r[4],r[5],r[6]).length(),c=ji.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Wi.copy(this);var h=1/o,d=1/l,f=1/c;return Wi.elements[0]*=h,Wi.elements[1]*=h,Wi.elements[2]*=h,Wi.elements[4]*=d,Wi.elements[5]*=d,Wi.elements[6]*=d,Wi.elements[8]*=f,Wi.elements[9]*=f,Wi.elements[10]*=f,t.setFromRotationMatrix(Wi),n.x=o,n.y=l,n.z=c,this}),makePerspective:function(e,t,n,r,o,l){void 0===l&&console.warn("Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var c=this.elements,h=2*o/(t-e),d=2*o/(n-r),a=(t+e)/(t-e),b=(n+r)/(n-r),f=-(l+o)/(l-o),m=-2*l*o/(l-o);return c[0]=h,c[4]=0,c[8]=a,c[12]=0,c[1]=0,c[5]=d,c[9]=b,c[13]=0,c[2]=0,c[6]=0,c[10]=f,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this},makeOrthographic:function(e,t,n,r,o,l){var c=this.elements,h=1/(t-e),d=1/(n-r),p=1/(l-o),f=(t+e)*h,m=(n+r)*d,_=(l+o)*p;return c[0]=2*h,c[4]=0,c[8]=0,c[12]=-f,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-m,c[2]=0,c[6]=0,c[10]=-2*p,c[14]=-_,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<16;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var Ki,Ji;n(25),n(153);function Qi(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function en(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function tn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Qi,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,o,l,c){var h=n[r+0],d=n[r+1],f=n[r+2],m=n[r+3],_=o[l+0],v=o[l+1],y=o[l+2],x=o[l+3];if(m!==x||h!==_||d!==v||f!==y){var s=1-c,w=h*_+d*v+f*y+m*x,T=w>=0?1:-1,S=1-w*w;if(S>Number.EPSILON){var M=Math.sqrt(S),E=Math.atan2(M,w*T);s=Math.sin(s*E)/M,c=Math.sin(c*E)/M}var L=c*T;if(h=h*s+_*L,d=d*s+v*L,f=f*s+y*L,m=m*s+x*L,s===1-c){var k=1/Math.sqrt(h*h+d*d+f*f+m*m);h*=k,d*=k,f*=k,m*=k}}e[t]=h,e[t+1]=d,e[t+2]=f,e[t+3]=m}}),Object.defineProperties(Qi.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(Qi.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,o=e._z,l=e.order,c=Math.cos,h=Math.sin,d=c(n/2),f=c(r/2),m=c(o/2),_=h(n/2),v=h(r/2),y=h(o/2);return"XYZ"===l?(this._x=_*f*m+d*v*y,this._y=d*v*m-_*f*y,this._z=d*f*y+_*v*m,this._w=d*f*m-_*v*y):"YXZ"===l?(this._x=_*f*m+d*v*y,this._y=d*v*m-_*f*y,this._z=d*f*y-_*v*m,this._w=d*f*m+_*v*y):"ZXY"===l?(this._x=_*f*m-d*v*y,this._y=d*v*m+_*f*y,this._z=d*f*y+_*v*m,this._w=d*f*m-_*v*y):"ZYX"===l?(this._x=_*f*m-d*v*y,this._y=d*v*m+_*f*y,this._z=d*f*y-_*v*m,this._w=d*f*m+_*v*y):"YZX"===l?(this._x=_*f*m+d*v*y,this._y=d*v*m+_*f*y,this._z=d*f*y-_*v*m,this._w=d*f*m-_*v*y):"XZY"===l&&(this._x=_*f*m-d*v*y,this._y=d*v*m-_*f*y,this._z=d*f*y+_*v*m,this._w=d*f*m+_*v*y),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,s=Math.sin(n);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var s,t=e.elements,n=t[0],r=t[4],o=t[8],l=t[1],c=t[5],h=t[9],d=t[2],f=t[6],m=t[10],_=n+c+m;return _>0?(s=.5/Math.sqrt(_+1),this._w=.25/s,this._x=(f-h)*s,this._y=(o-d)*s,this._z=(l-r)*s):n>c&&n>m?(s=2*Math.sqrt(1+n-c-m),this._w=(f-h)/s,this._x=.25*s,this._y=(r+l)/s,this._z=(o+d)/s):c>m?(s=2*Math.sqrt(1+c-n-m),this._w=(o-d)/s,this._x=(r+l)/s,this._y=.25*s,this._z=(h+f)/s):(s=2*Math.sqrt(1+m-n-c),this._w=(l-r)/s,this._x=(o+d)/s,this._y=(h+f)/s,this._z=.25*s),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new en;return function(n,r){return void 0===t&&(t=new en),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(q){return 2*Math.acos(Math.abs(Gi.clamp(this.dot(q),-1,1)))},rotateTowards:function(q,e){var t=this.angleTo(q);if(0===t)return this;var n=Math.min(1,e/t);return this.slerp(q,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(q,p){return void 0!==p?(console.warn("Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)},premultiply:function(q){return this.multiplyQuaternions(q,this)},multiplyQuaternions:function(a,b){var e=a._x,t=a._y,n=a._z,r=a._w,o=b._x,l=b._y,c=b._z,h=b._w;return this._x=e*h+r*o+t*c-n*l,this._y=t*h+r*l+n*o-e*c,this._z=n*h+r*c+e*l-t*o,this._w=r*h-e*o-t*l-n*c,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,o=this._z,l=this._w,c=l*e._w+n*e._x+r*e._y+o*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;var h=1-c*c;if(h<=Number.EPSILON){var s=1-t;return this._w=s*l+t*this._w,this._x=s*n+t*this._x,this._y=s*r+t*this._y,this._z=s*o+t*this._z,this.normalize()}var d=Math.sqrt(h),f=Math.atan2(d,c),m=Math.sin((1-t)*f)/d,_=Math.sin(t*f)/d;return this._w=l*m+this._w*_,this._x=n*m+this._x*_,this._y=r*m+this._y*_,this._z=o*m+this._z*_,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(en.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},addScaledVector:function(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this},sub:function(e,t){return void 0!==t?(console.warn("Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(s){return this.x-=s,this.y-=s,this.z-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(e,t){return void 0!==t?(console.warn("Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this},applyEuler:(Ki=new Qi,function(e){return e&&e.isEuler||console.error("Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ki.setFromEuler(e))}),applyAxisAngle:function(){var e=new Qi;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,o=e.elements,l=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*l,this},applyQuaternion:function(q){var e=this.x,t=this.y,n=this.z,r=q.x,o=q.y,l=q.z,c=q.w,h=c*e+o*n-l*t,d=c*t+l*e-r*n,f=c*n+r*t-o*e,m=-r*e-o*t-l*n;return this.x=h*c+m*-r+d*-l-f*-o,this.y=d*c+m*-o+f*-r-h*-l,this.z=f*c+m*-l+h*-o-d*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new Zi;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new en,t=new en;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(a,b){var e=a.x,t=a.y,n=a.z,r=b.x,o=b.y,l=b.z;return this.x=t*l-n*o,this.y=n*r-e*l,this.z=e*o-t*r,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new en;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new en;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Gi.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(tn.prototype,{isMatrix3:!0,set:function(e,t,n,r,o,l,c,h,d){var f=this.elements;return f[0]=e,f[1]=r,f[2]=c,f[3]=t,f[4]=o,f[5]=h,f[6]=n,f[7]=l,f[8]=d,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new en;return function(t){for(var i=0,n=t.count;i<n;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.applyMatrix3(this),t.setXYZ(i,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(a,b){var e=a.elements,t=b.elements,n=this.elements,r=e[0],o=e[3],l=e[6],c=e[1],h=e[4],d=e[7],f=e[2],m=e[5],_=e[8],v=t[0],y=t[3],x=t[6],w=t[1],T=t[4],S=t[7],M=t[2],E=t[5],L=t[8];return n[0]=r*v+o*w+l*M,n[3]=r*y+o*T+l*E,n[6]=r*x+o*S+l*L,n[1]=c*v+h*w+d*M,n[4]=c*y+h*T+d*E,n[7]=c*x+h*S+d*L,n[2]=f*v+m*w+_*M,n[5]=f*y+m*T+_*E,n[8]=f*x+m*S+_*L,this},multiplyScalar:function(s){var e=this.elements;return e[0]*=s,e[3]*=s,e[6]*=s,e[1]*=s,e[4]*=s,e[7]*=s,e[2]*=s,e[5]*=s,e[8]*=s,this},determinant:function(){var e=this.elements,a=e[0],b=e[1],t=e[2],n=e[3],r=e[4],o=e[5],g=e[6],l=e[7],i=e[8];return a*r*i-a*o*l-b*n*i+b*o*g+t*n*l-t*r*g},getInverse:function(e,t){e&&e.isMatrix4&&console.error("Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,o=n[0],l=n[1],c=n[2],h=n[3],d=n[4],f=n[5],m=n[6],_=n[7],v=n[8],y=v*d-f*_,x=f*m-v*h,w=_*h-d*m,T=o*y+l*x+c*w;if(0===T){var S="Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var M=1/T;return r[0]=y*M,r[1]=(c*_-v*l)*M,r[2]=(f*l-c*d)*M,r[3]=x*M,r[4]=(v*o-c*m)*M,r[5]=(c*h-f*o)*M,r[6]=w*M,r[7]=(l*m-_*o)*M,r[8]=(d*o-l*h)*M,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,o,l,c){var h=Math.cos(o),s=Math.sin(o);this.set(n*h,n*s,-n*(h*l+s*c)+l+e,-r*s,r*h,-r*(-s*l+h*c)+c+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),s=Math.sin(e),n=this.elements,r=n[0],o=n[3],l=n[6],c=n[1],h=n[4],d=n[7];return n[0]=t*r+s*c,n[3]=t*o+s*h,n[6]=t*l+s*d,n[1]=-s*r+t*c,n[4]=-s*o+t*h,n[7]=-s*l+t*d,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<9;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var nn,rn,an,p,on,sn=function(image){var canvas;if("undefined"==typeof HTMLCanvasElement)return image.src;if(image instanceof HTMLCanvasElement)canvas=image;else{void 0===Ji&&(Ji=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Ji.width=image.width,Ji.height=image.height;var e=Ji.getContext("2d");image instanceof ImageData?e.putImageData(image,0,0):e.drawImage(image,0,0,image.width,image.height),canvas=Ji}return canvas.width>2048||canvas.height>2048?canvas.toDataURL("image/jpeg",.6):canvas.toDataURL("image/png")},ln=0;function cn(image,e,t,n,r,o,l,c,h,d){Object.defineProperty(this,"id",{value:ln++}),this.uuid=Gi.generateUUID(),this.name="",this.image=void 0!==image?image:cn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:cn.DEFAULT_MAPPING,this.wrapS=void 0!==t?t:Et,this.wrapT=void 0!==n?n:Et,this.magFilter=void 0!==r?r:Ot,this.minFilter=void 0!==o?o:Rt,this.anisotropy=void 0!==h?h:1,this.format=void 0!==l?l:$t,this.type=void 0!==c?c:It,this.offset=new Bi(0,0),this.repeat=new Bi(1,1),this.center=new Bi(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:Ai,this.version=0,this.onUpdate=null}function hn(data,e,t,n,r,o,l,c,h,d,f,m){cn.call(this,null,o,l,c,h,d,n,r,f,m),this.image={data:data,width:e,height:t},this.magFilter=void 0!==h?h:kt,this.minFilter=void 0!==d?d:kt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function un(e,t){this.min=void 0!==e?e:new en(1/0,1/0,1/0),this.max=void 0!==t?t:new en(-1/0,-1/0,-1/0)}function dn(e,t){this.center=void 0!==e?e:new en,this.radius=void 0!==t?t:0}function pn(e,t){this.normal=void 0!==e?e:new en(1,0,0),this.constant=void 0!==t?t:0}function fn(e,t,n,r,o,l){this.planes=[void 0!==e?e:new pn,void 0!==t?t:new pn,void 0!==n?n:new pn,void 0!==r?r:new pn,void 0!==o?o:new pn,void 0!==l?l:new pn]}cn.DEFAULT_IMAGE=void 0,cn.DEFAULT_MAPPING=300,cn.prototype=Object.assign(Object.create(Ui.prototype),{constructor:cn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.name=source.name,this.image=source.image,this.mipmaps=source.mipmaps.slice(0),this.mapping=source.mapping,this.wrapS=source.wrapS,this.wrapT=source.wrapT,this.magFilter=source.magFilter,this.minFilter=source.minFilter,this.anisotropy=source.anisotropy,this.format=source.format,this.type=source.type,this.offset.copy(source.offset),this.repeat.copy(source.repeat),this.center.copy(source.center),this.rotation=source.rotation,this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrix.copy(source.matrix),this.generateMipmaps=source.generateMipmaps,this.premultiplyAlpha=source.premultiplyAlpha,this.flipY=source.flipY,this.unpackAlignment=source.unpackAlignment,this.encoding=source.encoding,this},toJSON:function(meta){var e=void 0===meta||"string"==typeof meta;if(!e&&void 0!==meta.textures[this.uuid])return meta.textures[this.uuid];var output={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var image=this.image;if(void 0===image.uuid&&(image.uuid=Gi.generateUUID()),!e&&void 0===meta.images[image.uuid]){var t;if(Array.isArray(image)){t=[];for(var i=0,n=image.length;i<n;i++)t.push(sn(image[i]))}else t=sn(image);meta.images[image.uuid]={uuid:image.uuid,url:t}}output.image=image.uuid}return e||(meta.textures[this.uuid]=output),output},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mt:e.x=e.x-Math.floor(e.x);break;case Et:e.x=e.x<0?0:1;break;case Lt:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Mt:e.y=e.y-Math.floor(e.y);break;case Et:e.y=e.y<0?0:1;break;case Lt:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(cn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),hn.prototype=Object.create(cn.prototype),hn.prototype.constructor=hn,hn.prototype.isDataTexture=!0,Object.assign(un.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0,i=0,h=e.length;i<h;i+=3){var d=e[i],f=e[i+1],m=e[i+2];d<t&&(t=d),f<n&&(n=f),m<r&&(r=m),d>o&&(o=d),f>l&&(l=f),m>c&&(c=m)}return this.min.set(t,n,r),this.max.set(o,l,c),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0,i=0,h=e.count;i<h;i++){var d=e.getX(i),f=e.getY(i),m=e.getZ(i);d<t&&(t=d),f<n&&(n=f),m<r&&(r=m),d>o&&(o=d),f>l&&(l=f),m>c&&(c=m)}return this.min.set(t,n,r),this.max.set(o,l,c),this},setFromPoints:function(e){this.makeEmpty();for(var i=0,t=e.length;i<t;i++)this.expandByPoint(e[i]);return this},setFromCenterAndSize:function(){var e=new en;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(object){return this.makeEmpty(),this.expandByObject(object)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("Box3: .getCenter() target is now required"),e=new en),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("Box3: .getSize() target is now required"),e=new en),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,i,t,n=new en;function r(r){var o=r.geometry;if(void 0!==o)if(o.isGeometry){var l=o.vertices;for(i=0,t=l.length;i<t;i++)n.copy(l[i]),n.applyMatrix4(r.matrixWorld),e.expandByPoint(n)}else if(o.isBufferGeometry){var c=o.attributes.position;if(void 0!==c)for(i=0,t=c.count;i<t;i++)n.fromBufferAttribute(c,i).applyMatrix4(r.matrixWorld),e.expandByPoint(n)}}return function(object){return e=this,object.updateMatrixWorld(!0),object.traverse(r),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("Box3: .getParameter() target is now required"),t=new en),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:(rn=new en,function(e){return this.clampPoint(e.center,rn),rn.distanceToSquared(e.center)<=e.radius*e.radius}),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new en,t=new en,n=new en,r=new en,o=new en,l=new en,c=new en,h=new en,d=new en,f=new en;function m(r){var i,o;for(i=0,o=r.length-3;i<=o;i+=3){c.fromArray(r,i);var l=d.x*Math.abs(c.x)+d.y*Math.abs(c.y)+d.z*Math.abs(c.z),h=e.dot(c),f=t.dot(c),m=n.dot(c);if(Math.max(-Math.max(h,f,m),Math.min(h,f,m))>l)return!1}return!0}return function(c){if(this.isEmpty())return!1;this.getCenter(h),d.subVectors(this.max,h),e.subVectors(c.a,h),t.subVectors(c.b,h),n.subVectors(c.c,h),r.subVectors(t,e),o.subVectors(n,t),l.subVectors(e,n);var _=[0,-r.z,r.y,0,-o.z,o.y,0,-l.z,l.y,r.z,0,-r.x,o.z,0,-o.x,l.z,0,-l.x,-r.y,r.x,0,-o.y,o.x,0,-l.y,l.x,0];return!!m(_)&&(!!m(_=[1,0,0,0,1,0,0,0,1])&&(f.crossVectors(r,o),m(_=[f.x,f.y,f.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("Box3: .clampPoint() target is now required"),t=new en),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new en;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new en;return function(t){return void 0===t&&(console.warn("Box3: .getBoundingSphere() target is now required"),t=new dn),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(nn=[new en,new en,new en,new en,new en,new en,new en,new en],function(e){return this.isEmpty()?this:(nn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),nn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),nn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),nn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),nn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),nn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),nn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),nn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(nn),this)}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(dn.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(an=new un,function(e,t){var n=this.center;void 0!==t?n.copy(t):an.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("Sphere: .clampPoint() target is now required"),t=new en),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("Sphere: .getBoundingBox() target is now required"),e=new un),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(pn.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new en,t=new en;return function(a,b,n){var r=e.subVectors(n,b).cross(t.subVectors(a,b)).normalize();return this.setFromNormalAndCoplanarPoint(r,a),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("Plane: .projectPoint() target is now required"),t=new en),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new en;return function(line,t){void 0===t&&(console.warn("Plane: .intersectLine() target is now required"),t=new en);var n=line.delta(e),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(line.start)?t.copy(line.start):void 0;var o=-(line.start.dot(this.normal)+this.constant)/r;return o<0||o>1?void 0:t.copy(n).multiplyScalar(o).add(line.start)}}(),intersectsLine:function(line){var e=this.distanceToPoint(line.start),t=this.distanceToPoint(line.end);return e<0&&t>0||t<0&&e>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("Plane: .coplanarPoint() target is now required"),e=new en),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new en,t=new tn;return function(n,r){var o=r||t.getNormalMatrix(n),l=this.coplanarPoint(e).applyMatrix4(n),c=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(c),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(fn.prototype,{set:function(e,t,n,r,o,l){var c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(r),c[4].copy(o),c[5].copy(l),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],o=n[1],l=n[2],c=n[3],h=n[4],d=n[5],f=n[6],m=n[7],_=n[8],v=n[9],y=n[10],x=n[11],w=n[12],T=n[13],S=n[14],M=n[15];return t[0].setComponents(c-r,m-h,x-_,M-w).normalize(),t[1].setComponents(c+r,m+h,x+_,M+w).normalize(),t[2].setComponents(c+o,m+d,x+v,M+T).normalize(),t[3].setComponents(c-o,m-d,x-v,M-T).normalize(),t[4].setComponents(c-l,m-f,x-y,M-S).normalize(),t[5].setComponents(c+l,m+f,x+y,M+S).normalize(),this},intersectsObject:(on=new dn,function(object){var e=object.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),on.copy(e.boundingSphere).applyMatrix4(object.matrixWorld),this.intersectsSphere(on)}),intersectsSprite:function(){var e=new dn;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(p=new en,function(e){for(var t=this.planes,i=0;i<6;i++){var n=t[i];if(p.x=n.normal.x>0?e.max.x:e.min.x,p.y=n.normal.y>0?e.max.y:e.min.y,p.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(p)<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}});var mn,_n,gn,vn={alphamap_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",alphamap_pars_fragment:"\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n",alphatest_fragment:"\n#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",aomap_fragment:"\n#ifdef USE_AOMAP\n\n\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n\n#endif\n",aomap_pars_fragment:"\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif\n",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n\n#ifdef USE_TANGENT\n\n\tvec3 objectTangent = vec3( tangent.xyz );\n\n#endif\n",bsdfs:'\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\t// Paper incorrect indicates coefficient is PI/21, and will\n\t// be corrected to 1/21 in future updates.\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit(  ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit(  );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n',bumpmap_pars_fragment:"\n#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n",clipping_planes_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\tvec4 plane;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\n\t}\n\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\n\t\tbool clipped = true;\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\n\t\t}\n\n\t\tif ( clipped ) discard;\n\n\t#endif\n\n#endif\n",clipping_planes_pars_fragment:"\n#if NUM_CLIPPING_PLANES > 0\n\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n\n#endif\n",clipping_planes_pars_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"\n#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"\n#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif\n",color_pars_fragment:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_pars_vertex:"\n#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n",color_vertex:"\n#ifdef USE_COLOR\n\n\tvColor.xyz = color.xyz;\n\n#endif\n",common:"\n#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nmat3 transposeMat3( const in mat3 m ) {\n\n\tmat3 tmp;\n\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\n\treturn tmp;\n\n}\n\n// https://en.wikipedia.org/wiki/Relative_luminance\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\n\treturn dot( weights, color.rgb );\n\n}\n",cube_uv_reflection_fragment:"\n#ifdef ENVMAP_TYPE_CUBE_UV\n\n#define cubeUV_textureSize (1024.0)\n\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\n\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\t// Clamp the value to the max mip level counts. hard coded to 6 mips\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\n\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\t// float powScale = exp2(roughnessLevel + mipLevel);\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\n\tfloat rcpPowScale = 1.0 / powScale;\n\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\n\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\n\t// round to nearest mipmap if we are not interpolating.\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\n\t// Tri linear interpolation.\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\n\tvec4 result = mix(color10, color20, t);\n\n\treturn vec4(result.rgb, 1.0);\n}\n\n#endif\n",defaultnormal_vertex:"\nvec3 transformedNormal = normalMatrix * objectNormal;\n\n#ifdef FLIP_SIDED\n\n\ttransformedNormal = - transformedNormal;\n\n#endif\n\n#ifdef USE_TANGENT\n\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\n\t#ifdef FLIP_SIDED\n\n\t\ttransformedTangent = - transformedTangent;\n\n\t#endif\n\n#endif\n",displacementmap_pars_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n",displacementmap_vertex:"\n#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n\n#endif\n",emissivemap_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n\n#endif\n",emissivemap_pars_fragment:"\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n",encodings_fragment:"\ngl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\n\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\n\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\n\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\n\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\n\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\n\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\n\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\n\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\n\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n\n// M matrix, for encoding\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\n\n// Inverse M matrix, for decoding\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",envmap_fragment:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\tvec2 sampleUV;\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\treflectVec = normalize( reflectVec );\n\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\n\t#else\n\n\t\tvec4 envColor = vec4( 0.0 );\n\n\t#endif\n\n\tenvColor = envMapTexelToLinear( envColor );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n",envmap_pars_fragment:"\n#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n\n#ifdef USE_ENVMAP\n\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n\n#endif\n",envmap_pars_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\n\t#endif\n\n#endif\n",envmap_physical_pars_fragment:"\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\n\tvec3 getLightProbeIndirectIrradiance(  const in GeometricContext geometry, const in int maxMIPLevel ) {\n\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\n\t\t//float envMapWidth = pow( 2.0, maxMIPLevelScalar );\n\t\t//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\n\t\t// clamp to allowable LOD ranges.\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\n\t}\n\n\tvec3 getLightProbeIndirectRadiance(  const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\n\t\t#endif\n\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#endif\n\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n",envmap_vertex:"\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t#else\n\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\n\n\tfogDepth = -mvPosition.z;\n\n#endif\n",fog_pars_vertex:"\n#ifdef USE_FOG\n\n\tvarying float fogDepth;\n\n#endif\n",fog_fragment:"\n#ifdef USE_FOG\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\n\t#endif\n\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\n#endif\n",fog_pars_fragment:"\n#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\n\t#endif\n\n#endif\n",gradientmap_pars_fragment:"\n#ifdef TOON\n\n\tuniform sampler2D gradientMap;\n\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\n\t\t// dotNL will be from -1.0 to 1.0\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\n\t\t#ifdef USE_GRADIENTMAP\n\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\n\t\t#else\n\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\n\t\t#endif\n\t}\n\n#endif\n",lightmap_fragment:"\n#ifdef USE_LIGHTMAP\n\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n\n#endif\n",lightmap_pars_fragment:"\n#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif\n",lights_lambert_vertex:"\nvec3 diffuse = vec3( 1.0 );\n\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\n\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\n\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\n\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n\n#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\t}\n\n#endif\n#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if NUM_HEMI_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\n\t\t#endif\n\n\t}\n\n#endif\n",lights_pars_begin:"\nuniform vec3 ambientLightColor;\n\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\n\tvec3 irradiance = ambientLightColor;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI;\n\n\t#endif\n\n\treturn irradiance;\n\n}\n\n#if NUM_DIR_LIGHTS > 0\n\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\n\t}\n\n#endif\n#if NUM_POINT_LIGHTS > 0\n\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\n\t}\n\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\n\t\tif ( angleCos > spotLight.coneCos ) {\n\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\n\t\t} else {\n\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\n\t\t}\n\t}\n\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\n\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n\t// BRDF approximation Texture is 64x64\n\tuniform sampler2D ltc_1; // RGBA Float\n\tuniform sampler2D ltc_2; // RGBA Float\n\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tirradiance *= PI;\n\n\t\t#endif\n\n\t\treturn irradiance;\n\n\t}\n\n#endif\n",lights_phong_fragment:"\nBlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\nstruct BlinnPhongMaterial {\n\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n\n};\n\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t#ifdef TOON\n\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\n\t#else\n\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\n\t#endif\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n\n}\n\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat ); // Burley clearcoat model\n\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"\nstruct PhysicalMaterial {\n\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n\n};\n\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n\n}\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\n\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\n\t\t// LTC Fresnel Approximation by Stephen Hill\n\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\n\t}\n\n#endif\n\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\t#ifndef STANDARD\n\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\n\t#endif\n\n}\n\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t// Defer to the IndirectSpecular function to compute\n\t// the indirectDiffuse if energy preservation is enabled.\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\t#endif\n\n}\n\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\n\t// Both indirect specular and diffuse light accumulate here\n\t// if energy preservation enabled, and PMREM provided.\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\n\t\t// The multiscattering paper uses the below formula for calculating diffuse \n\t\t// for dielectrics, but this is already handled when initially computing the \n\t\t// specular and diffuse color, so we can just use the diffuseColor directly.\n\t\t//vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\tvec3 diffuse = material.diffuseColor;\n\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\n\t#else\n\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\n\t#endif\n\n\t#ifndef STANDARD\n\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\n\t#endif\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\n\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n\n#endif\n",lights_fragment_maps:"\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tirradiance += getLightProbeIndirectIrradiance(  geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance(  geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance(  geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n\n#endif\n",lights_fragment_end:"\n#if defined( RE_IndirectDiffuse )\n\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n\n#endif\n",logdepthbuf_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n\n#endif\n",logdepthbuf_pars_fragment:"\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\n#endif\n",logdepthbuf_pars_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#else\n\n\t\tuniform float logDepthBufFC;\n\n\t#endif\n\n#endif\n",logdepthbuf_vertex:"\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n\t#else\n\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\n\t\tgl_Position.z *= gl_Position.w;\n\n\t#endif\n\n#endif\n",map_fragment:"\n#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n\n#endif\n",map_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n",map_particle_fragment:"\n#ifdef USE_MAP\n\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n\n#endif\n",map_particle_pars_fragment:"\n#ifdef USE_MAP\n\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n\n#endif\n",metalnessmap_fragment:"\nfloat metalnessFactor = metalness;\n\n#ifdef USE_METALNESSMAP\n\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\n\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tmetalnessFactor *= texelMetalness.b;\n\n#endif\n",metalnessmap_pars_fragment:"\n#ifdef USE_METALNESSMAP\n\n\tuniform sampler2D metalnessMap;\n\n#endif\n",morphnormal_vertex:"\n#ifdef USE_MORPHNORMALS\n\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n#endif\n",morphtarget_pars_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif\n",morphtarget_vertex:"\n#ifdef USE_MORPHTARGETS\n\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n",normal_fragment_begin:"\n#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#else\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t#endif\n\n\t#ifdef USE_TANGENT\n\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n",normal_fragment_maps:"\n#ifdef USE_NORMALMAP\n\n\t#ifdef OBJECTSPACE_NORMALMAP\n\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\n\t\t#ifdef FLIP_SIDED\n\n\t\t\tnormal = - normal;\n\n\t\t#endif\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t#endif\n\n\t\tnormal = normalize( normalMatrix * normal );\n\n\t#else // tangent-space normal map\n\n\t\t#ifdef USE_TANGENT\n\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\n\t\t#else\n\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n\t\t#endif\n\n\t#endif\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n",normalmap_pars_fragment:"\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t#ifdef OBJECTSPACE_NORMALMAP\n\n\t\tuniform mat3 normalMatrix;\n\n\t#else\n\n\t\t// Per-Pixel Tangent Space Normal Mapping\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n\t\t\treturn normalize( tsn * mapN );\n\n\t\t}\n\n\t#endif\n\n#endif\n",packing:"\nvec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n\treturn r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"\n#ifdef PREMULTIPLIED_ALPHA\n\n\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\n#endif\n",project_vertex:"\nvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"\n#if defined( DITHERING )\n\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n\n#endif\n",dithering_pars_fragment:"\n#if defined( DITHERING )\n\n\t// based on https://www.shadertoy.com/view/MslGR8\n\tvec3 dithering( vec3 color ) {\n\t\t//Calculate grid position\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\n\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\n\t\t//modify shift acording to grid position.\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\n\t\t//shift the color by dither_shift\n\t\treturn color + dither_shift_RGB;\n\t}\n\n#endif\n",roughnessmap_fragment:"\nfloat roughnessFactor = roughness;\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\n\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\troughnessFactor *= texelRoughness.g;\n\n#endif\n",roughnessmap_pars_fragment:"\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n",shadowmap_pars_fragment:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\n\t\tvec2 f = fract( uv * size + 0.5 );\n\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\n\t\treturn c;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn shadow;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the vector from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// dp = normalized distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n\t\tdp += shadowBias;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n",shadowmap_pars_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\n\t#endif\n#endif\n",shadowmap_vertex:"\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\n\t}\n\n\t#endif\n#endif\n",shadowmask_pars_fragment:"\nfloat getShadowMask() {\n\n\tfloat shadow = 1.0;\n\n\t#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\n\tDirectionalLight directionalLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHTS > 0\n\n\tSpotLight spotLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\n\t}\n\n\t#endif\n\n\t#if NUM_POINT_LIGHTS > 0\n\n\tPointLight pointLight;\n\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\n\t}\n\n\t#endif\n\t#endif\n\n\treturn shadow;\n\n}\n",skinbase_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n",skinning_pars_vertex:"\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n",skinning_vertex:"\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n",skinnormal_vertex:"\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n",specularmap_fragment:"\nfloat specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif\n",specularmap_pars_fragment:"\n#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif\n",tonemapping_fragment:"\n#if defined( TONE_MAPPING )\n\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\n#endif\n",tonemapping_pars_fragment:"\n#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\n\n// exposure only\nvec3 LinearToneMapping( vec3 color ) {\n\n\treturn toneMappingExposure * color;\n\n}\n\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\nvec3 ReinhardToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\n\t// John Hable's filmic operator from Uncharted 2 video game\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n\n}\n\n// source: http://filmicgames.com/archives/75\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\n\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n\n}\n\n// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n\n}\n",uv_pars_fragment:"\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n",uv_pars_vertex:"\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n\n#endif\n",uv_vertex:"\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n",uv2_pars_fragment:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_pars_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n#endif\n",uv2_vertex:"\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = uv2;\n\n#endif\n",worldpos_vertex:"\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\n#endif\n",background_frag:"\nuniform sampler2D t2D;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 texColor = texture2D( t2D, vUv );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",background_vert:"\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\nvoid main() {\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n\n}\n",cube_frag:"\nuniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\n\nvarying vec3 vWorldDirection;\n\nvoid main() {\n\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",cube_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n}\n",depth_frag:"\n#if DEPTH_PACKING == 3200\n\n\tuniform float opacity;\n\n#endif\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tdiffuseColor.a = opacity;\n\n\t#endif\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\t#include <logdepthbuf_fragment>\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\n\t#elif DEPTH_PACKING == 3201\n\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\n\t#endif\n\n}\n",depth_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n}\n",distanceRGBA_frag:"\n#define DISTANCE\n\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main () {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n\n\tgl_FragColor = packDepthToRGBA( dist );\n\n}\n",distanceRGBA_vert:"\n#define DISTANCE\n\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvWorldPosition = worldPosition.xyz;\n\n}\n",equirect_frag:"\nuniform sampler2D tEquirect;\n\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvec3 direction = normalize( vWorldDirection );\n\n\tvec2 sampleUV;\n\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n",equirect_vert:"\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n}\n",linedashed_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\nuniform float dashSize;\nuniform float totalSize;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\n\t\tdiscard;\n\n\t}\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\n\toutgoingLight = diffuseColor.rgb; // simple shader\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",linedashed_vert:"\nuniform float scale;\nattribute float lineDistance;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\n\tvLineDistance = scale * lineDistance;\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n",meshbasic_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshbasic_vert:"\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshlambert_frag:"\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\n\t#endif\n\n\t#include <lightmap_fragment>\n\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\n\t#else\n\n\t\treflectedLight.directDiffuse = vLightFront;\n\n\t#endif\n\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"\n#define LAMBERT\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshmatcap_frag:"\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",meshmatcap_vert:"\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}\n",meshphong_frag:"\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphong_vert:"\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",meshphysical_frag:"\n#define PHYSICAL\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n",meshphysical_vert:"\n#define PHYSICAL\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",normal_frag:"\n#define NORMAL\n\nuniform float opacity;\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n\nvoid main() {\n\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\n}\n",normal_vert:"\n#define NORMAL\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\n\tvViewPosition = - mvPosition.xyz;\n\n#endif\n\n}\n",points_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",points_vert:"\nuniform float size;\nuniform float scale;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\n\tgl_PointSize = size;\n\n\t#ifdef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\n\t#endif\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n\n}\n",shadow_frag:"\nuniform vec3 color;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n\nvoid main() {\n\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\n\t#include <fog_fragment>\n\n}\n",shadow_vert:"\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvoid main() {\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n",sprite_frag:"\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n",sprite_vert:"\nuniform float rotation;\nuniform vec2 center;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n\t#ifndef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\n\t#endif\n\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n"},yn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xn(e,g,b){return void 0===g&&void 0===b?this.set(e):this.setRGB(e,g,b)}Object.assign(xn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,g,b){return this.r=e,this.g=g,this.b=b,this},setHSL:function(){function e(p,q,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?p+6*(q-p)*e:e<.5?q:e<2/3?p+6*(q-p)*(2/3-e):p}return function(t,s,n){if(t=Gi.euclideanModulo(t,1),s=Gi.clamp(s,0,1),n=Gi.clamp(n,0,1),0===s)this.r=this.g=this.b=n;else{var p=n<=.5?n*(1+s):n+s-n*s,q=2*n-p;this.r=e(q,p,t+1/3),this.g=e(q,p,t),this.b=e(q,p,t-1/3)}return this}}(),setStyle:function(style){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("Color: Alpha component of "+style+" will be ignored.")}var t;if(t=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(style)){var n,r=t[1],o=t[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var l=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(l,s,c)}}}else if(t=/^\#([A-Fa-f0-9]+)$/.exec(style)){var h,d=(h=t[1]).length;if(3===d)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}style&&style.length>0&&(void 0!==(h=yn[style])?this.setHex(h):console.warn("Color: Unknown color "+style));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,g=this.g,b=this.b,o=Math.max(r,g,b),l=Math.min(r,g,b),c=(l+o)/2;if(l===o)t=0,n=0;else{var h=o-l;switch(n=c<=.5?h/(o+l):h/(2-o-l),o){case r:t=(g-b)/h+(g<b?6:0);break;case g:t=(b-r)/h+2;break;case b:t=(r-g)/h+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(gn={},function(e,s,t){return this.getHSL(gn),gn.h+=e,gn.s+=s,gn.l+=t,this.setHSL(gn.h,gn.s,gn.l),this}),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(s){return this.r+=s,this.g+=s,this.b+=s,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(s){return this.r*=s,this.g*=s,this.b*=s,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:(mn={h:0,s:0,l:0},_n={h:0,s:0,l:0},function(e,t){this.getHSL(mn),e.getHSL(_n);var n=Gi.lerp(mn.h,_n.h,t),s=Gi.lerp(mn.s,_n.s,t),r=Gi.lerp(mn.l,_n.l,t);return this.setHSL(n,s,r),this}),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var bn={common:{diffuse:{value:new xn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new tn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Bi(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new xn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new tn}},sprite:{diffuse:{value:new xn(15658734)},opacity:{value:1},center:{value:new Bi(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new tn}}};function wn(e){var t={};for(var u in e)for(var p in t[u]={},e[u]){var n=e[u][p];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?t[u][p]=n.clone():Array.isArray(n)?t[u][p]=n.slice():t[u][p]=n}return t}function Tn(e){for(var t={},u=0;u<e.length;u++){var n=wn(e[u]);for(var p in n)t[p]=n[p]}return t}var Sn={clone:wn,merge:Tn},Mn={basic:{uniforms:Tn([bn.common,bn.specularmap,bn.envmap,bn.aomap,bn.lightmap,bn.fog]),vertexShader:vn.meshbasic_vert,fragmentShader:vn.meshbasic_frag},lambert:{uniforms:Tn([bn.common,bn.specularmap,bn.envmap,bn.aomap,bn.lightmap,bn.emissivemap,bn.fog,bn.lights,{emissive:{value:new xn(0)}}]),vertexShader:vn.meshlambert_vert,fragmentShader:vn.meshlambert_frag},phong:{uniforms:Tn([bn.common,bn.specularmap,bn.envmap,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.gradientmap,bn.fog,bn.lights,{emissive:{value:new xn(0)},specular:{value:new xn(1118481)},shininess:{value:30}}]),vertexShader:vn.meshphong_vert,fragmentShader:vn.meshphong_frag},standard:{uniforms:Tn([bn.common,bn.envmap,bn.aomap,bn.lightmap,bn.emissivemap,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.roughnessmap,bn.metalnessmap,bn.fog,bn.lights,{emissive:{value:new xn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag},matcap:{uniforms:Tn([bn.common,bn.bumpmap,bn.normalmap,bn.displacementmap,bn.fog,{matcap:{value:null}}]),vertexShader:vn.meshmatcap_vert,fragmentShader:vn.meshmatcap_frag},points:{uniforms:Tn([bn.points,bn.fog]),vertexShader:vn.points_vert,fragmentShader:vn.points_frag},dashed:{uniforms:Tn([bn.common,bn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vn.linedashed_vert,fragmentShader:vn.linedashed_frag},depth:{uniforms:Tn([bn.common,bn.displacementmap]),vertexShader:vn.depth_vert,fragmentShader:vn.depth_frag},normal:{uniforms:Tn([bn.common,bn.bumpmap,bn.normalmap,bn.displacementmap,{opacity:{value:1}}]),vertexShader:vn.normal_vert,fragmentShader:vn.normal_frag},sprite:{uniforms:Tn([bn.sprite,bn.fog]),vertexShader:vn.sprite_vert,fragmentShader:vn.sprite_frag},background:{uniforms:{uvTransform:{value:new tn},t2D:{value:null}},vertexShader:vn.background_vert,fragmentShader:vn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vn.cube_vert,fragmentShader:vn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vn.equirect_vert,fragmentShader:vn.equirect_frag},distanceRGBA:{uniforms:Tn([bn.common,bn.displacementmap,{referencePosition:{value:new en},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vn.distanceRGBA_vert,fragmentShader:vn.distanceRGBA_frag},shadow:{uniforms:Tn([bn.lights,bn.fog,{color:{value:new xn(0)},opacity:{value:1}}]),vertexShader:vn.shadow_vert,fragmentShader:vn.shadow_frag}};function En(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}Mn.physical={uniforms:Tn([Mn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag},Object.assign(En.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this},addScaledVector:function(e,s){return this.x+=e.x*s,this.y+=e.y*s,this.z+=e.z*s,this.w+=e.w*s,this},sub:function(e,t){return void 0!==t?(console.warn("Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,o=this.w,l=e.elements;return this.x=l[0]*t+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*t+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*t+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*t+l[7]*n+l[11]*r+l[15]*o,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(q){this.w=2*Math.acos(q.w);var s=Math.sqrt(1-q.w*q.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=q.x/s,this.y=q.y/s,this.z=q.z/s),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,o,l=e.elements,c=l[0],h=l[4],d=l[8],f=l[1],m=l[5],_=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(h-f)<.01&&Math.abs(d-v)<.01&&Math.abs(_-y)<.01){if(Math.abs(h+f)<.1&&Math.abs(d+v)<.1&&Math.abs(_+y)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var w=(c+1)/2,T=(m+1)/2,S=(x+1)/2,M=(h+f)/4,E=(d+v)/4,L=(_+y)/4;return w>T&&w>S?w<.01?(n=0,r=.707106781,o=.707106781):(r=M/(n=Math.sqrt(w)),o=E/n):T>S?T<.01?(n=.707106781,r=0,o=.707106781):(n=M/(r=Math.sqrt(T)),o=L/r):S<.01?(n=.707106781,r=.707106781,o=0):(n=E/(o=Math.sqrt(S)),r=L/o),this.set(n,r,o,t),this}var s=Math.sqrt((y-_)*(y-_)+(d-v)*(d-v)+(f-h)*(f-h));return Math.abs(s)<.001&&(s=1),this.x=(y-_)/s,this.y=(d-v)/s,this.z=(f-h)/s,this.w=Math.acos((c+m+x-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new En,t=new En),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}});var q;n(49),n(112),n(90),n(91),n(113),n(92),n(114),n(154);function Ln(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var data=t.get(n);data&&(e.deleteBuffer(data.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var data=t.get(n);void 0===data?t.set(n,function(t,n){var r=t.array,o=t.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW,l=e.createBuffer();e.bindBuffer(n,l),e.bufferData(n,r,o),t.onUploadCallback();var c=e.FLOAT;return r instanceof Float32Array?c=e.FLOAT:r instanceof Float64Array?console.warn("WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?c=e.UNSIGNED_SHORT:r instanceof Int16Array?c=e.SHORT:r instanceof Uint32Array?c=e.UNSIGNED_INT:r instanceof Int32Array?c=e.INT:r instanceof Int8Array?c=e.BYTE:r instanceof Uint8Array&&(c=e.UNSIGNED_BYTE),{buffer:l,type:c,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):data.version<n.version&&(!function(t,n,r){var o=n.array,l=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,o,e.STATIC_DRAW):-1===l.count?e.bufferSubData(r,0,o):0===l.count?console.error("WebGLObjects.updateBuffer: dynamic BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,l.offset*o.BYTES_PER_ELEMENT,o.subarray(l.offset,l.offset+l.count)),l.count=-1)}(data.buffer,n,r),data.version=n.version)}}}function kn(a,b,e,t,n,r){this.a=a,this.b=b,this.c=e,this.normal=t&&t.isVector3?t:new en,this.vertexNormals=Array.isArray(t)?t:[],this.color=n&&n.isColor?n:new xn,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==r?r:0}function An(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||An.DefaultOrder}function Pn(){this.mask=1}Object.assign(kn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.a=source.a,this.b=source.b,this.c=source.c,this.normal.copy(source.normal),this.color.copy(source.color),this.materialIndex=source.materialIndex;for(var i=0,e=source.vertexNormals.length;i<e;i++)this.vertexNormals[i]=source.vertexNormals[i].clone();for(i=0,e=source.vertexColors.length;i<e;i++)this.vertexColors[i]=source.vertexColors[i].clone();return this}}),An.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],An.DefaultOrder="XYZ",Object.defineProperties(An.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(An.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Gi.clamp,o=e.elements,l=o[0],c=o[4],h=o[8],d=o[1],f=o[5],m=o[9],_=o[2],v=o[6],y=o[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-m,y),this._z=Math.atan2(-c,l)):(this._x=Math.atan2(v,f),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(m,-1,1)),Math.abs(m)<.99999?(this._y=Math.atan2(h,y),this._z=Math.atan2(d,f)):(this._y=Math.atan2(-_,l),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(v,-1,1)),Math.abs(v)<.99999?(this._y=Math.atan2(-_,y),this._z=Math.atan2(-c,f)):(this._y=0,this._z=Math.atan2(d,l))):"ZYX"===t?(this._y=Math.asin(-r(_,-1,1)),Math.abs(_)<.99999?(this._x=Math.atan2(v,y),this._z=Math.atan2(d,l)):(this._x=0,this._z=Math.atan2(-c,f))):"YZX"===t?(this._z=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(-m,f),this._y=Math.atan2(-_,l)):(this._x=0,this._y=Math.atan2(h,y))):"XZY"===t?(this._z=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(v,f),this._y=Math.atan2(h,l)):(this._x=Math.atan2(-m,y),this._y=0)):console.warn("Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new Zi;return function(q,t,n){return e.makeRotationFromQuaternion(q),this.setFromRotationMatrix(e,t,n)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(q=new Qi,function(e){return q.setFromEuler(this),this.setFromQuaternion(q,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new en(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(Pn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!=(this.mask&e.mask)}});var On,Cn,Rn,In,Fn=0;function Nn(){Object.defineProperty(this,"id",{value:Fn++}),this.uuid=Gi.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nn.DefaultUp.clone();var e=new en,t=new An,n=new Qi,r=new en(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Zi},normalMatrix:{value:new tn}}),this.matrix=new Zi,this.matrixWorld=new Zi,this.matrixAutoUpdate=Nn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Pn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Nn.DefaultUp=new en(0,1,0),Nn.DefaultMatrixAutoUpdate=!0,Nn.prototype=Object.assign(Object.create(Ui.prototype),{constructor:Nn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(q){return this.quaternion.premultiply(q),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(q){this.quaternion.copy(q)},rotateOnAxis:(In=new Qi,function(e,t){return In.setFromAxisAngle(e,t),this.quaternion.multiply(In),this}),rotateOnWorldAxis:function(){var e=new Qi;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new en(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new en(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new en(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new en;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new en(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new en(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new en(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(Rn=new Zi,function(e){return e.applyMatrix4(Rn.getInverse(this.matrixWorld))}),lookAt:function(){var e=new Qi,t=new Zi,n=new en,r=new en;return function(o,l,c){o.isVector3?n.copy(o):n.set(o,l,c);var h=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),h&&(t.extractRotation(h.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return object===this?(console.error("Object3D.add: object can't be added as a child of itself.",object),this):(object&&object.isObject3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,object.dispatchEvent({type:"added"}),this.children.push(object)):console.error("Object3D.add: object not an instance of Object3D.",object),this)},remove:function(object){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}var e=this.children.indexOf(object);return-1!==e&&(object.parent=null,object.dispatchEvent({type:"removed"}),this.children.splice(e,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,n=this.children.length;i<n;i++){var object=this.children[i].getObjectByProperty(e,t);if(void 0!==object)return object}},getWorldPosition:function(e){return void 0===e&&(console.warn("Object3D: .getWorldPosition() target is now required"),e=new en),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(On=new en,Cn=new en,function(e){return void 0===e&&(console.warn("Object3D: .getWorldQuaternion() target is now required"),e=new Qi),this.updateMatrixWorld(!0),this.matrixWorld.decompose(On,e,Cn),e}),getWorldScale:function(){var e=new en,t=new Qi;return function(n){return void 0===n&&(console.warn("Object3D: .getWorldScale() target is now required"),n=new en),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("Object3D: .getWorldDirection() target is now required"),e=new en),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(meta){var e=void 0===meta||"string"==typeof meta,output={};e&&(meta={geometries:{},materials:{},textures:{},images:{},shapes:{}},output.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var object={};function t(e,element){return void 0===e[element.uuid]&&(e[element.uuid]=element.toJSON(meta)),element.uuid}if(object.uuid=this.uuid,object.type=this.type,""!==this.name&&(object.name=this.name),!0===this.castShadow&&(object.castShadow=!0),!0===this.receiveShadow&&(object.receiveShadow=!0),!1===this.visible&&(object.visible=!1),!1===this.frustumCulled&&(object.frustumCulled=!1),0!==this.renderOrder&&(object.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData),object.layers=this.layers.mask,object.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(object.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Ei&&(object.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){object.geometry=t(meta.geometries,this.geometry);var n=this.geometry.parameters;if(void 0!==n&&void 0!==n.shapes){var r=n.shapes;if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++){var l=r[i];t(meta.shapes,l)}else t(meta.shapes,r)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(i=0,o=this.material.length;i<o;i++)c.push(t(meta.materials,this.material[i]));object.material=c}else object.material=t(meta.materials,this.material);if(this.children.length>0){object.children=[];for(i=0;i<this.children.length;i++)object.children.push(this.children[i].toJSON(meta).object)}if(e){var h=_(meta.geometries),d=_(meta.materials),f=_(meta.textures),m=_(meta.images);r=_(meta.shapes);h.length>0&&(output.geometries=h),d.length>0&&(output.materials=d),f.length>0&&(output.textures=f),m.length>0&&(output.images=m),r.length>0&&(output.shapes=r)}return output.object=object,output;function _(e){var t=[];for(var n in e){var data=e[n];delete data.metadata,t.push(data)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(source,e){if(void 0===e&&(e=!0),this.name=source.name,this.up.copy(source.up),this.position.copy(source.position),this.quaternion.copy(source.quaternion),this.scale.copy(source.scale),this.matrix.copy(source.matrix),this.matrixWorld.copy(source.matrixWorld),this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate,this.layers.mask=source.layers.mask,this.visible=source.visible,this.castShadow=source.castShadow,this.receiveShadow=source.receiveShadow,this.frustumCulled=source.frustumCulled,this.renderOrder=source.renderOrder,this.userData=JSON.parse(JSON.stringify(source.userData)),!0===e)for(var i=0;i<source.children.length;i++){var t=source.children[i];this.add(t.clone())}return this}});var zn,Dn,Gn=0;function Un(){Object.defineProperty(this,"id",{value:Gn+=2}),this.uuid=Gi.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Un.prototype=Object.assign(Object.create(Ui.prototype),{constructor:Un,isGeometry:!0,applyMatrix:function(e){for(var t=(new tn).getNormalMatrix(e),i=0,n=this.vertices.length;i<n;i++){this.vertices[i].applyMatrix4(e)}for(i=0,n=this.faces.length;i<n;i++){var r=this.faces[i];r.normal.applyMatrix3(t).normalize();for(var o=0,l=r.vertexNormals.length;o<l;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new Zi;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Zi;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Zi;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Zi;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new Zi;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:(Dn=new Nn,function(e){Dn.lookAt(e),Dn.updateMatrix(),this.applyMatrix(Dn.matrix)}),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,o=r.position.array,l=void 0!==r.normal?r.normal.array:void 0,c=void 0!==r.color?r.color.array:void 0,h=void 0!==r.uv?r.uv.array:void 0,d=void 0!==r.uv2?r.uv2.array:void 0;void 0!==d&&(this.faceVertexUvs[1]=[]);for(var i=0,f=0;i<o.length;i+=3,f+=2)t.vertices.push((new en).fromArray(o,i)),void 0!==c&&t.colors.push((new xn).fromArray(c,i));function m(a,b,e,n){var r=void 0===c?[]:[t.colors[a].clone(),t.colors[b].clone(),t.colors[e].clone()],o=new kn(a,b,e,void 0===l?[]:[(new en).fromArray(l,3*a),(new en).fromArray(l,3*b),(new en).fromArray(l,3*e)],r,n);t.faces.push(o),void 0!==h&&t.faceVertexUvs[0].push([(new Bi).fromArray(h,2*a),(new Bi).fromArray(h,2*b),(new Bi).fromArray(h,2*e)]),void 0!==d&&t.faceVertexUvs[1].push([(new Bi).fromArray(d,2*a),(new Bi).fromArray(d,2*b),(new Bi).fromArray(d,2*e)])}var _=e.groups;if(_.length>0)for(i=0;i<_.length;i++)for(var v=_[i],y=v.start,x=(f=y,y+v.count);f<x;f+=3)void 0!==n?m(n[f],n[f+1],n[f+2],v.materialIndex):m(f,f+1,f+2,v.materialIndex);else if(void 0!==n)for(i=0;i<n.length;i+=3)m(n[i],n[i+1],n[i+2]);else for(i=0;i<o.length/3;i+=3)m(i,i+1,i+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:(zn=new en,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(zn).negate(),this.translate(zn.x,zn.y,zn.z),this}),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,s=0===t?1:1/t,n=new Zi;return n.set(s,0,0,-s*e.x,0,s,0,-s*e.y,0,0,s,-s*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new en,t=new en,n=0,r=this.faces.length;n<r;n++){var o=this.faces[n],l=this.vertices[o.a],c=this.vertices[o.b],h=this.vertices[o.c];e.subVectors(h,c),t.subVectors(l,c),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,o,l,c;for(void 0===e&&(e=!0),c=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)c[t]=new en;if(e){var h,d,f,m=new en,_=new en;for(r=0,o=this.faces.length;r<o;r++)l=this.faces[r],h=this.vertices[l.a],d=this.vertices[l.b],f=this.vertices[l.c],m.subVectors(f,d),_.subVectors(h,d),m.cross(_),c[l.a].add(m),c[l.b].add(m),c[l.c].add(m)}else for(this.computeFaceNormals(),r=0,o=this.faces.length;r<o;r++)c[(l=this.faces[r]).a].add(l.normal),c[l.b].add(l.normal),c[l.c].add(l.normal);for(t=0,n=this.vertices.length;t<n;t++)c[t].normalize();for(r=0,o=this.faces.length;r<o;r++){var v=(l=this.faces[r]).vertexNormals;3===v.length?(v[0].copy(c[l.a]),v[1].copy(c[l.b]),v[2].copy(c[l.c])):(v[0]=c[l.a].clone(),v[1]=c[l.b].clone(),v[2]=c[l.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var i,e,t,n,r;for(t=0,n=this.faces.length;t<n;t++)for((r=this.faces[t]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),i=0,e=r.vertexNormals.length;i<e;i++)r.__originalVertexNormals[i]?r.__originalVertexNormals[i].copy(r.vertexNormals[i]):r.__originalVertexNormals[i]=r.vertexNormals[i].clone();var o=new Un;for(o.faces=this.faces,i=0,e=this.morphTargets.length;i<e;i++){if(!this.morphNormals[i]){this.morphNormals[i]={},this.morphNormals[i].faceNormals=[],this.morphNormals[i].vertexNormals=[];var l=this.morphNormals[i].faceNormals,c=this.morphNormals[i].vertexNormals;for(t=0,n=this.faces.length;t<n;t++)h=new en,d={a:new en,b:new en,c:new en},l.push(h),c.push(d)}var h,d,f=this.morphNormals[i];for(o.vertices=this.morphTargets[i].vertices,o.computeFaceNormals(),o.computeVertexNormals(),t=0,n=this.faces.length;t<n;t++)r=this.faces[t],h=f.faceNormals[t],d=f.vertexNormals[t],h.copy(r.normal),d.a.copy(r.vertexNormals[0]),d.b.copy(r.vertexNormals[1]),d.c.copy(r.vertexNormals[2])}for(t=0,n=this.faces.length;t<n;t++)(r=this.faces[t]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new un),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new dn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,o=this.vertices.length,l=this.vertices,c=e.vertices,h=this.faces,d=e.faces,f=this.faceVertexUvs[0],m=e.faceVertexUvs[0],_=this.colors,v=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new tn).getNormalMatrix(t));for(var i=0,y=c.length;i<y;i++){var x=c[i].clone();void 0!==t&&x.applyMatrix4(t),l.push(x)}for(i=0,y=v.length;i<y;i++)_.push(v[i].clone());for(i=0,y=d.length;i<y;i++){var w,T,S,M=d[i],E=M.vertexNormals,L=M.vertexColors;(w=new kn(M.a+o,M.b+o,M.c+o)).normal.copy(M.normal),void 0!==r&&w.normal.applyMatrix3(r).normalize();for(var k=0,A=E.length;k<A;k++)T=E[k].clone(),void 0!==r&&T.applyMatrix3(r).normalize(),w.vertexNormals.push(T);w.color.copy(M.color);for(k=0,A=L.length;k<A;k++)S=L[k],w.vertexColors.push(S.clone());w.materialIndex=M.materialIndex+n,h.push(w)}for(i=0,y=m.length;i<y;i++){var P=m[i],O=[];if(void 0!==P){for(k=0,A=P.length;k<A;k++)O.push(P[k].clone());f.push(O)}}}else console.error("Geometry.merge(): geometry not an instance of Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("Geometry.mergeMesh(): mesh not an instance of Mesh.",e)},mergeVertices:function(){var e,t,i,n,r,o,l,c,h={},d=[],f=[],m=Math.pow(10,4);for(i=0,n=this.vertices.length;i<n;i++)e=this.vertices[i],void 0===h[t=Math.round(e.x*m)+"_"+Math.round(e.y*m)+"_"+Math.round(e.z*m)]?(h[t]=i,d.push(this.vertices[i]),f[i]=d.length-1):f[i]=f[h[t]];var _=[];for(i=0,n=this.faces.length;i<n;i++){(r=this.faces[i]).a=f[r.a],r.b=f[r.b],r.c=f[r.c],o=[r.a,r.b,r.c];for(var v=0;v<3;v++)if(o[v]===o[(v+1)%3]){_.push(i);break}}for(i=_.length-1;i>=0;i--){var y=_[i];for(this.faces.splice(y,1),l=0,c=this.faceVertexUvs.length;l<c;l++)this.faceVertexUvs[l].splice(y,1)}var x=this.vertices.length-d.length;return this.vertices=d,x},setFromPoints:function(e){this.vertices=[];for(var i=0,t=e.length;i<t;i++){var n=e[i];this.vertices.push(new en(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,i=0;i<t;i++)e[i]._id=i;e.sort((function(a,b){return a.materialIndex-b.materialIndex}));var n,r,o=this.faceVertexUvs[0],l=this.faceVertexUvs[1];o&&o.length===t&&(n=[]),l&&l.length===t&&(r=[]);for(i=0;i<t;i++){var c=e[i]._id;n&&n.push(o[c]),r&&r.push(l[c])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var data={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var t in e)void 0!==e[t]&&(data[t]=e[t]);return data}for(var n=[],i=0;i<this.vertices.length;i++){var r=this.vertices[i];n.push(r.x,r.y,r.z)}var o=[],l=[],c={},h=[],d={},f=[],m={};for(i=0;i<this.faces.length;i++){var _=this.faces[i],v=void 0!==this.faceVertexUvs[0][i],y=_.normal.length()>0,x=_.vertexNormals.length>0,w=1!==_.color.r||1!==_.color.g||1!==_.color.b,T=_.vertexColors.length>0,S=0;if(S=k(S,0,0),S=k(S,1,!0),S=k(S,2,!1),S=k(S,3,v),S=k(S,4,y),S=k(S,5,x),S=k(S,6,w),S=k(S,7,T),o.push(S),o.push(_.a,_.b,_.c),o.push(_.materialIndex),v){var M=this.faceVertexUvs[0][i];o.push(O(M[0]),O(M[1]),O(M[2]))}if(y&&o.push(A(_.normal)),x){var E=_.vertexNormals;o.push(A(E[0]),A(E[1]),A(E[2]))}if(w&&o.push(P(_.color)),T){var L=_.vertexColors;o.push(P(L[0]),P(L[1]),P(L[2]))}}function k(e,t,n){return n?e|1<<t:e&~(1<<t)}function A(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=l.length/3,l.push(e.x,e.y,e.z),c[t])}function P(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==d[t]?d[t]:(d[t]=h.length,h.push(e.getHex()),d[t])}function O(e){var t=e.x.toString()+e.y.toString();return void 0!==m[t]?m[t]:(m[t]=f.length/2,f.push(e.x,e.y),m[t])}return data.data={},data.data.vertices=n,data.data.normals=l,h.length>0&&(data.data.colors=h),f.length>0&&(data.data.uvs=[f]),data.data.faces=o,data},clone:function(){return(new Un).copy(this)},copy:function(source){var i,e,t,n,r,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=source.name;var l=source.vertices;for(i=0,e=l.length;i<e;i++)this.vertices.push(l[i].clone());var c=source.colors;for(i=0,e=c.length;i<e;i++)this.colors.push(c[i].clone());var h=source.faces;for(i=0,e=h.length;i<e;i++)this.faces.push(h[i].clone());for(i=0,e=source.faceVertexUvs.length;i<e;i++){var d=source.faceVertexUvs[i];for(void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]),t=0,n=d.length;t<n;t++){var f=d[t],m=[];for(r=0,o=f.length;r<o;r++){var _=f[r];m.push(_.clone())}this.faceVertexUvs[i].push(m)}}var v=source.morphTargets;for(i=0,e=v.length;i<e;i++){var y={};if(y.name=v[i].name,void 0!==v[i].vertices)for(y.vertices=[],t=0,n=v[i].vertices.length;t<n;t++)y.vertices.push(v[i].vertices[t].clone());if(void 0!==v[i].normals)for(y.normals=[],t=0,n=v[i].normals.length;t<n;t++)y.normals.push(v[i].normals[t].clone());this.morphTargets.push(y)}var x=source.morphNormals;for(i=0,e=x.length;i<e;i++){var w={};if(void 0!==x[i].vertexNormals)for(w.vertexNormals=[],t=0,n=x[i].vertexNormals.length;t<n;t++){var T=x[i].vertexNormals[t],S={};S.a=T.a.clone(),S.b=T.b.clone(),S.c=T.c.clone(),w.vertexNormals.push(S)}if(void 0!==x[i].faceNormals)for(w.faceNormals=[],t=0,n=x[i].faceNormals.length;t<n;t++)w.faceNormals.push(x[i].faceNormals[t].clone());this.morphNormals.push(w)}var M=source.skinWeights;for(i=0,e=M.length;i<e;i++)this.skinWeights.push(M[i].clone());var E=source.skinIndices;for(i=0,e=E.length;i<e;i++)this.skinIndices.push(E[i].clone());var L=source.lineDistances;for(i=0,e=L.length;i<e;i++)this.lineDistances.push(L[i]);var k=source.boundingBox;null!==k&&(this.boundingBox=k.clone());var A=source.boundingSphere;return null!==A&&(this.boundingSphere=A.clone()),this.elementsNeedUpdate=source.elementsNeedUpdate,this.verticesNeedUpdate=source.verticesNeedUpdate,this.uvsNeedUpdate=source.uvsNeedUpdate,this.normalsNeedUpdate=source.normalsNeedUpdate,this.colorsNeedUpdate=source.colorsNeedUpdate,this.lineDistancesNeedUpdate=source.lineDistancesNeedUpdate,this.groupsNeedUpdate=source.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});n(235);function Bn(e,t,n){if(Array.isArray(e))throw new TypeError("BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function jn(e,t,n){Bn.call(this,new Int8Array(e),t,n)}function Wn(e,t,n){Bn.call(this,new Uint8Array(e),t,n)}function Hn(e,t,n){Bn.call(this,new Uint8ClampedArray(e),t,n)}function Vn(e,t,n){Bn.call(this,new Int16Array(e),t,n)}function Yn(e,t,n){Bn.call(this,new Uint16Array(e),t,n)}function Xn(e,t,n){Bn.call(this,new Int32Array(e),t,n)}function $n(e,t,n){Bn.call(this,new Uint32Array(e),t,n)}function qn(e,t,n){Bn.call(this,new Float32Array(e),t,n)}function Zn(e,t,n){Bn.call(this,new Float64Array(e),t,n)}function Kn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Jn(e){if(0===e.length)return-1/0;for(var t=e[0],i=1,n=e.length;i<n;++i)e[i]>t&&(t=e[i]);return t}Object.defineProperty(Bn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Bn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(source){return this.name=source.name,this.array=new source.array.constructor(source.array),this.itemSize=source.itemSize,this.count=source.count,this.normalized=source.normalized,this.dynamic=source.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("BufferAttribute.copyColorsArray(): color is undefined",i),o=new xn),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Bi),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new en),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var o=e[i];void 0===o&&(console.warn("BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new En),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),jn.prototype=Object.create(Bn.prototype),jn.prototype.constructor=jn,Wn.prototype=Object.create(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=Object.create(Bn.prototype),Hn.prototype.constructor=Hn,Vn.prototype=Object.create(Bn.prototype),Vn.prototype.constructor=Vn,Yn.prototype=Object.create(Bn.prototype),Yn.prototype.constructor=Yn,Xn.prototype=Object.create(Bn.prototype),Xn.prototype.constructor=Xn,$n.prototype=Object.create(Bn.prototype),$n.prototype.constructor=$n,qn.prototype=Object.create(Bn.prototype),qn.prototype.constructor=qn,Zn.prototype=Object.create(Bn.prototype),Zn.prototype.constructor=Zn,Object.assign(Kn.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,o=e.faces,i=0;i<o.length;i++){var l=o[i];l.materialIndex!==r&&(r=l.materialIndex,void 0!==t&&(t.count=3*i-t.start,n.push(t)),t={start:3*i,materialIndex:r})}void 0!==t&&(t.count=3*i-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,o=e.faceVertexUvs,l=o[0]&&o[0].length>0,c=o[1]&&o[1].length>0,h=e.morphTargets,d=h.length;if(d>0){t=[];for(var i=0;i<d;i++)t[i]={name:h[i].name,data:[]};this.morphTargets.position=t}var f,m=e.morphNormals,_=m.length;if(_>0){f=[];for(i=0;i<_;i++)f[i]={name:m[i].name,data:[]};this.morphTargets.normal=f}var v=e.skinIndices,y=e.skinWeights,x=v.length===r.length,w=y.length===r.length;r.length>0&&0===n.length&&console.error("DirectGeometry: Faceless geometries are not supported.");for(i=0;i<n.length;i++){var T=n[i];this.vertices.push(r[T.a],r[T.b],r[T.c]);var S=T.vertexNormals;if(3===S.length)this.normals.push(S[0],S[1],S[2]);else{var M=T.normal;this.normals.push(M,M,M)}var E,L=T.vertexColors;if(3===L.length)this.colors.push(L[0],L[1],L[2]);else{var k=T.color;this.colors.push(k,k,k)}if(!0===l)void 0!==(E=o[0][i])?this.uvs.push(E[0],E[1],E[2]):(console.warn("DirectGeometry.fromGeometry(): Undefined vertexUv ",i),this.uvs.push(new Bi,new Bi,new Bi));if(!0===c)void 0!==(E=o[1][i])?this.uvs2.push(E[0],E[1],E[2]):(console.warn("DirectGeometry.fromGeometry(): Undefined vertexUv2 ",i),this.uvs2.push(new Bi,new Bi,new Bi));for(var A=0;A<d;A++){var P=h[A].vertices;t[A].data.push(P[T.a],P[T.b],P[T.c])}for(A=0;A<_;A++){var O=m[A].vertexNormals[i];f[A].data.push(O.a,O.b,O.c)}x&&this.skinIndices.push(v[T.a],v[T.b],v[T.c]),w&&this.skinWeights.push(y[T.a],y[T.b],y[T.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Qn=1;function er(){Object.defineProperty(this,"id",{value:Qn+=2}),this.uuid=Gi.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function ir(e,t,n,r,o,l){Un.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:l},this.fromBufferGeometry(new nr(e,t,n,r,o,l)),this.mergeVertices()}function nr(e,t,n,r,o,l){er.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};var c=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,o=Math.floor(o)||1,l=Math.floor(l)||1;var h=[],d=[],f=[],m=[],_=0,v=0;function y(u,e,t,n,r,o,l,y,x,w,T){var S,M,E=o/x,L=l/w,k=o/2,A=l/2,P=y/2,O=x+1,C=w+1,R=0,I=0,F=new en;for(M=0;M<C;M++){var N=M*L-A;for(S=0;S<O;S++){var z=S*E-k;F[u]=z*n,F[e]=N*r,F[t]=P,d.push(F.x,F.y,F.z),F[u]=0,F[e]=0,F[t]=y>0?1:-1,f.push(F.x,F.y,F.z),m.push(S/x),m.push(1-M/w),R+=1}}for(M=0;M<w;M++)for(S=0;S<x;S++){var a=_+S+O*M,b=_+S+O*(M+1),D=_+(S+1)+O*(M+1),G=_+(S+1)+O*M;h.push(a,b,G),h.push(b,D,G),I+=6}c.addGroup(v,I,T),v+=I,_+=R}y("z","y","x",-1,-1,n,t,e,l,o,0),y("z","y","x",1,-1,n,t,-e,l,o,1),y("x","z","y",1,1,e,n,t,r,l,2),y("x","z","y",1,-1,e,n,-t,r,l,3),y("x","y","z",1,-1,e,t,n,r,o,4),y("x","y","z",-1,-1,e,t,-n,r,o,5),this.setIndex(h),this.addAttribute("position",new qn(d,3)),this.addAttribute("normal",new qn(f,3)),this.addAttribute("uv",new qn(m,2))}function rr(e,t,n,r){Un.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new ar(e,t,n,r)),this.mergeVertices()}function ar(e,t,n,r){er.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var o,l,c=(e=e||1)/2,h=(t=t||1)/2,d=Math.floor(n)||1,f=Math.floor(r)||1,m=d+1,_=f+1,v=e/d,y=t/f,x=[],w=[],T=[],S=[];for(l=0;l<_;l++){var M=l*y-h;for(o=0;o<m;o++){var E=o*v-c;w.push(E,-M,0),T.push(0,0,1),S.push(o/d),S.push(1-l/f)}}for(l=0;l<f;l++)for(o=0;o<d;o++){var a=o+m*l,b=o+m*(l+1),L=o+1+m*(l+1),k=o+1+m*l;x.push(a,b,k),x.push(b,L,k)}this.setIndex(x),this.addAttribute("position",new qn(w,3)),this.addAttribute("normal",new qn(T,3)),this.addAttribute("uv",new qn(S,2))}er.prototype=Object.assign(Object.create(Ui.prototype),{constructor:er,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Jn(e)>65535?$n:Yn)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Bn(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new tn).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new tn).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new Zi;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new Zi;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new Zi;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new Zi;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new Zi;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new Nn;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new en;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(object){var e=object.geometry;if(object.isPoints||object.isLine){var t=new qn(3*e.vertices.length,3),n=new qn(3*e.colors.length,3);if(this.addAttribute("position",t.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new qn(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else object.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i];t.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new qn(t,3)),this},updateFromObject:function(object){var e,t=object.geometry;if(object.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}return!0===t.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(t.vertices),e.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(t.normals),e.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(t.colors),e.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(t.uvs),e.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(t.lineDistances),e.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(object.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Kn).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Bn(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Bn(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Bn(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var o=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Bn(o,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var l=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Bn(l,2).copyVector2sArray(e.uvs2))}for(var c in this.groups=e.groups,e.morphTargets){for(var h=[],d=e.morphTargets[c],i=0,f=d.length;i<f;i++){var m=d[i],_=new qn(3*m.data.length,3);_.name=m.name,h.push(_.copyVector3sArray(m.data))}this.morphAttributes[c]=h}if(e.skinIndices.length>0){var v=new qn(4*e.skinIndices.length,4);this.addAttribute("skinIndex",v.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var y=new qn(4*e.skinWeights.length,4);this.addAttribute("skinWeight",y.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new un);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new un,t=new en;return function(){null===this.boundingSphere&&(this.boundingSphere=new dn);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var o=0,i=0,l=n.count;i<l;i++)t.x=n.getX(i),t.y=n.getY(i),t.z=n.getZ(i),o=Math.max(o,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Bn(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var l,c,h,d=t.normal.array,f=new en,m=new en,_=new en,v=new en,y=new en;if(e){var x=e.array;for(i=0,o=e.count;i<o;i+=3)l=3*x[i+0],c=3*x[i+1],h=3*x[i+2],f.fromArray(n,l),m.fromArray(n,c),_.fromArray(n,h),v.subVectors(_,m),y.subVectors(f,m),v.cross(y),d[l]+=v.x,d[l+1]+=v.y,d[l+2]+=v.z,d[c]+=v.x,d[c+1]+=v.y,d[c+2]+=v.z,d[h]+=v.x,d[h+1]+=v.y,d[h+2]+=v.z}else for(i=0,o=n.length;i<o;i+=9)f.fromArray(n,i),m.fromArray(n,i+3),_.fromArray(n,i+6),v.subVectors(_,m),y.subVectors(f,m),v.cross(y),d[i]=v.x,d[i+1]=v.y,d[i+2]=v.z,d[i+3]=v.x,d[i+4]=v.y,d[i+5]=v.z,d[i+6]=v.x,d[i+7]=v.y,d[i+8]=v.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var o=n[r].array,l=e.attributes[r],c=l.array,i=0,h=l.itemSize*t;i<c.length;i++,h++)o[h]=c[i];return this}console.error("BufferGeometry.merge(): geometry not an instance of BufferGeometry.",e)},normalizeNormals:function(){var e=new en;return function(){for(var t=this.attributes.normal,i=0,n=t.count;i<n;i++)e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.normalize(),t.setXYZ(i,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,o=new n.constructor(t.length*r),l=0,c=0,i=0,h=t.length;i<h;i++){l=t[i]*r;for(var d=0;d<r;d++)o[c++]=n[l++]}return new Bn(o,r)}if(null===this.index)return console.warn("BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new er,n=this.index.array,r=this.attributes;for(var o in r){var l=e(r[o],n);t.addAttribute(o,l)}var c=this.morphAttributes;for(o in c){for(var h=[],d=c[o],i=0,f=d.length;i<f;i++){l=e(d[i],n);h.push(l)}t.morphAttributes[o]=h}for(var m=this.groups,_=(i=0,m.length);i<_;i++){var v=m[i];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var data={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),Object.keys(this.userData).length>0&&(data.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var t in e)void 0!==e[t]&&(data[t]=e[t]);return data}data.data={attributes:{}};var n=this.index;null!==n&&(data.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var r=this.attributes;for(var t in r){var o={itemSize:(m=r[t]).itemSize,type:m.array.constructor.name,array:Array.prototype.slice.call(m.array),normalized:m.normalized};""!==m.name&&(o.name=m.name),data.data.attributes[t]=o}var l={},c=!1;for(var t in this.morphAttributes){for(var h=this.morphAttributes[t],d=[],i=0,f=h.length;i<f;i++){var m;o={itemSize:(m=h[i]).itemSize,type:m.array.constructor.name,array:Array.prototype.slice.call(m.array),normalized:m.normalized};""!==m.name&&(o.name=m.name),d.push(o)}d.length>0&&(l[t]=d,c=!0)}c&&(data.data.morphAttributes=l);var _=this.groups;_.length>0&&(data.data.groups=JSON.parse(JSON.stringify(_)));var v=this.boundingSphere;return null!==v&&(data.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),data},clone:function(){return(new er).copy(this)},copy:function(source){var e,i,t;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=source.name;var n=source.index;null!==n&&this.setIndex(n.clone());var r=source.attributes;for(e in r){var o=r[e];this.addAttribute(e,o.clone())}var l=source.morphAttributes;for(e in l){var c=[],h=l[e];for(i=0,t=h.length;i<t;i++)c.push(h[i].clone());this.morphAttributes[e]=c}var d=source.groups;for(i=0,t=d.length;i<t;i++){var f=d[i];this.addGroup(f.start,f.count,f.materialIndex)}var m=source.boundingBox;null!==m&&(this.boundingBox=m.clone());var _=source.boundingSphere;return null!==_&&(this.boundingSphere=_.clone()),this.drawRange.start=source.drawRange.start,this.drawRange.count=source.drawRange.count,this.userData=source.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ir.prototype=Object.create(Un.prototype),ir.prototype.constructor=ir,nr.prototype=Object.create(er.prototype),nr.prototype.constructor=nr,rr.prototype=Object.create(Un.prototype),rr.prototype.constructor=rr,ar.prototype=Object.create(er.prototype),ar.prototype.constructor=ar;var or=0;function sr(){Object.defineProperty(this,"id",{value:or++}),this.uuid=Gi.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Ce,this.side=Le,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=Pe,this.opacity=1,this.transparent=!1,this.blendSrc=Ye,this.blendDst=Xe,this.blendEquation=ze,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=it,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}sr.prototype=Object.assign(Object.create(Ui.prototype),{constructor:sr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(this.type+": '"+t+"' is not a property of this material.")}else console.warn(this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("Material: '"+t+"' parameter is undefined.")}},toJSON:function(meta){var e=void 0===meta||"string"==typeof meta;e&&(meta={textures:{},images:{}});var data={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function t(e){var t=[];for(var n in e){var data=e[n];delete data.metadata,t.push(data)}return t}if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),this.color&&this.color.isColor&&(data.color=this.color.getHex()),void 0!==this.roughness&&(data.roughness=this.roughness),void 0!==this.metalness&&(data.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(data.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(data.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(data.specular=this.specular.getHex()),void 0!==this.shininess&&(data.shininess=this.shininess),void 0!==this.clearCoat&&(data.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(data.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(data.map=this.map.toJSON(meta).uuid),this.alphaMap&&this.alphaMap.isTexture&&(data.alphaMap=this.alphaMap.toJSON(meta).uuid),this.lightMap&&this.lightMap.isTexture&&(data.lightMap=this.lightMap.toJSON(meta).uuid),this.aoMap&&this.aoMap.isTexture&&(data.aoMap=this.aoMap.toJSON(meta).uuid,data.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(data.bumpMap=this.bumpMap.toJSON(meta).uuid,data.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(data.normalMap=this.normalMap.toJSON(meta).uuid,data.normalMapType=this.normalMapType,data.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(data.displacementMap=this.displacementMap.toJSON(meta).uuid,data.displacementScale=this.displacementScale,data.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(data.roughnessMap=this.roughnessMap.toJSON(meta).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(data.metalnessMap=this.metalnessMap.toJSON(meta).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(data.emissiveMap=this.emissiveMap.toJSON(meta).uuid),this.specularMap&&this.specularMap.isTexture&&(data.specularMap=this.specularMap.toJSON(meta).uuid),this.envMap&&this.envMap.isTexture&&(data.envMap=this.envMap.toJSON(meta).uuid,data.reflectivity=this.reflectivity,void 0!==this.combine&&(data.combine=this.combine),void 0!==this.envMapIntensity&&(data.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(data.gradientMap=this.gradientMap.toJSON(meta).uuid),void 0!==this.size&&(data.size=this.size),void 0!==this.sizeAttenuation&&(data.sizeAttenuation=this.sizeAttenuation),this.blending!==Ce&&(data.blending=this.blending),!0===this.flatShading&&(data.flatShading=this.flatShading),this.side!==Le&&(data.side=this.side),this.vertexColors!==Pe&&(data.vertexColors=this.vertexColors),this.opacity<1&&(data.opacity=this.opacity),!0===this.transparent&&(data.transparent=this.transparent),data.depthFunc=this.depthFunc,data.depthTest=this.depthTest,data.depthWrite=this.depthWrite,0!==this.rotation&&(data.rotation=this.rotation),!0===this.polygonOffset&&(data.polygonOffset=!0),0!==this.polygonOffsetFactor&&(data.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(data.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(data.linewidth=this.linewidth),void 0!==this.dashSize&&(data.dashSize=this.dashSize),void 0!==this.gapSize&&(data.gapSize=this.gapSize),void 0!==this.scale&&(data.scale=this.scale),!0===this.dithering&&(data.dithering=!0),this.alphaTest>0&&(data.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(data.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(data.wireframe=this.wireframe),this.wireframeLinewidth>1&&(data.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(data.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(data.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(data.morphTargets=!0),!0===this.skinning&&(data.skinning=!0),!1===this.visible&&(data.visible=!1),"{}"!==JSON.stringify(this.userData)&&(data.userData=this.userData),e){var n=t(meta.textures),r=t(meta.images);n.length>0&&(data.textures=n),r.length>0&&(data.images=r)}return data},clone:function(){return(new this.constructor).copy(this)},copy:function(source){this.name=source.name,this.fog=source.fog,this.lights=source.lights,this.blending=source.blending,this.side=source.side,this.flatShading=source.flatShading,this.vertexColors=source.vertexColors,this.opacity=source.opacity,this.transparent=source.transparent,this.blendSrc=source.blendSrc,this.blendDst=source.blendDst,this.blendEquation=source.blendEquation,this.blendSrcAlpha=source.blendSrcAlpha,this.blendDstAlpha=source.blendDstAlpha,this.blendEquationAlpha=source.blendEquationAlpha,this.depthFunc=source.depthFunc,this.depthTest=source.depthTest,this.depthWrite=source.depthWrite,this.colorWrite=source.colorWrite,this.precision=source.precision,this.polygonOffset=source.polygonOffset,this.polygonOffsetFactor=source.polygonOffsetFactor,this.polygonOffsetUnits=source.polygonOffsetUnits,this.dithering=source.dithering,this.alphaTest=source.alphaTest,this.premultipliedAlpha=source.premultipliedAlpha,this.visible=source.visible,this.userData=JSON.parse(JSON.stringify(source.userData)),this.clipShadows=source.clipShadows,this.clipIntersection=source.clipIntersection;var e=source.clippingPlanes,t=null;if(null!==e){var n=e.length;t=new Array(n);for(var i=0;i!==n;++i)t[i]=e[i].clone()}return this.clippingPlanes=t,this.shadowSide=source.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var lr,cr,ur,dr,pr,fr,mr,_r,gr,vr,yr,xr,wr="\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",Tr="\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n";function Sr(e){sr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=wr,this.fragmentShader=Tr,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("ShaderMaterial: attributes should now be defined in BufferGeometry instead."),this.setValues(e))}function Mr(e,t){this.origin=void 0!==e?e:new en,this.direction=void 0!==t?t:new en}function Er(a,b,e){this.a=void 0!==a?a:new en,this.b=void 0!==b?b:new en,this.c=void 0!==e?e:new en}function Lr(e){sr.call(this),this.type="MeshBasicMaterial",this.color=new xn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function kr(e,t){Nn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new er,this.material=void 0!==t?t:new Lr({color:16777215*Math.random()}),this.drawMode=Ei,this.updateMorphTargets()}function Ar(e,t,n,r){var o,l,c=new xn(0),h=0,d=null,f=0;function m(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return c},setClearColor:function(e,t){c.set(e),m(c,h=void 0!==t?t:1)},getClearAlpha:function(){return h},setClearAlpha:function(e){m(c,h=e)},render:function(t,r,_,v){var y=r.background;if(null===y?(m(c,h),d=null,f=0):y&&y.isColor&&(m(y,1),v=!0,d=null,f=0),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||y.isWebGLRenderTargetCube)){void 0===l&&((l=new kr(new nr(1,1,1),new Sr({type:"BackgroundCubeMaterial",uniforms:wn(Mn.cube.uniforms),vertexShader:Mn.cube.vertexShader,fragmentShader:Mn.cube.fragmentShader,side:ke,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(l));var x=y.isWebGLRenderTargetCube?y.texture:y;l.material.uniforms.tCube.value=x,l.material.uniforms.tFlip.value=y.isWebGLRenderTargetCube?1:-1,d===y&&f===x.version||(l.material.needsUpdate=!0,d=y,f=x.version),t.unshift(l,l.geometry,l.material,0,0,null)}else y&&y.isTexture&&(void 0===o&&((o=new kr(new ar(2,2),new Sr({type:"BackgroundMaterial",uniforms:wn(Mn.background.uniforms),vertexShader:Mn.background.vertexShader,fragmentShader:Mn.background.fragmentShader,side:Le,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=y,!0===y.matrixAutoUpdate&&y.updateMatrix(),o.material.uniforms.uvTransform.value.copy(y.matrix),d===y&&f===y.version||(o.material.needsUpdate=!0,d=y,f=y.version),t.unshift(o,o.geometry,o.material,0,0,null))}}}function Pr(e,t,n,r){var o;this.setMode=function(e){o=e},this.render=function(t,r){e.drawArrays(o,t,r),n.update(r,o)},this.renderInstances=function(l,c,h){var d;if(r.isWebGL2)d=e;else if(null===(d=t.get("ANGLE_instanced_arrays")))return void console.error("WebGLBufferRenderer: using InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](o,c,h,l.maxInstancedCount),n.update(h,o,l.maxInstancedCount)}}function Or(e,t,n){var r;function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var l="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,c=void 0!==n.precision?n.precision:"highp",h=o(c);h!==c&&(console.warn("WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);var d=!0===n.logarithmicDepthBuffer,f=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),m=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=e.getParameter(e.MAX_TEXTURE_SIZE),v=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),y=e.getParameter(e.MAX_VERTEX_ATTRIBS),x=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),w=e.getParameter(e.MAX_VARYING_VECTORS),T=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),S=m>0,M=l||!!t.get("OES_texture_float");return{isWebGL2:l,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:o,precision:c,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:m,maxTextureSize:_,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:T,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:S&&M,maxSamples:l?e.getParameter(e.MAX_SAMPLES):0}}function Cr(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Rr(e,t,n){var r={},o={};function l(e){var c=e.target,h=r[c.id];for(var d in null!==h.index&&t.remove(h.index),h.attributes)t.remove(h.attributes[d]);c.removeEventListener("dispose",l),delete r[c.id];var f=o[h.id];f&&(t.remove(f),delete o[h.id]),n.memory.geometries--}return{get:function(object,e){var t=r[e.id];return t||(e.addEventListener("dispose",l),e.isBufferGeometry?t=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new er).setFromObject(object)),t=e._bufferGeometry),r[e.id]=t,n.memory.geometries++,t)},update:function(n){var r=n.index,o=n.attributes;for(var l in null!==r&&t.update(r,e.ELEMENT_ARRAY_BUFFER),o)t.update(o[l],e.ARRAY_BUFFER);var c=n.morphAttributes;for(var l in c)for(var h=c[l],i=0,d=h.length;i<d;i++)t.update(h[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(n){var r=o[n.id];if(r)return r;var l,c=[],h=n.index,d=n.attributes;if(null!==h)for(var i=0,f=(l=h.array).length;i<f;i+=3){var a=l[i+0],b=l[i+1],m=l[i+2];c.push(a,b,b,m,m,a)}else for(i=0,f=(l=d.position.array).length/3-1;i<f;i+=3){a=i+0,b=i+1,m=i+2;c.push(a,b,b,m,m,a)}return r=new(Jn(c)>65535?$n:Yn)(c,1),t.update(r,e.ELEMENT_ARRAY_BUFFER),o[n.id]=r,r}}}function Ir(e,t,n,r){var o,l,c;this.setMode=function(e){o=e},this.setIndex=function(e){l=e.type,c=e.bytesPerElement},this.render=function(t,r){e.drawElements(o,r,l,t*c),n.update(r,o)},this.renderInstances=function(h,d,f){var m;if(r.isWebGL2)m=e;else if(null===(m=t.get("ANGLE_instanced_arrays")))return void console.error("WebGLIndexedBufferRenderer: using InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](o,f,l,d*c,h.maxInstancedCount),n.update(f,o,h.maxInstancedCount)}}function Fr(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,o){switch(o=o||1,t.calls++,r){case e.TRIANGLES:t.triangles+=o*(n/3);break;case e.TRIANGLE_STRIP:case e.TRIANGLE_FAN:t.triangles+=o*(n-2);break;case e.LINES:t.lines+=o*(n/2);break;case e.LINE_STRIP:t.lines+=o*(n-1);break;case e.LINE_LOOP:t.lines+=o*n;break;case e.POINTS:t.points+=o*n;break;default:console.error("WebGLInfo: Unknown draw mode:",r)}}}}function Nr(a,b){return Math.abs(b[1])-Math.abs(a[1])}function zr(e){var t={},n=new Float32Array(8);return{update:function(object,r,o,l){var c=object.morphTargetInfluences,h=c.length,d=t[r.id];if(void 0===d){d=[];for(var i=0;i<h;i++)d[i]=[i,0];t[r.id]=d}var f=o.morphTargets&&r.morphAttributes.position,m=o.morphNormals&&r.morphAttributes.normal;for(i=0;i<h;i++){0!==(_=d[i])[1]&&(f&&r.removeAttribute("morphTarget"+i),m&&r.removeAttribute("morphNormal"+i))}for(i=0;i<h;i++){(_=d[i])[0]=i,_[1]=c[i]}for(d.sort(Nr),i=0;i<8;i++){var _;if(_=d[i]){var v=_[0],y=_[1];if(y){f&&r.addAttribute("morphTarget"+i,f[v]),m&&r.addAttribute("morphNormal"+i,m[v]),n[i]=y;continue}}n[i]=0}l.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Dr(e,t){var n={};return{update:function(object){var r=t.render.frame,o=object.geometry,l=e.get(object,o);return n[l.id]!==r&&(o.isGeometry&&l.updateFromObject(object),e.update(l),n[l.id]=r),l},dispose:function(){n={}}}}Sr.prototype=Object.create(sr.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isShaderMaterial=!0,Sr.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.fragmentShader=source.fragmentShader,this.vertexShader=source.vertexShader,this.uniforms=wn(source.uniforms),this.defines=Object.assign({},source.defines),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.lights=source.lights,this.clipping=source.clipping,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this.extensions=source.extensions,this},Sr.prototype.toJSON=function(meta){var data=sr.prototype.toJSON.call(this,meta);for(var e in data.uniforms={},this.uniforms){var t=this.uniforms[e].value;t&&t.isTexture?data.uniforms[e]={type:"t",value:t.toJSON(meta).uuid}:t&&t.isColor?data.uniforms[e]={type:"c",value:t.getHex()}:t&&t.isVector2?data.uniforms[e]={type:"v2",value:t.toArray()}:t&&t.isVector3?data.uniforms[e]={type:"v3",value:t.toArray()}:t&&t.isVector4?data.uniforms[e]={type:"v4",value:t.toArray()}:t&&t.isMatrix3?data.uniforms[e]={type:"m3",value:t.toArray()}:t&&t.isMatrix4?data.uniforms[e]={type:"m4",value:t.toArray()}:data.uniforms[e]={value:t}}Object.keys(this.defines).length>0&&(data.defines=this.defines),data.vertexShader=this.vertexShader,data.fragmentShader=this.fragmentShader;var n={};for(var r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(data.extensions=n),data},Object.assign(Mr.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("Ray: .at() target is now required"),t=new en),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new en;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("Ray: .closestPointToPoint() target is now required"),t=new en),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new en;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:(cr=new en,ur=new en,dr=new en,function(e,t,n,r){cr.copy(e).add(t).multiplyScalar(.5),ur.copy(t).sub(e).normalize(),dr.copy(this.origin).sub(cr);var o,l,c,h,d=.5*e.distanceTo(t),f=-this.direction.dot(ur),m=dr.dot(this.direction),_=-dr.dot(ur),v=dr.lengthSq(),y=Math.abs(1-f*f);if(y>0)if(l=f*m-_,h=d*y,(o=f*_-m)>=0)if(l>=-h)if(l<=h){var x=1/y;c=(o*=x)*(o+f*(l*=x)+2*m)+l*(f*o+l+2*_)+v}else l=d,c=-(o=Math.max(0,-(f*l+m)))*o+l*(l+2*_)+v;else l=-d,c=-(o=Math.max(0,-(f*l+m)))*o+l*(l+2*_)+v;else l<=-h?c=-(o=Math.max(0,-(-f*d+m)))*o+(l=o>0?-d:Math.min(Math.max(-d,-_),d))*(l+2*_)+v:l<=h?(o=0,c=(l=Math.min(Math.max(-d,-_),d))*(l+2*_)+v):c=-(o=Math.max(0,-(f*d+m)))*o+(l=o>0?d:Math.min(Math.max(-d,-_),d))*(l+2*_)+v;else l=f>0?-d:d,c=-(o=Math.max(0,-(f*l+m)))*o+l*(l+2*_)+v;return n&&n.copy(this.direction).multiplyScalar(o).add(this.origin),r&&r.copy(ur).multiplyScalar(l).add(cr),c}),intersectSphere:function(){var e=new en;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),o=e.dot(e)-r*r,l=t.radius*t.radius;if(o>l)return null;var c=Math.sqrt(l-o),h=r-c,d=r+c;return h<0&&d<0?null:h<0?this.at(d,n):this.at(h,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,o,l,c,h,d=1/this.direction.x,f=1/this.direction.y,m=1/this.direction.z,_=this.origin;return d>=0?(n=(e.min.x-_.x)*d,r=(e.max.x-_.x)*d):(n=(e.max.x-_.x)*d,r=(e.min.x-_.x)*d),f>=0?(o=(e.min.y-_.y)*f,l=(e.max.y-_.y)*f):(o=(e.max.y-_.y)*f,l=(e.min.y-_.y)*f),n>l||o>r?null:((o>n||n!=n)&&(n=o),(l<r||r!=r)&&(r=l),m>=0?(c=(e.min.z-_.z)*m,h=(e.max.z-_.z)*m):(c=(e.max.z-_.z)*m,h=(e.min.z-_.z)*m),n>h||c>r?null:((c>n||n!=n)&&(n=c),(h<r||r!=r)&&(r=h),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:(lr=new en,function(e){return null!==this.intersectBox(e,lr)}),intersectTriangle:function(){var e=new en,t=new en,n=new en,r=new en;return function(a,b,o,l,c){t.subVectors(b,a),n.subVectors(o,a),r.crossVectors(t,n);var h,d=this.direction.dot(r);if(d>0){if(l)return null;h=1}else{if(!(d<0))return null;h=-1,d=-d}e.subVectors(this.origin,a);var f=h*this.direction.dot(n.crossVectors(e,n));if(f<0)return null;var m=h*this.direction.dot(t.cross(e));if(m<0)return null;if(f+m>d)return null;var _=-h*e.dot(r);return _<0?null:this.at(_/d,c)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Er,{getNormal:(fr=new en,function(a,b,e,t){void 0===t&&(console.warn("Triangle: .getNormal() target is now required"),t=new en),t.subVectors(e,b),fr.subVectors(a,b),t.cross(fr);var n=t.lengthSq();return n>0?t.multiplyScalar(1/Math.sqrt(n)):t.set(0,0,0)}),getBarycoord:function(){var e=new en,t=new en,n=new en;return function(r,a,b,o,l){e.subVectors(o,a),t.subVectors(b,a),n.subVectors(r,a);var c=e.dot(e),h=e.dot(t),d=e.dot(n),f=t.dot(t),m=t.dot(n),_=c*f-h*h;if(void 0===l&&(console.warn("Triangle: .getBarycoord() target is now required"),l=new en),0===_)return l.set(-2,-1,-1);var v=1/_,u=(f*d-h*m)*v,y=(c*m-h*d)*v;return l.set(1-u-y,y,u)}}(),containsPoint:function(){var e=new en;return function(t,a,b,n){return Er.getBarycoord(t,a,b,n,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:(pr=new en,function(e,t,n,r,o,l,c,h){return this.getBarycoord(e,t,n,r,pr),h.set(0,0),h.addScaledVector(o,pr.x),h.addScaledVector(l,pr.y),h.addScaledVector(c,pr.z),h})}),Object.assign(Er.prototype,{set:function(a,b,e){return this.a.copy(a),this.b.copy(b),this.c.copy(e),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new en,t=new en;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("Triangle: .getMidpoint() target is now required"),e=new en),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Er.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("Triangle: .getPlane() target is now required"),e=new en),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Er.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Er.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,o){return Er.getUV(e,this.a,this.b,this.c,t,n,r,o)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:(mr=new en,_r=new en,gr=new en,vr=new en,yr=new en,xr=new en,function(p,e){void 0===e&&(console.warn("Triangle: .closestPointToPoint() target is now required"),e=new en);var t,n,a=this.a,b=this.b,r=this.c;mr.subVectors(b,a),_r.subVectors(r,a),vr.subVectors(p,a);var o=mr.dot(vr),l=_r.dot(vr);if(o<=0&&l<=0)return e.copy(a);yr.subVectors(p,b);var c=mr.dot(yr),h=_r.dot(yr);if(c>=0&&h<=c)return e.copy(b);var d=o*h-c*l;if(d<=0&&o>=0&&c<=0)return t=o/(o-c),e.copy(a).addScaledVector(mr,t);xr.subVectors(p,r);var f=mr.dot(xr),m=_r.dot(xr);if(m>=0&&f<=m)return e.copy(r);var _=f*l-o*m;if(_<=0&&l>=0&&m<=0)return n=l/(l-m),e.copy(a).addScaledVector(_r,n);var v=c*m-f*h;if(v<=0&&h-c>=0&&f-m>=0)return gr.subVectors(r,b),n=(h-c)/(h-c+(f-m)),e.copy(b).addScaledVector(gr,n);var y=1/(v+_+d);return t=_*y,n=d*y,e.copy(a).addScaledVector(mr,t).addScaledVector(_r,n)}),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),Lr.prototype=Object.create(sr.prototype),Lr.prototype.constructor=Lr,Lr.prototype.isMeshBasicMaterial=!0,Lr.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this},kr.prototype=Object.assign(Object.create(Nn.prototype),{constructor:kr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(source){return Nn.prototype.copy.call(this,source),this.drawMode=source.drawMode,void 0!==source.morphTargetInfluences&&(this.morphTargetInfluences=source.morphTargetInfluences.slice()),void 0!==source.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},source.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var o=r.morphAttributes,l=Object.keys(o);if(l.length>0){var c=o[l[0]];if(void 0!==c)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=c.length;e<t;e++)n=c[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var h=r.morphTargets;void 0!==h&&h.length>0&&console.error("Mesh.updateMorphTargets() no longer supports Geometry. Use BufferGeometry instead.")}},raycast:function(){var e=new Zi,t=new Mr,n=new dn,r=new en,o=new en,l=new en,c=new en,h=new en,d=new en,f=new Bi,m=new Bi,_=new Bi,v=new en,y=new en;function x(object,e,t,n,r,o,l,c){if(null===(e.side===ke?n.intersectTriangle(l,o,r,!0,c):n.intersectTriangle(r,o,l,e.side!==Ae,c)))return null;y.copy(c),y.applyMatrix4(object.matrixWorld);var h=t.ray.origin.distanceTo(y);return h<t.near||h>t.far?null:{distance:h,point:y.clone(),object:object}}function w(object,e,t,n,c,h,a,b,d){r.fromBufferAttribute(c,a),o.fromBufferAttribute(c,b),l.fromBufferAttribute(c,d);var y=x(object,e,t,n,r,o,l,v);if(y){h&&(f.fromBufferAttribute(h,a),m.fromBufferAttribute(h,b),_.fromBufferAttribute(h,d),y.uv=Er.getUV(v,r,o,l,f,m,_,new Bi));var w=new kn(a,b,d);Er.getNormal(r,o,l,w.normal),y.face=w}return y}return function(y,T){var S,M=this.geometry,E=this.material,L=this.matrixWorld;if(void 0!==E&&(null===M.boundingSphere&&M.computeBoundingSphere(),n.copy(M.boundingSphere),n.applyMatrix4(L),!1!==y.ray.intersectsSphere(n)&&(e.getInverse(L),t.copy(y.ray).applyMatrix4(e),null===M.boundingBox||!1!==t.intersectsBox(M.boundingBox))))if(M.isBufferGeometry){var a,b,k,i,A,P,O,C,R,I=M.index,F=M.attributes.position,N=M.attributes.uv,z=M.groups,D=M.drawRange;if(null!==I)if(Array.isArray(E))for(i=0,P=z.length;i<P;i++)for(R=E[(C=z[i]).materialIndex],A=Math.max(C.start,D.start),O=Math.min(C.start+C.count,D.start+D.count);A<O;A+=3)a=I.getX(A),b=I.getX(A+1),k=I.getX(A+2),(S=w(this,R,y,t,F,N,a,b,k))&&(S.faceIndex=Math.floor(A/3),S.face.materialIndex=C.materialIndex,T.push(S));else for(i=Math.max(0,D.start),P=Math.min(I.count,D.start+D.count);i<P;i+=3)a=I.getX(i),b=I.getX(i+1),k=I.getX(i+2),(S=w(this,E,y,t,F,N,a,b,k))&&(S.faceIndex=Math.floor(i/3),T.push(S));else if(void 0!==F)if(Array.isArray(E))for(i=0,P=z.length;i<P;i++)for(R=E[(C=z[i]).materialIndex],A=Math.max(C.start,D.start),O=Math.min(C.start+C.count,D.start+D.count);A<O;A+=3)(S=w(this,R,y,t,F,N,a=A,b=A+1,k=A+2))&&(S.faceIndex=Math.floor(A/3),S.face.materialIndex=C.materialIndex,T.push(S));else for(i=Math.max(0,D.start),P=Math.min(F.count,D.start+D.count);i<P;i+=3)(S=w(this,E,y,t,F,N,a=i,b=i+1,k=i+2))&&(S.faceIndex=Math.floor(i/3),T.push(S))}else if(M.isGeometry){var G,U,B,j,W=Array.isArray(E),H=M.vertices,V=M.faces,Y=M.faceVertexUvs[0];Y.length>0&&(j=Y);for(var X=0,$=V.length;X<$;X++){var Z=V[X],K=W?E[Z.materialIndex]:E;if(void 0!==K){if(G=H[Z.a],U=H[Z.b],B=H[Z.c],!0===K.morphTargets){var J=M.morphTargets,Q=this.morphTargetInfluences;r.set(0,0,0),o.set(0,0,0),l.set(0,0,0);for(var ee=0,te=J.length;ee<te;ee++){var ie=Q[ee];if(0!==ie){var ne=J[ee].vertices;r.addScaledVector(c.subVectors(ne[Z.a],G),ie),o.addScaledVector(h.subVectors(ne[Z.b],U),ie),l.addScaledVector(d.subVectors(ne[Z.c],B),ie)}}r.add(G),o.add(U),l.add(B),G=r,U=o,B=l}if(S=x(this,K,y,t,G,U,B,v)){if(j&&j[X]){var re=j[X];f.copy(re[0]),m.copy(re[1]),_.copy(re[2]),S.uv=Er.getUV(v,G,U,B,f,m,_,new Bi)}S.face=Z,S.faceIndex=X,T.push(S)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});n(29);function Gr(e,t,n,r,o,l,c,h,d,f){e=void 0!==e?e:[],t=void 0!==t?t:vt,c=void 0!==c?c:Xt,cn.call(this,e,t,n,r,o,l,c,h,d,f),this.flipY=!1}function Ur(data,e,t,n){cn.call(this,null),this.image={data:data,width:e,height:t,depth:n},this.magFilter=kt,this.minFilter=kt,this.wrapR=Et,this.generateMipmaps=!1,this.flipY=!1}Gr.prototype=Object.create(cn.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isCubeTexture=!0,Object.defineProperty(Gr.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ur.prototype=Object.create(cn.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isDataTexture3D=!0;var Br=new cn,jr=new Ur,Wr=new Gr;function Hr(){this.seq=[],this.map={}}var Vr=[],Yr=[],Xr=new Float32Array(16),$r=new Float32Array(9),qr=new Float32Array(4);function Zr(e,t,n){var r=e[0];if(r<=0||r>0)return e;var o=t*n,l=Vr[o];if(void 0===l&&(l=new Float32Array(o),Vr[o]=l),0!==t){r.toArray(l,0);for(var i=1,c=0;i!==t;++i)c+=n,e[i].toArray(l,c)}return l}function Kr(a,b){if(a.length!==b.length)return!1;for(var i=0,e=a.length;i<e;i++)if(a[i]!==b[i])return!1;return!0}function Jr(a,b){for(var i=0,e=b.length;i<e;i++)a[i]=b[i]}function Qr(e,t){var n=Yr[t];void 0===n&&(n=new Int32Array(t),Yr[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocTextureUnit();return n}function ea(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ta(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ia(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Kr(n,t))return;e.uniform2fv(this.addr,t),Jr(n,t)}}function na(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Kr(n,t))return;e.uniform3fv(this.addr,t),Jr(n,t)}}function ra(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Kr(n,t))return;e.uniform4fv(this.addr,t),Jr(n,t)}}function aa(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kr(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Jr(n,t)}else{if(Kr(n,r))return;qr.set(r),e.uniformMatrix2fv(this.addr,!1,qr),Jr(n,r)}}function oa(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kr(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Jr(n,t)}else{if(Kr(n,r))return;$r.set(r),e.uniformMatrix3fv(this.addr,!1,$r),Jr(n,r)}}function sa(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Kr(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Jr(n,t)}else{if(Kr(n,r))return;Xr.set(r),e.uniformMatrix4fv(this.addr,!1,Xr),Jr(n,r)}}function la(e,t,n){var r=this.cache,o=n.allocTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTexture2D(t||Br,o)}function ca(e,t,n){var r=this.cache,o=n.allocTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(t||jr,o)}function ha(e,t,n){var r=this.cache,o=n.allocTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTextureCube(t||Wr,o)}function ua(e,t){var n=this.cache;Kr(n,t)||(e.uniform2iv(this.addr,t),Jr(n,t))}function da(e,t){var n=this.cache;Kr(n,t)||(e.uniform3iv(this.addr,t),Jr(n,t))}function pa(e,t){var n=this.cache;Kr(n,t)||(e.uniform4iv(this.addr,t),Jr(n,t))}function fa(e,t){var n=this.cache;Kr(n,t)||(e.uniform1fv(this.addr,t),Jr(n,t))}function ma(e,t){var n=this.cache;Kr(n,t)||(e.uniform1iv(this.addr,t),Jr(n,t))}function _a(e,t){var n=this.cache,data=Zr(t,this.size,2);Kr(n,data)||(e.uniform2fv(this.addr,data),this.updateCache(data))}function ga(e,t){var n=this.cache,data=Zr(t,this.size,3);Kr(n,data)||(e.uniform3fv(this.addr,data),this.updateCache(data))}function va(e,t){var n=this.cache,data=Zr(t,this.size,4);Kr(n,data)||(e.uniform4fv(this.addr,data),this.updateCache(data))}function ya(e,t){var n=this.cache,data=Zr(t,this.size,4);Kr(n,data)||(e.uniformMatrix2fv(this.addr,!1,data),this.updateCache(data))}function xa(e,t){var n=this.cache,data=Zr(t,this.size,9);Kr(n,data)||(e.uniformMatrix3fv(this.addr,!1,data),this.updateCache(data))}function ba(e,t){var n=this.cache,data=Zr(t,this.size,16);Kr(n,data)||(e.uniformMatrix4fv(this.addr,!1,data),this.updateCache(data))}function wa(e,t,n){var r=this.cache,o=t.length,l=Qr(n,o);!1===Kr(r,l)&&(e.uniform1iv(this.addr,l),Jr(r,l));for(var i=0;i!==o;++i)n.setTexture2D(t[i]||Br,l[i])}function Ta(e,t,n){var r=this.cache,o=t.length,l=Qr(n,o);!1===Kr(r,l)&&(e.uniform1iv(this.addr,l),Jr(r,l));for(var i=0;i!==o;++i)n.setTextureCube(t[i]||Wr,l[i])}function Sa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ea;case 35664:return ia;case 35665:return na;case 35666:return ra;case 35674:return aa;case 35675:return oa;case 35676:return sa;case 35678:case 36198:return la;case 35679:return ca;case 35680:return ha;case 5124:case 35670:return ta;case 35667:case 35671:return ua;case 35668:case 35672:return da;case 35669:case 35673:return pa}}(t.type)}function Ma(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return fa;case 35664:return _a;case 35665:return ga;case 35666:return va;case 35674:return ya;case 35675:return xa;case 35676:return ba;case 35678:return wa;case 35680:return Ta;case 5124:case 35670:return ma;case 35667:case 35671:return ua;case 35668:case 35672:return da;case 35669:case 35673:return pa}}(t.type)}function Ea(e){this.id=e,Hr.call(this)}Ma.prototype.updateCache=function(data){var e=this.cache;data instanceof Float32Array&&e.length!==data.length&&(this.cache=new Float32Array(data.length)),Jr(e,data)},Ea.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var u=r[i];u.setValue(e,t[u.id],n)}};var La=/([\w\d_]+)(\])?(\[|\.)?/g;function ka(e,t){e.seq.push(t),e.map[t.id]=t}function Aa(e,t,n){var path=e.name,r=path.length;for(La.lastIndex=0;;){var o=La.exec(path),l=La.lastIndex,c=o[1],h="]"===o[2],d=o[3];if(h&&(c|=0),void 0===d||"["===d&&l+2===r){ka(n,void 0===d?new Sa(c,e,t):new Ma(c,e,t));break}var f=n.map[c];void 0===f&&ka(n,f=new Ea(c)),n=f}}function Pa(e,t,n){Hr.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=e.getActiveUniform(t,i);Aa(o,e.getUniformLocation(t,o.name),this)}}function Oa(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),i=0;i<t.length;i++)t[i]=i+1+": "+t[i];return t.join("\n")}(n)),r}Pa.prototype.setValue=function(e,t,n){var u=this.map[t];void 0!==u&&u.setValue(e,n,this.renderer)},Pa.prototype.setOptional=function(e,object,t){var n=object[t];void 0!==n&&this.setValue(e,t,n)},Pa.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var u=t[i],l=n[u.id];!1!==l.needsUpdate&&u.setValue(e,l.value,r)}},Pa.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var u=e[i];u.id in t&&n.push(u)}return n};var Ca=0;function Ra(e){switch(e){case Ai:return["Linear","( value )"];case Pi:return["sRGB","( value )"];case Ci:return["RGBE","( value )"];case Ri:return["RGBM","( value, 7.0 )"];case Ii:return["RGBM","( value, 16.0 )"];case Fi:return["RGBD","( value, 256.0 )"];case Oi:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Ia(e,t){var n=Ra(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Fa(e,t){var n;switch(t){case pt:n="Linear";break;case ft:n="Reinhard";break;case mt:n="Uncharted2";break;case _t:n="OptimizedCineon";break;case gt:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Na(e){return""!==e}function za(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Da(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Ga(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=vn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ga(n)}))}function Ua(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(var o="",i=parseInt(t);i<parseInt(n);i++)o+=r.replace(/\[ i \]/g,"[ "+i+" ]");return o}))}function Ba(e,t,code,n,r,o,l){var c=e.context,h=n.defines,d=r.vertexShader,f=r.fragmentShader,m="SHADOWMAP_TYPE_BASIC";o.shadowMapType===Me?m="SHADOWMAP_TYPE_PCF":o.shadowMapType===Ee&&(m="SHADOWMAP_TYPE_PCF_SOFT");var _="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",y="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(n.envMap.mapping){case vt:case yt:_="ENVMAP_TYPE_CUBE";break;case Tt:case St:_="ENVMAP_TYPE_CUBE_UV";break;case xt:case bt:_="ENVMAP_TYPE_EQUIREC";break;case wt:_="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case yt:case bt:v="ENVMAP_MODE_REFRACTION"}switch(n.combine){case lt:y="ENVMAP_BLENDING_MULTIPLY";break;case ct:y="ENVMAP_BLENDING_MIX";break;case ht:y="ENVMAP_BLENDING_ADD"}}var x,w,T,S,M,E=e.gammaFactor>0?e.gammaFactor:1,L=l.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Na).join("\n")}(n.extensions,o,t),k=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(h),A=c.createProgram();if(n.isRawShaderMaterial?((x=[k].filter(Na).join("\n")).length>0&&(x+="\n"),(w=[L,k].filter(Na).join("\n")).length>0&&(w+="\n")):(x=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,k,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+v:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+m:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(l.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Na).join("\n"),w=[L,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,k,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+E,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+_:"",o.envMap?"#define "+v:"",o.envMap?"#define "+y:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+m:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(l.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(l.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==ut?"#define TONE_MAPPING":"",o.toneMapping!==ut?vn.tonemapping_pars_fragment:"",o.toneMapping!==ut?Fa("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?vn.encodings_pars_fragment:"",o.mapEncoding?Ia("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Ia("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Ia("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ia("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(T="linearToOutputTexel",S=o.outputEncoding,M=Ra(S),"vec4 "+T+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Na).join("\n")),d=Da(d=za(d=Ga(d),o),o),f=Da(f=za(f=Ga(f),o),o),d=Ua(d),f=Ua(f),l.isWebGL2&&!n.isRawShaderMaterial){var P=!1,O=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==d.match(O)&&null!==f.match(O)&&(P=!0,d=d.replace(O,""),f=f.replace(O,"")),x=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+x,w=["#version 300 es\n","#define varying in",P?"":"out highp vec4 pc_fragColor;",P?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+w}var C=x+d,R=w+f,I=Oa(c,c.VERTEX_SHADER,C),F=Oa(c,c.FRAGMENT_SHADER,R);c.attachShader(A,I),c.attachShader(A,F),void 0!==n.index0AttributeName?c.bindAttribLocation(A,0,n.index0AttributeName):!0===o.morphTargets&&c.bindAttribLocation(A,0,"position"),c.linkProgram(A);var N,z,D=c.getProgramInfoLog(A).trim(),G=c.getShaderInfoLog(I).trim(),U=c.getShaderInfoLog(F).trim(),B=!0,j=!0;return!1===c.getProgramParameter(A,c.LINK_STATUS)?(B=!1,console.error("WebGLProgram: shader error: ",c.getError(),"gl.VALIDATE_STATUS",c.getProgramParameter(A,c.VALIDATE_STATUS),"gl.getProgramInfoLog",D,G,U)):""!==D?console.warn("WebGLProgram: gl.getProgramInfoLog()",D):""!==G&&""!==U||(j=!1),j&&(this.diagnostics={runnable:B,material:n,programLog:D,vertexShader:{log:G,prefix:x},fragmentShader:{log:U,prefix:w}}),c.deleteShader(I),c.deleteShader(F),this.getUniforms=function(){return void 0===N&&(N=new Pa(c,A,e)),N},this.getAttributes=function(){return void 0===z&&(z=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(c,A)),z},this.destroy=function(){c.deleteProgram(A),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=r.name,this.id=Ca++,this.code=code,this.usedTimes=1,this.program=A,this.vertexShader=I,this.fragmentShader=F,this}function ja(e,t,n){var r=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},l=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function c(map,e){var t;return map?map.isTexture?t=map.encoding:map.isWebGLRenderTarget&&(console.warn("WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=map.texture.encoding):t=Ai,t===Ai&&e&&(t=Oi),t}this.getParameters=function(t,r,l,h,d,f,object){var m=o[t.type],_=object.isSkinnedMesh?function(object){var e=object.skeleton.bones;if(n.floatVertexTextures)return 1024;var t=n.maxVertexUniforms,r=Math.floor((t-20)/4),o=Math.min(r,e.length);return o<e.length?(console.warn("WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+o+"."),0):o}(object):0,v=n.precision;null!==t.precision&&(v=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("WebGLProgram.getParameters:",t.precision,"not supported, using",v,"instead.");var y=e.getRenderTarget();return{shaderID:m,precision:v,supportsVertexTextures:n.vertexTextures,outputEncoding:c(y?y.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:c(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:c(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:c(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===Tt||t.envMap.mapping===St),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:c(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Di,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,fog:!!h,useFog:t.fog,fogExp:h&&h.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&_>0,maxBones:_,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:d,numClipIntersection:f,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&object.receiveShadow&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===Ae,flipSided:t.side===ke,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var o in t.defines)r.push(o),r.push(t.defines[o]);for(var i=0;i<l.length;i++)r.push(n[l[i]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(o,l,c,code){for(var h,p=0,d=r.length;p<d;p++){var f=r[p];if(f.code===code){++(h=f).usedTimes;break}}return void 0===h&&(h=new Ba(e,t,code,o,l,c,n),r.push(h)),h},this.releaseProgram=function(e){if(0==--e.usedTimes){var i=r.indexOf(e);r[i]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Wa(){var e=new WeakMap;return{get:function(object){var map=e.get(object);return void 0===map&&(map={},e.set(object,map)),map},remove:function(object){e.delete(object)},update:function(object,t,n){e.get(object)[t]=n},dispose:function(){e=new WeakMap}}}function Ha(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program&&b.program&&a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Va(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function Ya(){var e=[],t=0,n=[],r=[];function o(object,n,r,o,l,c){var h=e[t];return void 0===h?(h={id:object.id,object:object,geometry:n,material:r,program:r.program,groupOrder:o,renderOrder:object.renderOrder,z:l,group:c},e[t]=h):(h.id=object.id,h.object=object,h.geometry=n,h.material=r,h.program=r.program,h.groupOrder=o,h.renderOrder=object.renderOrder,h.z=l,h.group=c),t++,h}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(object,e,t,l,c,h){var d=o(object,e,t,l,c,h);(!0===t.transparent?r:n).push(d)},unshift:function(object,e,t,l,c,h){var d=o(object,e,t,l,c,h);(!0===t.transparent?r:n).unshift(d)},sort:function(){n.length>1&&n.sort(Ha),r.length>1&&r.sort(Va)}}}function Xa(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var o,l=e[n.id];return void 0===l?(o=new Ya,e[n.id]={},e[n.id][r.id]=o,n.addEventListener("dispose",t)):void 0===(o=l[r.id])&&(o=new Ya,l[r.id]=o),o},dispose:function(){e={}}}}function $a(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new en,color:new xn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Bi};break;case"SpotLight":n={position:new en,direction:new en,color:new xn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Bi};break;case"PointLight":n={position:new en,color:new xn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Bi,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new en,skyColor:new xn,groundColor:new xn};break;case"RectAreaLight":n={color:new xn,position:new en,halfWidth:new en,halfHeight:new en}}return e[t.id]=n,n}}}var qa=0;function Za(){var e=new $a,t={id:qa++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new en,r=new Zi,o=new Zi;return{setup:function(l,c,h){for(var d=0,g=0,b=0,f=0,m=0,_=0,v=0,y=0,x=h.matrixWorldInverse,i=0,w=l.length;i<w;i++){var T=l[i],S=T.color,M=T.intensity,E=T.distance,L=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)d+=S.r*M,g+=S.g*M,b+=S.b*M;else if(T.isDirectionalLight){if((k=e.get(T)).color.copy(T.color).multiplyScalar(T.intensity),k.direction.setFromMatrixPosition(T.matrixWorld),n.setFromMatrixPosition(T.target.matrixWorld),k.direction.sub(n),k.direction.transformDirection(x),k.shadow=T.castShadow,T.castShadow){var shadow=T.shadow;k.shadowBias=shadow.bias,k.shadowRadius=shadow.radius,k.shadowMapSize=shadow.mapSize}t.directionalShadowMap[f]=L,t.directionalShadowMatrix[f]=T.shadow.matrix,t.directional[f]=k,f++}else if(T.isSpotLight){if((k=e.get(T)).position.setFromMatrixPosition(T.matrixWorld),k.position.applyMatrix4(x),k.color.copy(S).multiplyScalar(M),k.distance=E,k.direction.setFromMatrixPosition(T.matrixWorld),n.setFromMatrixPosition(T.target.matrixWorld),k.direction.sub(n),k.direction.transformDirection(x),k.coneCos=Math.cos(T.angle),k.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),k.decay=T.decay,k.shadow=T.castShadow,T.castShadow){shadow=T.shadow;k.shadowBias=shadow.bias,k.shadowRadius=shadow.radius,k.shadowMapSize=shadow.mapSize}t.spotShadowMap[_]=L,t.spotShadowMatrix[_]=T.shadow.matrix,t.spot[_]=k,_++}else if(T.isRectAreaLight){(k=e.get(T)).color.copy(S).multiplyScalar(M),k.position.setFromMatrixPosition(T.matrixWorld),k.position.applyMatrix4(x),o.identity(),r.copy(T.matrixWorld),r.premultiply(x),o.extractRotation(r),k.halfWidth.set(.5*T.width,0,0),k.halfHeight.set(0,.5*T.height,0),k.halfWidth.applyMatrix4(o),k.halfHeight.applyMatrix4(o),t.rectArea[v]=k,v++}else if(T.isPointLight){if((k=e.get(T)).position.setFromMatrixPosition(T.matrixWorld),k.position.applyMatrix4(x),k.color.copy(T.color).multiplyScalar(T.intensity),k.distance=T.distance,k.decay=T.decay,k.shadow=T.castShadow,T.castShadow){shadow=T.shadow;k.shadowBias=shadow.bias,k.shadowRadius=shadow.radius,k.shadowMapSize=shadow.mapSize,k.shadowCameraNear=shadow.camera.near,k.shadowCameraFar=shadow.camera.far}t.pointShadowMap[m]=L,t.pointShadowMatrix[m]=T.shadow.matrix,t.point[m]=k,m++}else if(T.isHemisphereLight){var k;(k=e.get(T)).direction.setFromMatrixPosition(T.matrixWorld),k.direction.transformDirection(x),k.direction.normalize(),k.skyColor.copy(T.color).multiplyScalar(M),k.groundColor.copy(T.groundColor).multiplyScalar(M),t.hemi[y]=k,y++}}t.ambient[0]=d,t.ambient[1]=g,t.ambient[2]=b,t.directional.length=f,t.spot.length=_,t.rectArea.length=v,t.point.length=m,t.hemi.length=y,t.hash.stateID=t.id,t.hash.directionalLength=f,t.hash.pointLength=m,t.hash.spotLength=_,t.hash.rectAreaLength=v,t.hash.hemiLength=y,t.hash.shadowsLength=c.length},state:t}}function Ka(){var e=new Za,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ja(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var o;return void 0===e[n.id]?(o=new Ka,e[n.id]={},e[n.id][r.id]=o,n.addEventListener("dispose",t)):void 0===e[n.id][r.id]?(o=new Ka,e[n.id][r.id]=o):o=e[n.id][r.id],o},dispose:function(){e={}}}}function Qa(e,t,n,r){var o=new function(){var t=!1,n=new En,r=null,o=new En(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,g,b,a,r){!0===r&&(t*=a,g*=a,b*=a),n.set(t,g,b,a),!1===o.equals(n)&&(e.clearColor(t,g,b,a),o.copy(n))},reset:function(){t=!1,r=null,o.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,o=null;return{setTest:function(t){t?Y(e.DEPTH_TEST):X(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case Qe:e.depthFunc(e.NEVER);break;case et:e.depthFunc(e.ALWAYS);break;case tt:e.depthFunc(e.LESS);break;case it:e.depthFunc(e.LEQUAL);break;case nt:e.depthFunc(e.EQUAL);break;case at:e.depthFunc(e.GEQUAL);break;case ot:e.depthFunc(e.GREATER);break;case st:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){o!==t&&(e.clearDepth(t),o=t)},reset:function(){t=!1,n=null,r=null,o=null}}},c=new function(){var t=!1,n=null,r=null,o=null,l=null,c=null,h=null,d=null,f=null;return{setTest:function(t){t?Y(e.STENCIL_TEST):X(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,c){r===t&&o===n&&l===c||(e.stencilFunc(t,n,c),r=t,o=n,l=c)},setOp:function(t,n,r){c===t&&h===n&&d===r||(e.stencilOp(t,n,r),c=t,h=n,d=r)},setLocked:function(e){t=e},setClear:function(t){f!==t&&(e.clearStencil(t),f=t)},reset:function(){t=!1,n=null,r=null,o=null,l=null,c=null,h=null,d=null,f=null}}},h=e.getParameter(e.MAX_VERTEX_ATTRIBS),d=new Uint8Array(h),f=new Uint8Array(h),m=new Uint8Array(h),_={},v=null,y=null,x=null,w=null,T=null,S=null,M=null,E=null,L=null,k=null,A=!1,P=null,O=null,C=null,R=null,I=null,F=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),N=!1,z=0,D=e.getParameter(e.VERSION);-1!==D.indexOf("WebGL")?(z=parseFloat(/^WebGL\ ([0-9])/.exec(D)[1]),N=z>=1):-1!==D.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(D)[1]),N=z>=2);var G=null,U={},B=new En,j=new En;function W(t,n,r){var data=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var i=0;i<r;i++)e.texImage2D(n+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,data);return o}var H={};function V(n,o){(d[n]=1,0===f[n]&&(e.enableVertexAttribArray(n),f[n]=1),m[n]!==o)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,o),m[n]=o)}function Y(t){!0!==_[t]&&(e.enable(t),_[t]=!0)}function X(t){!1!==_[t]&&(e.disable(t),_[t]=!1)}function $(t,r,o,l,c,h,d,f){if(t!==Oe){if(x||(Y(e.BLEND),x=!0),t===Ne)c=c||r,h=h||o,d=d||l,r===T&&c===E||(e.blendEquationSeparate(n.convert(r),n.convert(c)),T=r,E=c),o===S&&l===M&&h===L&&d===k||(e.blendFuncSeparate(n.convert(o),n.convert(l),n.convert(h),n.convert(d)),S=o,M=l,L=h,k=d),w=t,A=null;else if(t!==w||f!==A){if(T===ze&&E===ze||(e.blendEquation(e.FUNC_ADD),T=ze,E=ze),f)switch(t){case Ce:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Re:e.blendFunc(e.ONE,e.ONE);break;case Ie:e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case Fe:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("WebGLState: Invalid blending: ",t)}else switch(t){case Ce:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Re:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case Ie:e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR);break;case Fe:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("WebGLState: Invalid blending: ",t)}S=null,M=null,L=null,k=null,w=t,A=f}}else x&&(X(e.BLEND),x=!1)}function Z(t){P!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),P=t)}function K(t){t!==we?(Y(e.CULL_FACE),t!==O&&(t===Te?e.cullFace(e.BACK):t===Se?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):X(e.CULL_FACE),O=t}function J(t,n,r){t?(Y(e.POLYGON_OFFSET_FILL),R===n&&I===r||(e.polygonOffset(n,r),R=n,I=r)):X(e.POLYGON_OFFSET_FILL)}function Q(t){void 0===t&&(t=e.TEXTURE0+F-1),G!==t&&(e.activeTexture(t),G=t)}return H[e.TEXTURE_2D]=W(e.TEXTURE_2D,e.TEXTURE_2D,1),H[e.TEXTURE_CUBE_MAP]=W(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Y(e.DEPTH_TEST),l.setFunc(it),Z(!1),K(Te),Y(e.CULL_FACE),$(Oe),{buffers:{color:o,depth:l,stencil:c},initAttributes:function(){for(var i=0,e=d.length;i<e;i++)d[i]=0},enableAttribute:function(e){V(e,0)},enableAttributeAndDivisor:V,disableUnusedAttributes:function(){for(var i=0,t=f.length;i!==t;++i)f[i]!==d[i]&&(e.disableVertexAttribArray(i),f[i]=0)},enable:Y,disable:X,getCompressedTextureFormats:function(){if(null===v&&(v=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)v.push(n[i]);return v},useProgram:function(t){return y!==t&&(e.useProgram(t),y=t,!0)},setBlending:$,setMaterial:function(t,n){t.side===Ae?X(e.CULL_FACE):Y(e.CULL_FACE);var r=t.side===ke;n&&(r=!r),Z(r),t.blending===Ce&&!1===t.transparent?$(Oe):$(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),o.setMask(t.colorWrite),J(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:Z,setCullFace:K,setLineWidth:function(t){t!==C&&(N&&e.lineWidth(t),C=t)},setPolygonOffset:J,setScissorTest:function(t){t?Y(e.SCISSOR_TEST):X(e.SCISSOR_TEST)},activeTexture:Q,bindTexture:function(t,n){null===G&&Q();var r=U[G];void 0===r&&(r={type:void 0,texture:void 0},U[G]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||H[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("WebGLState:",e)}},scissor:function(t){!1===B.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),B.copy(t))},viewport:function(t){!1===j.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),j.copy(t))},reset:function(){for(var i=0;i<f.length;i++)1===f[i]&&(e.disableVertexAttribArray(i),f[i]=0);_={},v=null,G=null,U={},y=null,w=null,P=null,O=null,o.reset(),l.reset(),c.reset()}}}function eo(e,t,n,r,o,l,c){var h,d={},f="undefined"!=typeof OffscreenCanvas;function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(image,e,t,n){var r=1;if((image.width>n||image.height>n)&&(r=n/Math.max(image.width,image.height)),r<1||!0===e){if(image instanceof ImageBitmap||image instanceof HTMLImageElement||image instanceof HTMLCanvasElement){var o=e?Gi.floorPowerOfTwo:Math.floor,l=o(r*image.width),c=o(r*image.height);void 0===h&&(h=m(l,c));var canvas=t?m(l,c):h;return canvas.width=l,canvas.height=c,canvas.getContext("2d").drawImage(image,0,0,l,c),console.warn("WebGLRenderer: Texture has been resized from ("+image.width+"x"+image.height+") to ("+l+"x"+c+")."),f?canvas.transferToImageBitmap():canvas}return"data"in image&&console.warn("WebGLRenderer: Image in DataTexture is too big ("+image.width+"x"+image.height+")."),image}return image}function v(image){return Gi.isPowerOfTwo(image.width)&&Gi.isPowerOfTwo(image.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==kt&&e.minFilter!==Ot}function x(t,n,o,l){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(o,l))*Math.LOG2E}function w(n,r){if(!o.isWebGL2)return n;var l=n;return n===e.RED&&(r===e.FLOAT&&(l=e.R32F),r===e.HALF_FLOAT&&(l=e.R16F),r===e.UNSIGNED_BYTE&&(l=e.R8)),n===e.RGB&&(r===e.FLOAT&&(l=e.RGB32F),r===e.HALF_FLOAT&&(l=e.RGB16F),r===e.UNSIGNED_BYTE&&(l=e.RGB8)),n===e.RGBA&&(r===e.FLOAT&&(l=e.RGBA32F),r===e.HALF_FLOAT&&(l=e.RGBA16F),r===e.UNSIGNED_BYTE&&(l=e.RGBA8)),l===e.R16F||l===e.R32F||l===e.RGBA16F||l===e.RGBA32F?t.get("EXT_color_buffer_float"):l!==e.RGB16F&&l!==e.RGB32F||console.warn("WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),l}function T(t){return t===kt||t===At||t===Pt?e.NEAREST:e.LINEAR}function S(t){var n=t.target;n.removeEventListener("dispose",S),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&delete d[n.id],c.memory.textures--}function M(t){var n=t.target;n.removeEventListener("dispose",M),function(t){var n=r.get(t),o=r.get(t.texture);if(!t)return;void 0!==o.__webglTexture&&e.deleteTexture(o.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var i=0;i<6;i++)e.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),c.memory.textures--}function E(t,slot){var o=r.get(t);if(t.isVideoTexture&&function(e){var t=e.id,n=c.render.frame;d[t]!==n&&(d[t]=n,e.update())}(t),t.version>0&&o.__version!==t.version){var image=t.image;if(void 0===image)console.warn("WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==image.complete)return void A(o,t,slot);console.warn("WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(e.TEXTURE0+slot),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function L(n,c,h){var d;if(h?(e.texParameteri(n,e.TEXTURE_WRAP_S,l.convert(c.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,l.convert(c.wrapT)),n===e.TEXTURE_3D&&e.texParameteri(n,e.TEXTURE_WRAP_R,l.convert(c.wrapR)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,l.convert(c.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,l.convert(c.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n===e.TEXTURE_3D&&e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),c.wrapS===Et&&c.wrapT===Et||console.warn("WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,T(c.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,T(c.minFilter)),c.minFilter!==kt&&c.minFilter!==Ot&&console.warn("WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to NearestFilter or LinearFilter.")),d=t.get("EXT_texture_filter_anisotropic")){if(c.type===Ut&&null===t.get("OES_texture_float_linear"))return;if(c.type===Bt&&null===(o.isWebGL2||t.get("OES_texture_half_float_linear")))return;(c.anisotropy>1||r.get(c).__currentAnisotropy)&&(e.texParameterf(n,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,o.getMaxAnisotropy())),r.get(c).__currentAnisotropy=c.anisotropy)}}function k(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),c.memory.textures++)}function A(t,r,slot){var c=r.isDataTexture3D?e.TEXTURE_3D:e.TEXTURE_2D;k(t,r),n.activeTexture(e.TEXTURE0+slot),n.bindTexture(c,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var h=function(e){return!o.isWebGL2&&(e.wrapS!==Et||e.wrapT!==Et||e.minFilter!==kt&&e.minFilter!==Ot)}(r)&&!1===v(r.image),image=_(r.image,h,!1,o.maxTextureSize),d=v(image)||o.isWebGL2,f=l.convert(r.format),m=l.convert(r.type),T=w(f,m);L(c,r,d);var S,M=r.mipmaps;if(r.isDepthTexture){if(T=e.DEPTH_COMPONENT,r.type===Ut){if(!o.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");T=e.DEPTH_COMPONENT32F}else o.isWebGL2&&(T=e.DEPTH_COMPONENT16);r.format===Kt&&T===e.DEPTH_COMPONENT&&r.type!==zt&&r.type!==Gt&&(console.warn("WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=zt,m=l.convert(r.type)),r.format===Jt&&(T=e.DEPTH_STENCIL,r.type!==Vt&&(console.warn("WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Vt,m=l.convert(r.type))),n.texImage2D(e.TEXTURE_2D,0,T,image.width,image.height,0,f,m,null)}else if(r.isDataTexture)if(M.length>0&&d){for(var i=0,E=M.length;i<E;i++)S=M[i],n.texImage2D(e.TEXTURE_2D,i,T,S.width,S.height,0,f,m,S.data);r.generateMipmaps=!1,t.__maxMipLevel=M.length-1}else n.texImage2D(e.TEXTURE_2D,0,T,image.width,image.height,0,f,m,image.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(i=0,E=M.length;i<E;i++)S=M[i],r.format!==$t&&r.format!==Xt?n.getCompressedTextureFormats().indexOf(f)>-1?n.compressedTexImage2D(e.TEXTURE_2D,i,T,S.width,S.height,0,S.data):console.warn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,i,T,S.width,S.height,0,f,m,S.data);t.__maxMipLevel=M.length-1}else if(r.isDataTexture3D)n.texImage3D(e.TEXTURE_3D,0,T,image.width,image.height,image.depth,0,f,m,image.data),t.__maxMipLevel=0;else if(M.length>0&&d){for(i=0,E=M.length;i<E;i++)S=M[i],n.texImage2D(e.TEXTURE_2D,i,T,f,m,S);r.generateMipmaps=!1,t.__maxMipLevel=M.length-1}else n.texImage2D(e.TEXTURE_2D,0,T,f,m,image),t.__maxMipLevel=0;y(r,d)&&x(e.TEXTURE_2D,r,image.width,image.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function P(t,o,c,h){var d=l.convert(o.texture.format),f=l.convert(o.texture.type),m=w(d,f);n.texImage2D(h,0,m,o.width,o.height,0,d,f,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,c,h,r.get(o.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function O(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){if(r){var o=R(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,o,e.DEPTH_COMPONENT16,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){o=R(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,o,e.DEPTH_STENCIL,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{var c=w(l.convert(n.texture.format),l.convert(n.texture.type));if(r){o=R(n);e.renderbufferStorageMultisample(e.RENDERBUFFER,o,c,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function C(t){var n=r.get(t),o=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),E(n.depthTexture,0);var o=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Kt)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(n.depthTexture.format!==Jt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(n.__webglFramebuffer,t)}else if(o){n.__webglDepthbuffer=[];for(var i=0;i<6;i++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=e.createRenderbuffer(),O(n.__webglDepthbuffer[i],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),O(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function R(e){return o.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(o.maxSamples,e.samples):0}this.setTexture2D=E,this.setTexture3D=function(t,slot){var o=r.get(t);t.version>0&&o.__version!==t.version?A(o,t,slot):(n.activeTexture(e.TEXTURE0+slot),n.bindTexture(e.TEXTURE_3D,o.__webglTexture))},this.setTextureCube=function(t,slot){var c=r.get(t);if(6===t.image.length)if(t.version>0&&c.__version!==t.version){k(c,t),n.activeTexture(e.TEXTURE0+slot),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var h=t&&t.isCompressedTexture,d=t.image[0]&&t.image[0].isDataTexture,f=[],i=0;i<6;i++)f[i]=h||d?d?t.image[i].image:t.image[i]:_(t.image[i],!1,!0,o.maxCubemapSize);var image=f[0],m=v(image)||o.isWebGL2,T=l.convert(t.format),S=l.convert(t.type),M=w(T,S);L(e.TEXTURE_CUBE_MAP,t,m);for(i=0;i<6;i++)if(h)for(var E,A=f[i].mipmaps,P=0,O=A.length;P<O;P++)E=A[P],t.format!==$t&&t.format!==Xt?n.getCompressedTextureFormats().indexOf(T)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,P,M,E.width,E.height,0,E.data):console.warn("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,P,M,E.width,E.height,0,T,S,E.data);else d?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,M,f[i].width,f[i].height,0,T,S,f[i].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,M,T,S,f[i]);c.__maxMipLevel=h?A.length-1:0,y(t,m)&&x(e.TEXTURE_CUBE_MAP,t,image.width,image.height),c.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+slot),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture)},this.setTextureCubeDynamic=function(t,slot){n.activeTexture(e.TEXTURE0+slot),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var h=r.get(t),d=r.get(t.texture);t.addEventListener("dispose",M),d.__webglTexture=e.createTexture(),c.memory.textures++;var f=!0===t.isWebGLRenderTargetCube,m=!0===t.isWebGLMultisampleRenderTarget,_=v(t)||o.isWebGL2;if(f){h.__webglFramebuffer=[];for(var i=0;i<6;i++)h.__webglFramebuffer[i]=e.createFramebuffer()}else if(h.__webglFramebuffer=e.createFramebuffer(),m)if(o.isWebGL2){h.__webglMultisampledFramebuffer=e.createFramebuffer(),h.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,h.__webglColorRenderbuffer);var T=w(l.convert(t.texture.format),l.convert(t.texture.type)),S=R(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,S,T,t.width,t.height),e.bindFramebuffer(e.FRAMEBUFFER,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,h.__webglColorRenderbuffer),e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(h.__webglDepthRenderbuffer=e.createRenderbuffer(),O(h.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(e.FRAMEBUFFER,null)}else console.warn("WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(f){n.bindTexture(e.TEXTURE_CUBE_MAP,d.__webglTexture),L(e.TEXTURE_CUBE_MAP,t.texture,_);for(i=0;i<6;i++)P(h.__webglFramebuffer[i],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+i);y(t.texture,_)&&x(e.TEXTURE_CUBE_MAP,t.texture,t.width,t.height),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,d.__webglTexture),L(e.TEXTURE_2D,t.texture,_),P(h.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),y(t.texture,_)&&x(e.TEXTURE_2D,t.texture,t.width,t.height),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&C(t)},this.updateRenderTargetMipmap=function(t){var l=t.texture;if(y(l,v(t)||o.isWebGL2)){var c=t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,h=r.get(l).__webglTexture;n.bindTexture(c,h),x(c,l,t.width,t.height),n.bindTexture(c,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(o.isWebGL2){var n=r.get(t);e.bindFramebuffer(e.READ_FRAMEBUFFER,n.__webglMultisampledFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n.__webglFramebuffer);var l=t.width,c=t.height,mask=e.COLOR_BUFFER_BIT;t.depthBuffer&&(mask|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(mask|=e.STENCIL_BUFFER_BIT),e.blitFramebuffer(0,0,l,c,0,0,l,c,mask,e.NEAREST)}else console.warn("WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}}function to(e,t,n){return{convert:function(p){var r;if(p===Mt)return e.REPEAT;if(p===Et)return e.CLAMP_TO_EDGE;if(p===Lt)return e.MIRRORED_REPEAT;if(p===kt)return e.NEAREST;if(p===At)return e.NEAREST_MIPMAP_NEAREST;if(p===Pt)return e.NEAREST_MIPMAP_LINEAR;if(p===Ot)return e.LINEAR;if(p===Ct)return e.LINEAR_MIPMAP_NEAREST;if(p===Rt)return e.LINEAR_MIPMAP_LINEAR;if(p===It)return e.UNSIGNED_BYTE;if(p===jt)return e.UNSIGNED_SHORT_4_4_4_4;if(p===Wt)return e.UNSIGNED_SHORT_5_5_5_1;if(p===Ht)return e.UNSIGNED_SHORT_5_6_5;if(p===Ft)return e.BYTE;if(p===Nt)return e.SHORT;if(p===zt)return e.UNSIGNED_SHORT;if(p===Dt)return e.INT;if(p===Gt)return e.UNSIGNED_INT;if(p===Ut)return e.FLOAT;if(p===Bt){if(n.isWebGL2)return e.HALF_FLOAT;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(p===Yt)return e.ALPHA;if(p===Xt)return e.RGB;if(p===$t)return e.RGBA;if(p===qt)return e.LUMINANCE;if(p===Zt)return e.LUMINANCE_ALPHA;if(p===Kt)return e.DEPTH_COMPONENT;if(p===Jt)return e.DEPTH_STENCIL;if(p===Qt)return e.RED;if(p===ze)return e.FUNC_ADD;if(p===De)return e.FUNC_SUBTRACT;if(p===Ge)return e.FUNC_REVERSE_SUBTRACT;if(p===je)return e.ZERO;if(p===We)return e.ONE;if(p===He)return e.SRC_COLOR;if(p===Ve)return e.ONE_MINUS_SRC_COLOR;if(p===Ye)return e.SRC_ALPHA;if(p===Xe)return e.ONE_MINUS_SRC_ALPHA;if(p===$e)return e.DST_ALPHA;if(p===qe)return e.ONE_MINUS_DST_ALPHA;if(p===Ze)return e.DST_COLOR;if(p===Ke)return e.ONE_MINUS_DST_COLOR;if(p===Je)return e.SRC_ALPHA_SATURATE;if((p===ei||p===ti||p===ii||p===ni)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(p===ei)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===ti)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===ii)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===ni)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((p===ri||p===ai||p===oi||p===si)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(p===ri)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===ai)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===oi)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===si)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(p===ci&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((p===hi||p===ui||p===di||p===pi||p===fi||p===mi||p===_i||p===gi||p===vi||p===yi||p===xi||p===bi||p===wi||p===Ti)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return p;if(p===Ue||p===Be){if(n.isWebGL2){if(p===Ue)return e.MIN;if(p===Be)return e.MAX}if(null!==(r=t.get("EXT_blend_minmax"))){if(p===Ue)return r.MIN_EXT;if(p===Be)return r.MAX_EXT}}if(p===Vt){if(n.isWebGL2)return e.UNSIGNED_INT_24_8;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function io(e,t,n){this.width=e,this.height=t,this.scissor=new En(0,0,e,t),this.scissorTest=!1,this.viewport=new En(0,0,e,t),n=n||{},this.texture=new cn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ot,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function no(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function ro(){Nn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function ao(){Nn.call(this),this.type="Camera",this.matrixWorldInverse=new Zi,this.projectionMatrix=new Zi,this.projectionMatrixInverse=new Zi}function oo(e,t,n,r,o,l){ao.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==o?o:.1,this.far=void 0!==l?l:2e3,this.updateProjectionMatrix()}function so(e,t,n,r){ao.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function lo(){Nn.call(this),this.type="Group"}function co(video,e,t,n,r,o,l,c,h){cn.call(this,video,e,t,n,r,o,l,c,h),this.format=void 0!==l?l:Xt,this.minFilter=void 0!==o?o:Ot,this.magFilter=void 0!==r?r:Ot,this.generateMipmaps=!1}function ho(e,t,n){var r=this,o=!1,l=0,c=0,h=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){c++,!1===o&&void 0!==r.onStart&&r.onStart(e,l,c),o=!0},this.itemEnd=function(e){l++,void 0!==r.onProgress&&r.onProgress(e,l,c),l===c&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return h?h(e):e},this.setURLModifier=function(e){return h=e,this}}io.prototype=Object.assign(Object.create(Ui.prototype),{constructor:io,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(source){return this.width=source.width,this.height=source.height,this.viewport.copy(source.viewport),this.texture=source.texture.clone(),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,this.depthTexture=source.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(no.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),ro.prototype=Object.assign(Object.create(Nn.prototype),{constructor:ro,isScene:!0,copy:function(source,e){return Nn.prototype.copy.call(this,source,e),null!==source.background&&(this.background=source.background.clone()),null!==source.fog&&(this.fog=source.fog.clone()),null!==source.overrideMaterial&&(this.overrideMaterial=source.overrideMaterial.clone()),this.autoUpdate=source.autoUpdate,this.matrixAutoUpdate=source.matrixAutoUpdate,this},toJSON:function(meta){var data=Nn.prototype.toJSON.call(this,meta);return null!==this.background&&(data.object.background=this.background.toJSON(meta)),null!==this.fog&&(data.object.fog=this.fog.toJSON()),data},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ao.prototype=Object.assign(Object.create(Nn.prototype),{constructor:ao,isCamera:!0,copy:function(source,e){return Nn.prototype.copy.call(this,source,e),this.matrixWorldInverse.copy(source.matrixWorldInverse),this.projectionMatrix.copy(source.projectionMatrix),this.projectionMatrixInverse.copy(source.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("Camera: .getWorldDirection() target is now required"),e=new en),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Nn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),oo.prototype=Object.assign(Object.create(ao.prototype),{constructor:oo,isOrthographicCamera:!0,copy:function(source,e){return ao.prototype.copy.call(this,source,e),this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this.view=null===source.view?null:Object.assign({},source.view),this},setViewOffset:function(e,t,n,r,o,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,o=n-e,l=n+e,c=r+t,h=r-t;if(null!==this.view&&this.view.enabled){var d=this.zoom/(this.view.width/this.view.fullWidth),f=this.zoom/(this.view.height/this.view.fullHeight),m=(this.right-this.left)/this.view.width,_=(this.top-this.bottom)/this.view.height;l=(o+=m*(this.view.offsetX/d))+m*(this.view.width/d),h=(c-=_*(this.view.offsetY/f))-_*(this.view.height/f)}this.projectionMatrix.makeOrthographic(o,l,c,h,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(meta){var data=Nn.prototype.toJSON.call(this,meta);return data.object.zoom=this.zoom,data.object.left=this.left,data.object.right=this.right,data.object.top=this.top,data.object.bottom=this.bottom,data.object.near=this.near,data.object.far=this.far,null!==this.view&&(data.object.view=Object.assign({},this.view)),data}}),so.prototype=Object.assign(Object.create(ao.prototype),{constructor:so,isPerspectiveCamera:!0,copy:function(source,e){return ao.prototype.copy.call(this,source,e),this.fov=source.fov,this.zoom=source.zoom,this.near=source.near,this.far=source.far,this.focus=source.focus,this.aspect=source.aspect,this.view=null===source.view?null:Object.assign({},source.view),this.filmGauge=source.filmGauge,this.filmOffset=source.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Gi.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Gi.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Gi.RAD2DEG*Math.atan(Math.tan(.5*Gi.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,o,l){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Gi.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r,view=this.view;if(null!==this.view&&this.view.enabled){var l=view.fullWidth,c=view.fullHeight;o+=view.offsetX*r/l,t-=view.offsetY*n/c,r*=view.width/l,n*=view.height/c}var h=this.filmOffset;0!==h&&(o+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(meta){var data=Nn.prototype.toJSON.call(this,meta);return data.object.fov=this.fov,data.object.zoom=this.zoom,data.object.near=this.near,data.object.far=this.far,data.object.focus=this.focus,data.object.aspect=this.aspect,null!==this.view&&(data.object.view=Object.assign({},this.view)),data.object.filmGauge=this.filmGauge,data.object.filmOffset=this.filmOffset,data}}),lo.prototype=Object.assign(Object.create(Nn.prototype),{constructor:lo,isGroup:!0}),co.prototype=Object.assign(Object.create(cn.prototype),{constructor:co,isVideoTexture:!0,update:function(){var video=this.image;video.readyState>=video.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});var uo=new ho,po=(n(139),{enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}});function fo(e){this.manager=void 0!==e?e:uo}function mo(e){this.manager=void 0!==e?e:uo}Object.assign(fo.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,l=po.get(e);if(void 0!==l)return o.manager.itemStart(e),setTimeout((function(){t&&t(l),o.manager.itemEnd(e)}),0),l;var image=document.createElementNS("http://www.w3.org/1999/xhtml","img");function c(){image.removeEventListener("load",c,!1),image.removeEventListener("error",h,!1),po.add(e,this),t&&t(this),o.manager.itemEnd(e)}function h(t){image.removeEventListener("load",c,!1),image.removeEventListener("error",h,!1),r&&r(t),o.manager.itemError(e),o.manager.itemEnd(e)}return image.addEventListener("load",c,!1),image.addEventListener("error",h,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(image.crossOrigin=this.crossOrigin),o.manager.itemStart(e),image.src=e,image},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(mo.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var o=new cn,l=new fo(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,(function(image){o.image=image;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);o.format=n?Xt:$t,o.needsUpdate=!0,void 0!==t&&t(o)}),n,r),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}});var _o=n(7);n(156);function go(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(go.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{var l;i:{n:if(!(e<r)){for(var c=n+2;;){if(void 0===r){if(e<o)break n;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,o)}if(n===c)break;if(o=r,e<(r=t[++n]))break t}l=t.length;break i}if(e>=o)break e;var h=t[1];e<h&&(n=2,o=h);for(c=n-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===c)break;if(r=o,e>=(o=t[--n-1]))break t}l=n,n=0}for(;n<l;){var d=n+l>>>1;e<t[d]?l=d:n=d+1}if(r=t[n],void 0===(o=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,o,e)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r,i=0;i!==r;++i)t[i]=n[o+i];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(go.prototype,{beforeStart_:go.prototype.copySampleValue_,afterEnd_:go.prototype.copySampleValue_});var vo={};function yo(e){this.manager=void 0!==e?e:uo}function xo(e,t,n,r,o,l,c,h,d,f,m,_){cn.call(this,null,l,c,h,d,f,r,o,m,_),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function bo(e){this.manager=void 0!==e?e:uo,this._parser=null}Object.assign(yo.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,l=po.get(e);if(void 0!==l)return o.manager.itemStart(e),setTimeout((function(){t&&t(l),o.manager.itemEnd(e)}),0),l;if(void 0===vo[e]){var c=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(c){var h=c[1],d=!!c[2],data=c[3];data=decodeURIComponent(data),d&&(data=atob(data));try{var f,m=(this.responseType||"").toLowerCase();switch(m){case"arraybuffer":case"blob":for(var view=new Uint8Array(data.length),i=0;i<data.length;i++)view[i]=data.charCodeAt(i);f="blob"===m?new Blob([view.buffer],{type:h}):view.buffer;break;case"document":var _=new DOMParser;f=_.parseFromString(data,h);break;case"json":f=JSON.parse(data);break;default:f=data}setTimeout((function(){t&&t(f),o.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),o.manager.itemError(e),o.manager.itemEnd(e)}),0)}}else{vo[e]=[],vo[e].push({onLoad:t,onProgress:n,onError:r});var v=new XMLHttpRequest;for(var header in v.open("GET",e,!0),v.addEventListener("load",(function(t){var n=this.response;po.add(e,n);var r=vo[e];if(delete vo[e],200===this.status||0===this.status){0===this.status&&console.warn("FileLoader: HTTP Status 0 received.");for(var i=0,l=r.length;i<l;i++){(c=r[i]).onLoad&&c.onLoad(n)}o.manager.itemEnd(e)}else{for(i=0,l=r.length;i<l;i++){var c;(c=r[i]).onError&&c.onError(t)}o.manager.itemError(e),o.manager.itemEnd(e)}}),!1),v.addEventListener("progress",(function(t){for(var n=vo[e],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(t)}}),!1),v.addEventListener("error",(function(t){var n=vo[e];delete vo[e];for(var i=0,r=n.length;i<r;i++){var l=n[i];l.onError&&l.onError(t)}o.manager.itemError(e),o.manager.itemEnd(e)}),!1),v.addEventListener("abort",(function(t){var n=vo[e];delete vo[e];for(var i=0,r=n.length;i<r;i++){var l=n[i];l.onError&&l.onError(t)}o.manager.itemError(e),o.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)v.setRequestHeader(header,this.requestHeader[header]);v.send(null)}return o.manager.itemStart(e),v}vo[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),xo.prototype=Object.create(cn.prototype),xo.prototype.constructor=xo,xo.prototype.isCompressedTexture=!0,Object.assign(bo.prototype,{load:function(e,t,n,r){var o=this,l=[],c=new xo;c.image=l;var h=new yo(this.manager);function d(i){h.load(e[i],(function(e){var n=o._parser(e,!0);l[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(f+=1)&&(1===n.mipmapCount&&(c.minFilter=Ot),c.format=n.format,c.needsUpdate=!0,t&&t(c))}),n,r)}if(h.setPath(this.path),h.setResponseType("arraybuffer"),Array.isArray(e))for(var f=0,i=0,m=e.length;i<m;++i)d(i);else h.load(e,(function(e){var n=o._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,h=0;h<r;h++){l[h]={mipmaps:[]};for(var i=0;i<n.mipmapCount;i++)l[h].mipmaps.push(n.mipmaps[h*n.mipmapCount+i]),l[h].format=n.format,l[h].width=n.width,l[h].height=n.height}else c.image.width=n.width,c.image.height=n.height,c.mipmaps=n.mipmaps;1===n.mipmapCount&&(c.minFilter=Ot),c.format=n.format,c.needsUpdate=!0,t&&t(c)}),n,r);return c},setPath:function(e){return this.path=e,this}});var wo,To,So=function e(t){bo.call(this,t),this._parser=e.parse};function Mo(e,t){Nn.call(this),this.type="Light",this.color=new xn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Eo(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Bi(512,512),this.map=null,this.matrix=new Zi}function Lo(){Eo.call(this,new oo(-5,5,5,-5,.5,500))}function ko(e,t){Mo.call(this,e,t),this.type="DirectionalLight",this.position.copy(Nn.DefaultUp),this.updateMatrix(),this.target=new Nn,this.shadow=new Lo}function Ao(e,t,n,r){Mo.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Eo(new so(90,1,.5,500))}function Po(){Eo.call(this,new so(50,1,.5,500))}function Oo(e,t,n,r,o,l){Mo.call(this,e,t),this.type="SpotLight",this.position.copy(Nn.DefaultUp),this.updateMatrix(),this.target=new Nn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==o?o:0,this.decay=void 0!==l?l:1,this.shadow=new Po}function Co(e){sr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new Bi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ro(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Io(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Fo(e,t){e&&e.isGeometry&&console.error("SkinnedMesh no longer supports Geometry. Use BufferGeometry instead."),kr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Zi,this.bindMatrixInverse=new Zi}function No(e){sr.call(this),this.type="LineBasicMaterial",this.color=new xn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function zo(e,t,n){1===n&&console.error("Line: parameter LinePieces no longer supported. Use LineSegments instead."),Nn.call(this),this.type="Line",this.geometry=void 0!==e?e:new er,this.material=void 0!==t?t:new No({color:16777215*Math.random()})}function Do(e,t){zo.call(this,e,t),this.type="LineSegments"}function Go(e,t){zo.call(this,e,t),this.type="LineLoop"}function Uo(e){sr.call(this),this.type="PointsMaterial",this.color=new xn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Bo(e,t){Nn.call(this),this.type="Points",this.geometry=void 0!==e?e:new er,this.material=void 0!==t?t:new Uo({color:16777215*Math.random()})}So.prototype=Object.create(bo.prototype),So.prototype.constructor=So,So.parse=function(e,t){var n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function r(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function o(e,t,n,r){for(var o=n*r*4,l=new Uint8Array(e,t,o),c=new Uint8Array(o),h=0,d=0,f=0;f<r;f++)for(var m=0;m<n;m++){var b=l[d],g=l[++d],_=l[++d],a=l[++d];d++,c[h]=_,c[++h]=g,c[++h]=b,c[++h]=a,h++}return c}var l,c=r("DXT1"),h=r("DXT3"),d=r("DXT5"),f=r("ETC1"),header=new Int32Array(e,0,31);if(542327876!==header[0])return console.error("DDSLoader.parse: Invalid magic number in DDS header."),n;if(4&!header[20])return console.error("DDSLoader.parse: Unsupported format, must contain a FourCC code."),n;var m,_=header[21],v=!1;switch(_){case c:l=8,n.format=ei;break;case h:l=16,n.format=ii;break;case d:l=16,n.format=ni;break;case f:l=8,n.format=ci;break;default:if(!(32===header[22]&&16711680&header[23]&&65280&header[24]&&255&header[25]&&4278190080&header[26]))return console.error("DDSLoader.parse: Unsupported FourCC code ",(m=_,String.fromCharCode(255&m,m>>8&255,m>>16&255,m>>24&255))),n;v=!0,l=64,n.format=$t}n.mipmapCount=1,131072&header[2]&&!1!==t&&(n.mipmapCount=Math.max(1,header[7]));var y=header[28];if(n.isCubemap=!!(512&y),n.isCubemap&&(!(1024&y)||!(2048&y)||!(4096&y)||!(8192&y)||!(16384&y)||!(32768&y)))return console.error("DDSLoader.parse: Incomplete cubemap faces"),n;n.width=header[4],n.height=header[3];for(var x=header[1]+4,w=n.isCubemap?6:1,T=0;T<w;T++)for(var S=n.width,M=n.height,i=0;i<n.mipmapCount;i++){if(v)var E=(L=o(e,x,S,M)).length;else{E=Math.max(4,S)/4*Math.max(4,M)/4*l;var L=new Uint8Array(e,x,E)}var k={data:L,width:S,height:M};n.mipmaps.push(k),x+=E,S=Math.max(S>>1,1),M=Math.max(M>>1,1)}return n},Mo.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Mo,isLight:!0,copy:function(source){return Nn.prototype.copy.call(this,source),this.color.copy(source.color),this.intensity=source.intensity,this},toJSON:function(meta){var data=Nn.prototype.toJSON.call(this,meta);return data.object.color=this.color.getHex(),data.object.intensity=this.intensity,void 0!==this.groundColor&&(data.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(data.object.distance=this.distance),void 0!==this.angle&&(data.object.angle=this.angle),void 0!==this.decay&&(data.object.decay=this.decay),void 0!==this.penumbra&&(data.object.penumbra=this.penumbra),void 0!==this.shadow&&(data.object.shadow=this.shadow.toJSON()),data}}),Object.assign(Eo.prototype,{copy:function(source){return this.camera=source.camera.clone(),this.bias=source.bias,this.radius=source.radius,this.mapSize.copy(source.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var object={};return 0!==this.bias&&(object.bias=this.bias),1!==this.radius&&(object.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(object.mapSize=this.mapSize.toArray()),object.camera=this.camera.toJSON(!1).object,delete object.camera.matrix,object}}),Lo.prototype=Object.assign(Object.create(Eo.prototype),{constructor:Lo}),ko.prototype=Object.assign(Object.create(Mo.prototype),{constructor:ko,isDirectionalLight:!0,copy:function(source){return Mo.prototype.copy.call(this,source),this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}),Ao.prototype=Object.assign(Object.create(Mo.prototype),{constructor:Ao,isPointLight:!0,copy:function(source){return Mo.prototype.copy.call(this,source),this.distance=source.distance,this.decay=source.decay,this.shadow=source.shadow.clone(),this}}),Po.prototype=Object.assign(Object.create(Eo.prototype),{constructor:Po,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*Gi.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;n===t.fov&&r===t.aspect&&o===t.far||(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix())}}),Oo.prototype=Object.assign(Object.create(Mo.prototype),{constructor:Oo,isSpotLight:!0,copy:function(source){return Mo.prototype.copy.call(this,source),this.distance=source.distance,this.angle=source.angle,this.penumbra=source.penumbra,this.decay=source.decay,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}),Co.prototype=Object.create(sr.prototype),Co.prototype.constructor=Co,Co.prototype.isMeshStandardMaterial=!0,Co.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.defines={STANDARD:""},this.color.copy(source.color),this.roughness=source.roughness,this.metalness=source.metalness,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.roughnessMap=source.roughnessMap,this.metalnessMap=source.metalnessMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.envMapIntensity=source.envMapIntensity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},Object.defineProperty(Ro.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ro.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(source){return this.array=new source.array.constructor(source.array),this.count=source.count,this.stride=source.stride,this.dynamic=source.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Io.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Io.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this}}),Fo.prototype=Object.assign(Object.create(kr.prototype),{constructor:Fo,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new En,t=this.geometry.attributes.skinWeight,i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){kr.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),No.prototype=Object.create(sr.prototype),No.prototype.constructor=No,No.prototype.isLineBasicMaterial=!0,No.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this.linewidth=source.linewidth,this.linecap=source.linecap,this.linejoin=source.linejoin,this},zo.prototype=Object.assign(Object.create(Nn.prototype),{constructor:zo,isLine:!0,computeLineDistances:(wo=new en,To=new en,function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)wo.fromBufferAttribute(t,i-1),To.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=wo.distanceTo(To);e.addAttribute("lineDistance",new qn(n,1))}else console.warn("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for((n=e.lineDistances)[0]=0,i=1,r=o.length;i<r;i++)n[i]=n[i-1],n[i]+=o[i-1].distanceTo(o[i])}return this}),raycast:function(){var e=new Zi,t=new Mr,n=new dn;return function(r,o){var l=r.linePrecision,c=this.geometry,h=this.matrixWorld;if(null===c.boundingSphere&&c.computeBoundingSphere(),n.copy(c.boundingSphere),n.applyMatrix4(h),n.radius+=l,!1!==r.ray.intersectsSphere(n)){e.getInverse(h),t.copy(r.ray).applyMatrix4(e);var d=l/((this.scale.x+this.scale.y+this.scale.z)/3),f=d*d,m=new en,_=new en,v=new en,y=new en,x=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var w=c.index,T=c.attributes.position.array;if(null!==w)for(var S=w.array,i=0,M=S.length-1;i<M;i+=x){var a=S[i],b=S[i+1];if(m.fromArray(T,3*a),_.fromArray(T,3*b),!(t.distanceSqToSegment(m,_,y,v)>f))y.applyMatrix4(this.matrixWorld),(k=r.ray.origin.distanceTo(y))<r.near||k>r.far||o.push({distance:k,point:v.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}else for(i=0,M=T.length/3-1;i<M;i+=x){if(m.fromArray(T,3*i),_.fromArray(T,3*i+3),!(t.distanceSqToSegment(m,_,y,v)>f))y.applyMatrix4(this.matrixWorld),(k=r.ray.origin.distanceTo(y))<r.near||k>r.far||o.push({distance:k,point:v.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else if(c.isGeometry){var E=c.vertices,L=E.length;for(i=0;i<L-1;i+=x){var k;if(!(t.distanceSqToSegment(E[i],E[i+1],y,v)>f))y.applyMatrix4(this.matrixWorld),(k=r.ray.origin.distanceTo(y))<r.near||k>r.far||o.push({distance:k,point:v.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}}}(),copy:function(source){return Nn.prototype.copy.call(this,source),this.geometry.copy(source.geometry),this.material.copy(source.material),this},clone:function(){return(new this.constructor).copy(this)}}),Do.prototype=Object.assign(Object.create(zo.prototype),{constructor:Do,isLineSegments:!0,computeLineDistances:function(){var e=new en,t=new en;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,o=[],i=0,l=r.count;i<l;i+=2)e.fromBufferAttribute(r,i),t.fromBufferAttribute(r,i+1),o[i]=0===i?0:o[i-1],o[i+1]=o[i]+e.distanceTo(t);n.addAttribute("lineDistance",new qn(o,1))}else console.warn("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var c=n.vertices;for(o=n.lineDistances,i=0,l=c.length;i<l;i+=2)e.copy(c[i]),t.copy(c[i+1]),o[i]=0===i?0:o[i-1],o[i+1]=o[i]+e.distanceTo(t)}return this}}()}),Go.prototype=Object.assign(Object.create(zo.prototype),{constructor:Go,isLineLoop:!0}),Uo.prototype=Object.create(sr.prototype),Uo.prototype.constructor=Uo,Uo.prototype.isPointsMaterial=!0,Uo.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.size=source.size,this.sizeAttenuation=source.sizeAttenuation,this.morphTargets=source.morphTargets,this},Bo.prototype=Object.assign(Object.create(Nn.prototype),{constructor:Bo,isPoints:!0,raycast:function(){var e=new Zi,t=new Mr,n=new dn;return function(r,o){var object=this,l=this.geometry,c=this.matrixWorld,h=r.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=h,!1!==r.ray.intersectsSphere(n)){e.getInverse(c),t.copy(r.ray).applyMatrix4(e);var d=h/((this.scale.x+this.scale.y+this.scale.z)/3),f=d*d,m=new en,_=new en;if(l.isBufferGeometry){var v=l.index,y=l.attributes.position.array;if(null!==v)for(var x=v.array,i=0,w=x.length;i<w;i++){var a=x[i];m.fromArray(y,3*a),M(m,a)}else{i=0;for(var T=y.length/3;i<T;i++)m.fromArray(y,3*i),M(m,i)}}else{var S=l.vertices;for(i=0,T=S.length;i<T;i++)M(S[i],i)}}function M(e,n){var l=t.distanceSqToPoint(e);if(l<f){t.closestPointToPoint(e,_),_.applyMatrix4(c);var h=r.ray.origin.distanceTo(_);if(h<r.near||h>r.far)return;o.push({distance:h,distanceToRay:Math.sqrt(l),point:_.clone(),index:n,face:null,object:object})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var jo,Wo,Ho,Vo,Yo,Xo,$o={arraySlice:function(e,t,n){return $o.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return n.sort((function(i,t){return e[i]-e[t]})),n},sortedArray:function(e,t,n){for(var r=e.length,o=new e.constructor(r),i=0,l=0;l!==r;++i)for(var c=n[i]*t,h=0;h!==t;++h)o[l++]=e[c+h];return o},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var l=o[r];if(void 0!==l)if(Array.isArray(l))do{void 0!==(l=o[r])&&(t.push(o.time),n.push.apply(n,l)),o=e[i++]}while(void 0!==o);else if(void 0!==l.toArray)do{void 0!==(l=o[r])&&(t.push(o.time),l.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(l=o[r])&&(t.push(o.time),n.push(l)),o=e[i++]}while(void 0!==o)}}};function qo(e,t,n,r){go.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Zo(e,t,n,r){go.call(this,e,t,n,r)}function Ko(e,t,n,r){go.call(this,e,t,n,r)}function Jo(e,t,n,r){if(void 0===e)throw new Error("KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=$o.convertArray(t,this.TimeBufferType),this.values=$o.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Qo(e,t,n){Jo.call(this,e,t,n)}function es(e,t,n,r){Jo.call(this,e,t,n,r)}function ts(e,t,n,r){Jo.call(this,e,t,n,r)}function is(e,t,n,r){go.call(this,e,t,n,r)}function ns(e,t,n,r){Jo.call(this,e,t,n,r)}function rs(e,t,n,r){Jo.call(this,e,t,n,r)}function as(e,t,n,r){Jo.call(this,e,t,n,r)}function os(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=Gi.generateUUID(),this.duration<0&&this.resetDuration()}function ss(e){if(void 0===e.type)throw new Error("KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ts;case"vector":case"vector2":case"vector3":case"vector4":return as;case"color":return es;case"quaternion":return ns;case"bool":case"boolean":return Qo;case"string":return rs}throw new Error("KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];$o.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}function ls(){Nn.call(this),this.type="Bone"}function cs(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Zi)}}function hs(e){No.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}function us(e){sr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ni,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function ds(e){sr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new en,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function ps(e){sr.call(this),this.type="MeshLambertMaterial",this.color=new xn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function fs(e){sr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new Bi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ms(e){sr.call(this),this.type="MeshPhongMaterial",this.color=new xn(16777215),this.specular=new xn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new Bi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function _s(e){Co.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function gs(e){ms.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function vs(e){Sr.call(this,e),this.type="RawShaderMaterial"}function ys(e){sr.call(this),this.type="ShadowMaterial",this.color=new xn(0),this.transparent=!0,this.setValues(e)}function xs(e){sr.call(this),this.type="SpriteMaterial",this.color=new xn(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function bs(e){this.manager=void 0!==e?e:uo,this.textures={}}function ws(){}qo.prototype=Object.assign(Object.create(go.prototype),{constructor:qo,DefaultSettings_:{endingStart:Mi,endingEnd:Mi},intervalChanged_:function(e,t,n){var r=this.parameterPositions,o=e-2,l=e+1,c=r[o],h=r[l];if(void 0===c)switch(this.getSettings_().endingStart){case 2401:o=e,c=2*t-n;break;case 2402:c=t+r[o=r.length-2]-r[o+1];break;default:o=e,c=n}if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:l=e,h=2*n-t;break;case 2402:l=1,h=n+r[1]-r[0];break;default:l=e-1,h=t}var d=.5*(n-t),f=this.valueSize;this._weightPrev=d/(t-c),this._weightNext=d/(h-n),this._offsetPrev=o*f,this._offsetNext=l*f},interpolate_:function(e,t,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=e*c,d=h-c,f=this._offsetPrev,m=this._offsetNext,_=this._weightPrev,v=this._weightNext,p=(n-t)/(r-t),y=p*p,x=y*p,w=-_*x+2*_*y-_*p,T=(1+_)*x+(-1.5-2*_)*y+(-.5+_)*p+1,S=(-1-v)*x+(1.5+v)*y+.5*p,M=v*x-v*y,i=0;i!==c;++i)o[i]=w*l[f+i]+T*l[d+i]+S*l[h+i]+M*l[m+i];return o}}),Zo.prototype=Object.assign(Object.create(go.prototype),{constructor:Zo,interpolate_:function(e,t,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=e*c,d=h-c,f=(n-t)/(r-t),m=1-f,i=0;i!==c;++i)o[i]=l[d+i]*m+l[h+i]*f;return o}}),Ko.prototype=Object.assign(Object.create(go.prototype),{constructor:Ko,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Jo,{toJSON:function(track){var e,t=track.constructor;if(void 0!==t.toJSON)e=t.toJSON(track);else{e={name:track.name,times:$o.convertArray(track.times,Array),values:$o.convertArray(track.values,Array)};var n=track.getInterpolation();n!==track.DefaultInterpolation&&(e.interpolation=n)}return e.type=track.ValueTypeName,e}}),Object.assign(Jo.prototype,{constructor:Jo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Ko(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Zo(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new qo(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,o=0,l=r-1;o!==r&&n[o]<e;)++o;for(;-1!==l&&n[l]>t;)--l;if(++l,0!==o||l!==r){o>=l&&(o=(l=Math.max(l,1))-1);var c=this.getValueSize();this.times=$o.arraySlice(n,o,l),this.values=$o.arraySlice(this.values,o*c,l*c)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,o=n.length;0===o&&(console.error("KeyframeTrack: Track is empty.",this),e=!1);for(var l=null,i=0;i!==o;i++){var c=n[i];if("number"==typeof c&&isNaN(c)){console.error("KeyframeTrack: Time is not a valid number.",this,i,c),e=!1;break}if(null!==l&&l>c){console.error("KeyframeTrack: Out of order keys.",this,i,c,l),e=!1;break}l=c}if(void 0!==r&&$o.isTypedArray(r)){i=0;for(var h=r.length;i!==h;++i){var d=r[i];if(isNaN(d)){console.error("KeyframeTrack: Value is not a valid number.",this,i,d),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),o=1,l=e.length-1,i=1;i<l;++i){var c=!1,time=e[i];if(time!==e[i+1]&&(1!==i||time!==time[0]))if(r)c=!0;else for(var h=i*n,d=h-n,f=h+n,m=0;m!==n;++m){var _=t[h+m];if(_!==t[d+m]||_!==t[f+m]){c=!0;break}}if(c){if(i!==o){e[o]=e[i];var v=i*n,y=o*n;for(m=0;m!==n;++m)t[y+m]=t[v+m]}++o}}if(l>0){e[o]=e[l];for(v=l*n,y=o*n,m=0;m!==n;++m)t[y+m]=t[v+m];++o}return o!==e.length&&(this.times=$o.arraySlice(e,0,o),this.values=$o.arraySlice(t,0,o*n)),this},clone:function(){var e=$o.arraySlice(this.times,0),t=$o.arraySlice(this.values,0),track=new(0,this.constructor)(this.name,e,t);return track.createInterpolant=this.createInterpolant,track}}),Qo.prototype=Object.assign(Object.create(Jo.prototype),{constructor:Qo,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),es.prototype=Object.assign(Object.create(Jo.prototype),{constructor:es,ValueTypeName:"color"}),ts.prototype=Object.assign(Object.create(Jo.prototype),{constructor:ts,ValueTypeName:"number"}),is.prototype=Object.assign(Object.create(go.prototype),{constructor:is,interpolate_:function(e,t,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=e*c,d=(n-t)/(r-t),f=h+c;h!==f;h+=4)Qi.slerpFlat(o,0,l,h-c,l,h,d);return o}}),ns.prototype=Object.assign(Object.create(Jo.prototype),{constructor:ns,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new is(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),rs.prototype=Object.assign(Object.create(Jo.prototype),{constructor:rs,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),as.prototype=Object.assign(Object.create(Jo.prototype),{constructor:as,ValueTypeName:"vector"}),Object.assign(os,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(ss(n[i]).scale(r));return new os(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(Jo.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var o=t.length,l=[],i=0;i<o;i++){var c=[],h=[];c.push((i+o-1)%o,i,(i+1)%o),h.push(0,1,0);var d=$o.getKeyframeOrder(c);c=$o.sortedArray(c,1,d),h=$o.sortedArray(h,1,d),r||0!==c[0]||(c.push(o),h.push(h[0])),l.push(new ts(".morphTargetInfluences["+t[i].name+"]",c,h).scale(1/n))}return new os(e,-1,l)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},pattern=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;i<o;i++){var l=e[i],c=l.name.match(pattern);if(c&&c.length>1){var h=r[f=c[1]];h||(r[f]=h=[]),h.push(l)}}var d=[];for(var f in r)d.push(os.CreateFromMorphTargetSequence(f,r[f],t,n));return d},parseAnimation:function(e,t){if(!e)return console.error("AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,o){if(0!==n.length){var l=[],c=[];$o.flattenJSON(n,l,c,r),0!==l.length&&o.push(new e(t,l,c))}},r=[],o=e.name||"default",l=e.length||-1,c=e.fps||30,h=e.hierarchy||[],d=0;d<h.length;d++){var f=h[d].keys;if(f&&0!==f.length)if(f[0].morphTargets){for(var m={},_=0;_<f.length;_++)if(f[_].morphTargets)for(var v=0;v<f[_].morphTargets.length;v++)m[f[_].morphTargets[v]]=-1;for(var y in m){var x=[],w=[];for(v=0;v!==f[_].morphTargets.length;++v){var T=f[_];x.push(T.time),w.push(T.morphTarget===y?1:0)}r.push(new ts(".morphTargetInfluence["+y+"]",x,w))}l=m.length*(c||1)}else{var S=".bones["+t[d].name+"]";n(as,S+".position",f,"pos",r),n(ns,S+".quaternion",f,"rot",r),n(as,S+".scale",f,"scl",r)}}return 0===r.length?null:new os(o,l,r)}}),Object.assign(os.prototype,{resetDuration:function(){for(var e=0,i=0,t=this.tracks.length;i!==t;++i){var track=this.tracks[i];e=Math.max(e,track.times[track.times.length-1])}return this.duration=e,this},trim:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this},validate:function(){for(var e=!0,i=0;i<this.tracks.length;i++)e=e&&this.tracks[i].validate();return e},optimize:function(){for(var i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this},clone:function(){for(var e=[],i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());return new os(this.name,this.duration,e)}}),ls.prototype=Object.assign(Object.create(Nn.prototype),{constructor:ls,isBone:!0}),Object.assign(cs.prototype,{calculateInverses:function(){this.boneInverses=[];for(var i=0,e=this.bones.length;i<e;i++){var t=new Zi;this.bones[i]&&t.getInverse(this.bones[i].matrixWorld),this.boneInverses.push(t)}},pose:function(){var e,i,t;for(i=0,t=this.bones.length;i<t;i++)(e=this.bones[i])&&e.matrixWorld.getInverse(this.boneInverses[i]);for(i=0,t=this.bones.length;i<t;i++)(e=this.bones[i])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:(jo=new Zi,Wo=new Zi,function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var l=e[i]?e[i].matrixWorld:Wo;jo.multiplyMatrices(l,t[i]),jo.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new cs(this.bones,this.boneInverses)},getBoneByName:function(e){for(var i=0,t=this.bones.length;i<t;i++){var n=this.bones[i];if(n.name===e)return n}}}),hs.prototype=Object.create(No.prototype),hs.prototype.constructor=hs,hs.prototype.isLineDashedMaterial=!0,hs.prototype.copy=function(source){return No.prototype.copy.call(this,source),this.scale=source.scale,this.dashSize=source.dashSize,this.gapSize=source.gapSize,this},us.prototype=Object.create(sr.prototype),us.prototype.constructor=us,us.prototype.isMeshDepthMaterial=!0,us.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.depthPacking=source.depthPacking,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this},ds.prototype=Object.create(sr.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshDistanceMaterial=!0,ds.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.referencePosition.copy(source.referencePosition),this.nearDistance=source.nearDistance,this.farDistance=source.farDistance,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this},ps.prototype=Object.create(sr.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshLambertMaterial=!0,ps.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},fs.prototype=Object.create(sr.prototype),fs.prototype.constructor=fs,fs.prototype.isMeshNormalMaterial=!0,fs.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},ms.prototype=Object.create(sr.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshPhongMaterial=!0,ms.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this.specular.copy(source.specular),this.shininess=source.shininess,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.skinning=source.skinning,this.morphTargets=source.morphTargets,this.morphNormals=source.morphNormals,this},_s.prototype=Object.create(Co.prototype),_s.prototype.constructor=_s,_s.prototype.isMeshPhysicalMaterial=!0,_s.prototype.copy=function(source){return Co.prototype.copy.call(this,source),this.defines={PHYSICAL:""},this.reflectivity=source.reflectivity,this.clearCoat=source.clearCoat,this.clearCoatRoughness=source.clearCoatRoughness,this},gs.prototype=Object.create(ms.prototype),gs.prototype.constructor=gs,gs.prototype.isMeshToonMaterial=!0,gs.prototype.copy=function(source){return ms.prototype.copy.call(this,source),this.gradientMap=source.gradientMap,this},vs.prototype=Object.create(Sr.prototype),vs.prototype.constructor=vs,vs.prototype.isRawShaderMaterial=!0,ys.prototype=Object.create(sr.prototype),ys.prototype.constructor=ys,ys.prototype.isShadowMaterial=!0,ys.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this},xs.prototype=Object.create(sr.prototype),xs.prototype.constructor=xs,xs.prototype.isSpriteMaterial=!0,xs.prototype.copy=function(source){return sr.prototype.copy.call(this,source),this.color.copy(source.color),this.map=source.map,this.rotation=source.rotation,this.sizeAttenuation=source.sizeAttenuation,this},Object.assign(bs.prototype,{load:function(e,t,n,r){var o=this,l=new yo(o.manager);l.setPath(o.path),l.load(e,(function(text){t(o.parse(JSON.parse(text)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("MaterialLoader: Undefined texture",e),t[e]}var r=new{LineBasicMaterial:No,LineDashedMaterial:hs,MeshBasicMaterial:Lr,MeshDepthMaterial:us,MeshDistanceMaterial:ds,MeshLambertMaterial:ps,MeshNormalMaterial:fs,MeshPhongMaterial:ms,MeshPhysicalMaterial:_s,MeshStandardMaterial:Co,MeshToonMaterial:gs,PointsMaterial:Uo,RawShaderMaterial:vs,ShaderMaterial:Sr,ShadowMaterial:ys,SpriteMaterial:xs}[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var o in e.uniforms){var l=e.uniforms[o];switch(r.uniforms[o]={},l.type){case"t":r.uniforms[o].value=n(l.value);break;case"c":r.uniforms[o].value=(new xn).setHex(l.value);break;case"v2":r.uniforms[o].value=(new Bi).fromArray(l.value);break;case"v3":r.uniforms[o].value=(new en).fromArray(l.value);break;case"v4":r.uniforms[o].value=(new En).fromArray(l.value);break;case"m3":r.uniforms[o].value=(new tn).fromArray(l.value);case"m4":r.uniforms[o].value=(new Zi).fromArray(l.value);break;default:r.uniforms[o].value=l.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var c in e.extensions)r.extensions[c]=e.extensions[c];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var h=e.normalScale;!1===Array.isArray(h)&&(h=[h,h]),r.normalScale=(new Bi).fromArray(h)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}}),ws.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,n=t.length;i<n;i+=2){var r=t[i],o=t[i+1];if(r.test(e))return o}return null}},Object.assign(ws.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:(Ho={NoBlending:Oe,NormalBlending:Ce,AdditiveBlending:Re,SubtractiveBlending:Ie,MultiplyBlending:Fe,CustomBlending:Ne},Vo=new xn,Yo=new mo,Xo=new bs,function(e,t,n){var r={};function o(path,e,o,l,c){var h,d=t+path,f=ws.Handlers.get(d);null!==f?h=f.load(d):(Yo.setCrossOrigin(n),h=Yo.load(d)),void 0!==e&&(h.repeat.fromArray(e),1!==e[0]&&(h.wrapS=Mt),1!==e[1]&&(h.wrapT=Mt)),void 0!==o&&h.offset.fromArray(o),void 0!==l&&("repeat"===l[0]&&(h.wrapS=Mt),"mirror"===l[0]&&(h.wrapS=Lt),"repeat"===l[1]&&(h.wrapT=Mt),"mirror"===l[1]&&(h.wrapT=Lt)),void 0!==c&&(h.anisotropy=c);var m=Gi.generateUUID();return r[m]=h,m}var l={uuid:Gi.generateUUID(),type:"MeshLambertMaterial"};for(var c in e){var h=e[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=h;break;case"blending":l.blending=Ho[h];break;case"colorAmbient":case"mapAmbient":console.warn("Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":l.color=Vo.fromArray(h).getHex();break;case"colorSpecular":l.specular=Vo.fromArray(h).getHex();break;case"colorEmissive":l.emissive=Vo.fromArray(h).getHex();break;case"specularCoef":l.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=o(h,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=o(h,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=o(h,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=o(h,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=o(h,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=o(h,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=h;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=o(h,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=o(h,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=o(h,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=o(h,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=ke;break;case"doubleSided":l.side=Ae;break;case"transparency":console.warn("Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[c]=h;break;case"vertexColors":!0===h&&(l.vertexColors=2),"face"===h&&(l.vertexColors=1);break;default:console.error("Loader.createMaterial: Unsupported",c,h)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),Xo.setTextures(r),Xo.parse(l)})});var Ts,Ss,Ms,Es,Ls,ks,As,Ps,Os,Cs={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var s="",i=0,t=e.length;i<t;i++)s+=String.fromCharCode(e[i]);return decodeURIComponent(escape(s))},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};n(72);function Rs(e,path,t){var n=t||Is.parseTrackName(path);this._targetGroup=e,this._bindings=e.subscribe_(path,n)}function Is(e,path,t){this.path=path,this.parsedPath=t||Is.parseTrackName(path),this.node=Is.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(Rs.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e=this._bindings,i=this._targetGroup.nCachedObjects_,t=e.length;i!==t;++i)e[i].bind()},unbind:function(){for(var e=this._bindings,i=this._targetGroup.nCachedObjects_,t=e.length;i!==t;++i)e[i].unbind()}}),Object.assign(Is,{Composite:Rs,create:function(e,path,t){return e&&e.isAnimationObjectGroup?new Is.Composite(e,path,t):new Is(e,path,t)},sanitizeNodeName:(Os=new RegExp("[\\[\\]\\.:\\/]","g"),function(e){return e.replace(/\s/g,"_").replace(Os,"")}),parseTrackName:(Ts="[^\\[\\]\\.:\\/]",Ss="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Ms=/((?:WC+[\/:])*)/.source.replace("WC",Ts),Es=/(WCOD+)?/.source.replace("WCOD",Ss),Ls=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ts),ks=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ts),As=new RegExp("^"+Ms+Es+Ls+ks+"$"),Ps=["material","materials","bones"],function(e){var t=As.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var o=n.nodeName.substring(r+1);-1!==Ps.indexOf(o)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===t||r.uuid===t)return r;var o=e(r.children);if(o)return o}return null}(e.children);if(r)return r}return null}}),Object.assign(Is.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var source=this.resolvedProperty,i=0,n=source.length;i!==n;++i)e[t++]=source[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,o=t.propertyIndex;if(e||(e=Is.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var l=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var i=0;i<e.length;i++)if(e[i].name===l){l=i;break}break;default:if(void 0===e[n])return void console.error("PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==l){if(void 0===e[l])return void console.error("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[l]}}var c=e[r];if(void 0!==c){var h=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?h=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(h=this.Versioning.MatrixWorldNeedsUpdate);var d=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(i=0;i<this.node.geometry.morphAttributes.position.length;i++)if(e.geometry.morphAttributes.position[i].name===o){o=i;break}}else{if(!e.geometry.morphTargets)return void console.error("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(i=0;i<this.node.geometry.morphTargets.length;i++)if(e.geometry.morphTargets[i].name===o){o=i;break}}}d=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=o}else void 0!==c.fromArray&&void 0!==c.toArray?(d=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(d=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=r;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}else{var f=t.nodeName;console.error("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e)}}else console.error("PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Is.prototype,{_getValue_unbound:Is.prototype.getValue,_setValue_unbound:Is.prototype.setValue});n(236),n(237),n(238);var Fs={computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,o=n.position.array,l=n.normal.array,c=n.uv.array,h=o.length/3;void 0===n.tangent&&e.addAttribute("tangent",new Bn(new Float32Array(4*h),4));for(var d=n.tangent.array,f=[],m=[],i=0;i<h;i++)f[i]=new en,m[i]=new en;var _=new en,v=new en,y=new en,x=new Bi,w=new Bi,T=new Bi,S=new en,M=new en,E=e.groups;0===E.length&&(E=[{start:0,count:r.length}]);i=0;for(var L=E.length;i<L;++i)for(var k=D=(z=E[i]).start,A=D+z.count;k<A;k+=3)G(r[k+0],r[k+1],r[k+2]);var P,O,C,R=new en,I=new en,F=new en,N=new en;for(i=0,L=E.length;i<L;++i){var z,D;for(k=D=(z=E[i]).start,A=D+z.count;k<A;k+=3)U(r[k+0]),U(r[k+1]),U(r[k+2])}}else console.warn("BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function G(a,b,e){_.fromArray(o,3*a),v.fromArray(o,3*b),y.fromArray(o,3*e),x.fromArray(c,2*a),w.fromArray(c,2*b),T.fromArray(c,2*e);var t=v.x-_.x,n=y.x-_.x,r=v.y-_.y,l=y.y-_.y,h=v.z-_.z,d=y.z-_.z,E=w.x-x.x,L=T.x-x.x,k=w.y-x.y,A=T.y-x.y,P=1/(E*A-L*k);S.set((A*t-k*n)*P,(A*r-k*l)*P,(A*h-k*d)*P),M.set((E*n-L*t)*P,(E*l-L*r)*P,(E*d-L*h)*P),f[a].add(S),f[b].add(S),f[e].add(S),m[a].add(M),m[b].add(M),m[e].add(M)}function U(e){F.fromArray(l,3*e),N.copy(F),O=f[e],R.copy(O),R.sub(F.multiplyScalar(F.dot(O))).normalize(),I.crossVectors(N,O),C=I.dot(m[e]),P=C<0?-1:1,d[4*e]=R.x,d[4*e+1]=R.y,d[4*e+2]=R.z,d[4*e+3]=P}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),o=new Set(Object.keys(e[0].morphAttributes)),l={},c={},h=new er,d=0,i=0;i<e.length;++i){var f=e[i];if(n!==(null!==f.index))return null;for(var m in f.attributes){if(!r.has(m))return null;void 0===l[m]&&(l[m]=[]),l[m].push(f.attributes[m])}for(var m in f.morphAttributes){if(!o.has(m))return null;void 0===c[m]&&(c[m]=[]),c[m].push(f.morphAttributes[m])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(f.userData),t){var _;if(n)_=f.index.count;else{if(void 0===f.attributes.position)return null;_=f.attributes.position.count}h.addGroup(d,_,i),d+=_}}if(n){var v=0,y=[];for(i=0;i<e.length;++i){for(var x=e[i].index,w=0;w<x.count;++w)y.push(x.getX(w)+v);v+=e[i].attributes.position.count}h.setIndex(y)}for(var m in l){var T=this.mergeBufferAttributes(l[m]);if(!T)return null;h.addAttribute(m,T)}for(var m in c){var S=c[m][0].length;if(0===S)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[m]=[];for(i=0;i<S;++i){var M=[];for(w=0;w<c[m].length;++w)M.push(c[m][w][i]);var E=this.mergeBufferAttributes(M);if(!E)return null;h.morphAttributes[m].push(E)}}return h},mergeBufferAttributes:function(e){for(var t,n,r,o=0,i=0;i<e.length;++i){var l=e[i];if(l.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=l.array.constructor),t!==l.array.constructor)return null;if(void 0===n&&(n=l.itemSize),n!==l.itemSize)return null;if(void 0===r&&(r=l.normalized),r!==l.normalized)return null;o+=l.array.length}var c=new t(o),h=0;for(i=0;i<e.length;++i)c.set(e[i].array,h),h+=e[i].array.length;return new Bn(c,n,r)},interleaveAttributes:function(e){for(var t,n=0,r=0,i=0,o=e.length;i<o;++i){var l=e[i];if(void 0===t&&(t=l.array.constructor),t!==l.array.constructor)return console.warn("AttributeBuffers of different types cannot be interleaved"),null;n+=l.array.length,r+=l.itemSize}var c=new Ro(new t(n),r),h=0,d=[],f=["getX","getY","getZ","getW"],m=["setX","setY","setZ","setW"],_=0;for(o=e.length;_<o;_++){var v=(l=e[_]).itemSize,y=l.count,x=new Io(c,v,h,l.normalized);d.push(x),h+=v;for(var w=0;w<y;w++)for(var T=0;T<v;T++)x[m[T]](w,l[f[T]](w))}return d},estimateBytesUsed:function(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var o=e.getIndex();return t+=o?o.count*o.itemSize*o.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),o=e.getAttribute("position"),l=r?r.count:o.count,c=0,h=Object.keys(e.attributes),d={},f={},m=[],_=["getX","getY","getZ","getW"],v=0,y=h.length;v<y;v++){d[L=h[v]]=[],(O=e.morphAttributes[L])&&(f[L]=new Array(O.length).fill().map((function(){return[]})))}for(var x=Math.log10(1/t),w=Math.pow(10,x),i=0;i<l;i++){for(var T=r?r.getX(i):i,S="",M=0,E=h.length;M<E;M++)for(var L=h[M],k=(P=e.getAttribute(L)).itemSize,A=0;A<k;A++)S+="".concat(~~(P[_[A]](T)*w),",");if(S in n)m.push(n[S]);else{for(M=0,E=h.length;M<E;M++){L=h[M];var P=e.getAttribute(L),O=e.morphAttributes[L],C=(k=P.itemSize,d[L]),R=f[L];for(A=0;A<k;A++){var I=_[A];if(C.push(P[I](T)),O)for(var F=0,N=O.length;F<N;F++)R[F].push(O[F][I](T))}}n[S]=c,m.push(c),c++}}var z=e.clone();for(i=0,E=h.length;i<E;i++){L=h[i];var D=e.getAttribute(L),G=new D.array.constructor(d[L]);if(D.isInterleavedBufferAttribute?P=new Bn(G,D.itemSize,D.itemSize):(P=e.getAttribute(L).clone()).setArray(G),z.addAttribute(L,P),L in f)for(M=0;M<f[L].length;M++){var U=e.morphAttributes[L][M].clone();U.setArray(new U.array.constructor(f[L][M])),z.morphAttributes[L][M]=U}}var B=Uint8Array;m.length>=Math.pow(2,8)&&(B=Uint16Array),m.length>=Math.pow(2,16)&&(B=Uint32Array);var j=new B(m);m=null;return null===r?m=new Bn(j,1):(m=e.getIndex().clone()).setArray(j),z.setIndex(m),z}},Ns=function(){function e(e){this.manager=void 0!==e?e:uo,this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,object){e[t]=object},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,n,r){var o,l=this;o=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:Cs.extractUrlBase(e),l.manager.itemStart(e);var c=function(t){r?r(t):console.error(t),l.manager.itemError(e),l.manager.itemEnd(e)},h=new yo(l.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.load(e,(function(data){try{l.parse(data,o,(function(n){t(n),l.manager.itemEnd(e)}),c)}catch(e){c(e)}}),n,c)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(data,path,e,t){var content,h={};if("string"==typeof data)content=data;else if(Cs.decodeText(new Uint8Array(data,0,4))===c){try{h[n.KHR_BINARY_GLTF]=new f(data)}catch(e){return void(t&&t(e))}content=h[n.KHR_BINARY_GLTF].content}else content=Cs.decodeText(new Uint8Array(data));var d=JSON.parse(content);if(void 0===d.asset||d.asset.version[0]<2)t&&t(new Error("GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(d.extensionsUsed)for(var i=0;i<d.extensionsUsed.length;++i){var y=d.extensionsUsed[i],x=d.extensionsRequired||[];switch(y){case n.KHR_LIGHTS_PUNCTUAL:h[y]=new o(d);break;case n.KHR_MATERIALS_UNLIT:h[y]=new l(d);break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:h[y]=new v(d);break;case n.KHR_DRACO_MESH_COMPRESSION:h[y]=new m(d,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:h[n.MSFT_TEXTURE_DDS]=new r;break;case n.KHR_TEXTURE_TRANSFORM:h[n.KHR_TEXTURE_TRANSFORM]=new _(d);break;default:x.indexOf(y)>=0&&console.warn('GLTFLoader: Unknown extension "'+y+'".')}}var w=new X(d,h,{path:path||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});w.parse((function(t,n,r,o,l){var c={scene:t,scenes:n,cameras:r,animations:o,asset:l.asset,parser:w,userData:{}};U(h,c,l),e(c)}),t)}}};var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(){if(!So)throw new Error("GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=new So}function o(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function l(e){this.name=n.KHR_MATERIALS_UNLIT}o.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new xn(16777215);void 0!==n.color&&r.fromArray(n.color);var o=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new ko(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new Ao(r)).distance=o;break;case"spot":(t=new Oo(r)).distance=o,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},l.prototype.getMaterialType=function(e){return Lr},l.prototype.extendParams=function(e,t,n){var r=[];e.color=new xn(1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var l=o.baseColorFactor;e.color.fromArray(l),e.opacity=l[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(r)};var c="glTF",h=12,d={JSON:1313821514,BIN:5130562};function f(data){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(data,0,h);if(this.header={magic:Cs.decodeText(new Uint8Array(data.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==c)throw new Error("GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var t=new DataView(data,h),r=0;r<t.byteLength;){var o=t.getUint32(r,!0);r+=4;var l=t.getUint32(r,!0);if(r+=4,l===d.JSON){var f=new Uint8Array(data,h+r,o);this.content=Cs.decodeText(f)}else if(l===d.BIN){var m=h+r;this.body=data.slice(m,m+o)}r+=o}if(null===this.content)throw new Error("GLTFLoader: JSON content not found.")}function m(e,t){if(!t)throw new Error("GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,DRACOLoader.getDecoderModule()}function _(e){this.name=n.KHR_TEXTURE_TRANSFORM}function v(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return Sr},extendParams:function(e,t,n){var r=t.extensions[this.name],o=Mn.standard,l=Sn.clone(o.uniforms),c=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),h=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),d=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),f=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),m=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),_=o.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",c).replace("#include <metalnessmap_pars_fragment>",h).replace("#include <roughnessmap_fragment>",d).replace("#include <metalnessmap_fragment>",f).replace("#include <lights_physical_fragment>",m);delete l.roughness,delete l.metalness,delete l.roughnessMap,delete l.metalnessMap,l.specular={value:(new xn).setHex(1118481)},l.glossiness={value:.5},l.specularMap={value:null},l.glossinessMap={value:null},e.vertexShader=o.vertexShader,e.fragmentShader=_,e.uniforms=l,e.defines={STANDARD:""},e.color=new xn(1,1,1),e.opacity=1;var v=[];if(Array.isArray(r.diffuseFactor)){var y=r.diffuseFactor;e.color.fromArray(y),e.opacity=y[3]}if(void 0!==r.diffuseTexture&&v.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new xn(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new xn(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var x=r.specularGlossinessTexture;v.push(n.assignTexture(e,"glossinessMap",x)),v.push(n.assignTexture(e,"specularMap",x))}return Promise.all(v)},createMaterial:function(e){var t=new Sr({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(source){var e=source.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var t=this.specularGlossinessParams,i=0,n=t.length;i<n;i++)e[t[i]]=source[t[i]];return e},refreshUniforms:function(e,t,n,r,o,l){if(!0===o.isGLTFSpecularGlossinessMaterial){var c,h=o.uniforms,d=o.defines;h.opacity.value=o.opacity,h.diffuse.value.copy(o.color),h.emissive.value.copy(o.emissive).multiplyScalar(o.emissiveIntensity),h.map.value=o.map,h.specularMap.value=o.specularMap,h.alphaMap.value=o.alphaMap,h.lightMap.value=o.lightMap,h.lightMapIntensity.value=o.lightMapIntensity,h.aoMap.value=o.aoMap,h.aoMapIntensity.value=o.aoMapIntensity,o.map?c=o.map:o.specularMap?c=o.specularMap:o.displacementMap?c=o.displacementMap:o.normalMap?c=o.normalMap:o.bumpMap?c=o.bumpMap:o.glossinessMap?c=o.glossinessMap:o.alphaMap?c=o.alphaMap:o.emissiveMap&&(c=o.emissiveMap),void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),h.uvTransform.value.copy(c.matrix)),o.envMap&&(h.envMap.value=o.envMap,h.envMapIntensity.value=o.envMapIntensity,h.flipEnvMap.value=o.envMap.isCubeTexture?-1:1,h.reflectivity.value=o.reflectivity,h.refractionRatio.value=o.refractionRatio,h.maxMipLevel.value=e.properties.get(o.envMap).__maxMipLevel),h.specular.value.copy(o.specular),h.glossiness.value=o.glossiness,h.glossinessMap.value=o.glossinessMap,h.emissiveMap.value=o.emissiveMap,h.bumpMap.value=o.bumpMap,h.normalMap.value=o.normalMap,h.displacementMap.value=o.displacementMap,h.displacementScale.value=o.displacementScale,h.displacementBias.value=o.displacementBias,null!==h.glossinessMap.value&&void 0===d.USE_GLOSSINESSMAP&&(d.USE_GLOSSINESSMAP="",d.USE_ROUGHNESSMAP=""),null===h.glossinessMap.value&&void 0!==d.USE_GLOSSINESSMAP&&(delete d.USE_GLOSSINESSMAP,delete d.USE_ROUGHNESSMAP)}}}}function y(e,t,n,r){go.call(this,e,t,n,r)}m.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,c={},h={},d={};for(var f in l)f in C&&(c[C[f]]=l[f]);for(f in e.attributes)if(void 0!==C[f]&&void 0!==l[f]){var m=n.accessors[e.attributes[f]],_=k[m.componentType];d[C[f]]=_,h[C[f]]=!0===m.normalized}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],o=h[n];void 0!==o&&(r.normalized=o)}t(e)}),c,d)}))}))},_.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},y.prototype=Object.create(go.prototype),y.prototype.constructor=y,y.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r*3+r,i=0;i!==r;i++)t[i]=n[o+i];return t},y.prototype.beforeStart_=y.prototype.copySampleValue_,y.prototype.afterEnd_=y.prototype.copySampleValue_,y.prototype.interpolate_=function(e,t,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=2*c,d=3*c,td=r-t,p=(n-t)/td,f=p*p,m=f*p,_=e*d,v=_-d,y=-2*m+3*f,x=m-f,w=1-y,T=x-f+p,i=0;i!==c;i++){var S=l[v+i+c],M=l[v+i+h]*td,E=l[_+i+c],L=l[_+i]*td;o[i]=w*S+T*M+y*E+x*L}return o};var x=0,w=1,T=2,S=3,M=4,E=5,L=6,k=(Number,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),A={9728:kt,9729:Ot,9984:At,9985:Ct,9986:Pt,9987:Rt},P={33071:Et,33648:Lt,10497:Mt},O={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},C={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},R={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},I={CUBICSPLINE:2302,LINEAR:2301,STEP:2300},F="OPAQUE",N="MASK",z="BLEND",D={"image/png":$t,"image/jpeg":Xt};function G(e,path){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:path+e}function U(e,object,t){for(var n in t.extensions)void 0===e[n]&&(object.userData.gltfExtensions=object.userData.gltfExtensions||{},object.userData.gltfExtensions[n]=t.extensions[n])}function B(object,e){void 0!==e.extras&&("object"===Object(_o.a)(e.extras)?object.userData=e.extras:console.warn("GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function j(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var i=0,n=t.weights.length;i<n;i++)e.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(i=0,n=r.length;i<n;i++)e.morphTargetDictionary[r[i]]=i}else console.warn("GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function W(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var e in a)if(a[e]!==b[e])return!1;return!0}function H(e){var t=e.extensions&&e.extensions[n.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+V(t.attributes):e.indices+":"+V(e.attributes)+":"+e.mode}function V(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function Y(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,r=e.array.slice(0,t*n),i=0,o=0;i<t;++i)r[o++]=e.getX(i),n>=2&&(r[o++]=e.getY(i)),n>=3&&(r[o++]=e.getZ(i)),n>=4&&(r[o++]=e.getW(i));return new Bn(r,n,e.normalized)}return e.clone()}function X(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache={},this.multiplePrimitivesCache={},this.multiPassGeometryCache={},this.textureLoader=new mo(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new yo(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function $(e,t,n){var r=t.attributes,o=[];function l(t,r){return n.getDependency("accessor",t).then((function(t){e.addAttribute(r,t)}))}for(var c in r){var h=C[c];h&&(h in e.attributes||o.push(l(r[c],h)))}if(void 0!==t.indices&&!e.index){var d=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(d)}return B(e,t),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,o=!1,i=0,l=t.length;i<l;i++){if(void 0!==(d=t[i]).POSITION&&(r=!0),void 0!==d.NORMAL&&(o=!0),r&&o)break}if(!r&&!o)return Promise.resolve(e);var c=[],h=[];for(i=0,l=t.length;i<l;i++){var d=t[i];if(r){var f=void 0!==d.POSITION?n.getDependency("accessor",d.POSITION).then((function(e){return Y(e)})):e.attributes.position;c.push(f)}if(o){f=void 0!==d.NORMAL?n.getDependency("accessor",d.NORMAL).then((function(e){return Y(e)})):e.attributes.normal;h.push(f)}}return Promise.all([Promise.all(c),Promise.all(h)]).then((function(n){for(var l=n[0],c=n[1],i=0,h=t.length;i<h;i++){var d=t[i],f="morphTarget"+i;if(r&&void 0!==d.POSITION){var m=l[i];m.name=f;for(var _=e.attributes.position,v=0,y=m.count;v<y;v++)m.setXYZ(v,m.getX(v)+_.getX(v),m.getY(v)+_.getY(v),m.getZ(v)+_.getZ(v))}if(o&&void 0!==d.NORMAL){var x=c[i];x.name=f;var w=e.attributes.normal;for(v=0,y=x.count;v<y;v++)x.setXYZ(v,x.getX(v)+w.getX(v),x.getY(v)+w.getY(v),x.getZ(v)+w.getZ(v))}}return r&&(e.morphAttributes.position=l),o&&(e.morphAttributes.normal=c),e}))}(e,t.targets,n):e}))}return X.prototype.parse=function(e,t){var n=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then((function(t){var r=t.scenes||[],o=r[n.scene||0],l=t.animations||[],c=t.cameras||[];e(o,r,c,l,n)})).catch(t)},X.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r={},o={},l=0,c=t.length;l<c;l++)for(var h=t[l].joints,i=0,d=h.length;i<d;i++)e[h[i]].isBone=!0;for(var f=0,m=e.length;f<m;f++){var _=e[f];void 0!==_.mesh&&(void 0===r[_.mesh]&&(r[_.mesh]=o[_.mesh]=0),r[_.mesh]++,void 0!==_.skin&&(n[_.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=o},X.prototype.getDependency=function(e,t){var r=e+":"+t,o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(t);break;case"node":o=this.loadNode(t);break;case"mesh":o=this.loadMesh(t);break;case"accessor":o=this.loadAccessor(t);break;case"bufferView":o=this.loadBufferView(t);break;case"buffer":o=this.loadBuffer(t);break;case"material":o=this.loadMaterial(t);break;case"texture":o=this.loadTexture(t);break;case"skin":o=this.loadSkin(t);break;case"animation":o=this.loadAnimation(t);break;case"camera":o=this.loadCamera(t);break;case"light":o=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,o)}return o},X.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,defs=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(defs.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},X.prototype.getMultiDependencies=function(e){for(var t={},n=[],i=0,r=e.length;i<r;i++){var o=e[i],l=this.getDependencies(o);l=l.then(function(e,n){t[e]=n}.bind(this,o+("mesh"===o?"es":"s"))),n.push(l)}return Promise.all(n).then((function(){return t}))},X.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(e,n){r.load(G(t.uri,o.path),e,void 0,(function(){n(new Error('GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},X.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},X.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(e){var o,l=e[0],c=O[r.type],h=k[r.componentType],d=h.BYTES_PER_ELEMENT,f=d*c,m=r.byteOffset||0,_=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,v=!0===r.normalized;if(_&&_!==f){var y="InterleavedBuffer:"+r.bufferView+":"+r.componentType,x=t.cache.get(y);x||(x=new Ro(new h(l),_/d),t.cache.add(y,x)),o=new Io(x,c,m/d,v)}else o=new Bn(null===l?new h(r.count*c):new h(l,m,r.count*c),c,v);if(void 0!==r.sparse){var w=O.SCALAR,T=k[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,E=new T(e[1],S,r.sparse.count*w),L=new h(e[2],M,r.sparse.count*c);null!==l&&o.setArray(o.array.slice());for(var i=0,A=E.length;i<A;i++){var P=E[i];if(o.setX(P,L[i*c]),c>=2&&o.setY(P,L[i*c+1]),c>=3&&o.setZ(P,L[i*c+2]),c>=4&&o.setW(P,L[i*c+3]),c>=5)throw new Error("GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},X.prototype.loadTexture=function(e){var source,t=this,r=this.json,o=this.options,l=this.textureLoader,c=window.URL||window.webkitURL,h=r.textures[e],d=h.extensions||{},f=(source=d[n.MSFT_TEXTURE_DDS]?r.images[d[n.MSFT_TEXTURE_DDS].source]:r.images[h.source]).uri,m=!1;return void 0!==source.bufferView&&(f=t.getDependency("bufferView",source.bufferView).then((function(e){m=!0;var t=new Blob([e],{type:source.mimeType});return f=c.createObjectURL(t)}))),Promise.resolve(f).then((function(e){var r=ws.Handlers.get(e);return r||(r=d[n.MSFT_TEXTURE_DDS]?t.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:l),new Promise((function(t,n){r.load(G(e,o.path),t,void 0,n)}))})).then((function(e){!0===m&&c.revokeObjectURL(f),e.flipY=!1,void 0!==h.name&&(e.name=h.name),source.mimeType in D&&(e.format=D[source.mimeType]);var t=(r.samplers||{})[h.sampler]||{};return e.magFilter=A[t.magFilter]||Ot,e.minFilter=A[t.minFilter]||Rt,e.wrapS=P[t.wrapS]||Mt,e.wrapT=P[t.wrapT]||Mt,e}))},X.prototype.assignTexture=function(e,t,r){var o=this;return this.getDependency("texture",r.index).then((function(l){switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":l.format=Xt}if(o.extensions[n.KHR_TEXTURE_TRANSFORM]){var c=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;c&&(l=o.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(l,c))}e[t]=l}))},X.prototype.loadMaterial=function(e){var t,r=this.json,o=this.extensions,l=r.materials[e],c={},h=l.extensions||{},d=[];if(h[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var f=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=f.getMaterialType(l),d.push(f.extendParams(c,l,this))}else if(h[n.KHR_MATERIALS_UNLIT]){var m=o[n.KHR_MATERIALS_UNLIT];t=m.getMaterialType(l),d.push(m.extendParams(c,l,this))}else{t=Co;var _=l.pbrMetallicRoughness||{};if(c.color=new xn(1,1,1),c.opacity=1,Array.isArray(_.baseColorFactor)){var v=_.baseColorFactor;c.color.fromArray(v),c.opacity=v[3]}void 0!==_.baseColorTexture&&d.push(this.assignTexture(c,"map",_.baseColorTexture)),c.metalness=void 0!==_.metallicFactor?_.metallicFactor:1,c.roughness=void 0!==_.roughnessFactor?_.roughnessFactor:1,void 0!==_.metallicRoughnessTexture&&(d.push(this.assignTexture(c,"metalnessMap",_.metallicRoughnessTexture)),d.push(this.assignTexture(c,"roughnessMap",_.metallicRoughnessTexture)))}!0===l.doubleSided&&(c.side=Ae);var y=l.alphaMode||F;return y===z?c.transparent=!0:(c.transparent=!1,y===N&&(c.alphaTest=void 0!==l.alphaCutoff?l.alphaCutoff:.5)),void 0!==l.normalTexture&&t!==Lr&&(d.push(this.assignTexture(c,"normalMap",l.normalTexture)),c.normalScale=new Bi(1,1),void 0!==l.normalTexture.scale&&c.normalScale.set(l.normalTexture.scale,l.normalTexture.scale)),void 0!==l.occlusionTexture&&t!==Lr&&(d.push(this.assignTexture(c,"aoMap",l.occlusionTexture)),void 0!==l.occlusionTexture.strength&&(c.aoMapIntensity=l.occlusionTexture.strength)),void 0!==l.emissiveFactor&&t!==Lr&&(c.emissive=(new xn).fromArray(l.emissiveFactor)),void 0!==l.emissiveTexture&&t!==Lr&&d.push(this.assignTexture(c,"emissiveMap",l.emissiveTexture)),Promise.all(d).then((function(){var e;return e=t===Sr?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new t(c),void 0!==l.name&&(e.name=l.name),e.map&&(e.map.encoding=Pi),e.emissiveMap&&(e.emissiveMap.encoding=Pi),e.specularMap&&(e.specularMap.encoding=Pi),B(e,l),l.extensions&&U(o,e,l),e}))},X.prototype.loadGeometries=function(e){var t,r=this,o=this.extensions,l=this.primitiveCache,c=function(e){if(e.length<2)return!1;var t=e[0],r=t.targets||[];if(void 0===t.indices)return!1;for(var i=1,o=e.length;i<o;i++){var l=e[i];if(t.mode!==l.mode)return!1;if(void 0===l.indices)return!1;if(l.extensions&&l.extensions[n.KHR_DRACO_MESH_COMPRESSION])return!1;if(!W(t.attributes,l.attributes))return!1;var c=l.targets||[];if(r.length!==c.length)return!1;for(var h=0,d=r.length;h<d;h++)if(!W(r[h],c[h]))return!1}return!0}(e);function h(e){return o[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,r).then((function(t){return $(t,e,r)}))}c&&(t=e,e=[e[0]]);for(var d=[],i=0,f=e.length;i<f;i++){var m,_=e[i],v=H(_),y=l[v];if(y)d.push(y.promise);else m=_.extensions&&_.extensions[n.KHR_DRACO_MESH_COMPRESSION]?h(_):$(new er,_,r),l[v]={primitive:_,promise:m},d.push(m)}return Promise.all(d).then((function(n){if(c){var o=n[0],l=r.multiPassGeometryCache,h=function(e,t){for(var n=e.uuid,i=0,r=t.length;i<r;i++)n+=i+H(t[i]);return n}(o,t);if(null!==(v=l[h]))return[v.geometry];var d=new er;for(var f in d.name=o.name,d.userData=o.userData,o.attributes)d.addAttribute(f,o.attributes[f]);for(var f in o.morphAttributes)d.morphAttributes[f]=o.morphAttributes[f];for(var m=[],i=0,_=t.length;i<_;i++)m.push(r.getDependency("accessor",t[i].indices));return Promise.all(m).then((function(e){for(var n=[],r=0,i=0,c=t.length;i<c;i++){for(var f=e[i],m=0,_=f.count;m<_;m++)n.push(f.array[m]);d.addGroup(r,f.count,i),r+=f.count}return d.setIndex(n),l[h]={geometry:d,baseGeometry:o,primitives:t},[d]}))}if(n.length>1&&void 0!==Fs){for(i=1,_=e.length;i<_;i++)if(e[0].mode!==e[i].mode)return n;var v;l=r.multiplePrimitivesCache,h=function(a){for(var e="",i=0,t=a.length;i<t;i++)e+=":"+a[i].uuid;return e}(n);if(v=l[h]){if(null!==v.geometry)return[v.geometry]}else{d=Fs.mergeBufferGeometries(n,!0);if(l[h]={geometry:d,baseGeometries:n},null!==d)return[d]}}return n}))},X.prototype.loadMesh=function(e){for(var t=this,r=this.json,o=this.extensions,l=r.meshes[e],c=l.primitives,h=[],i=0,d=c.length;i<d;i++){var f=void 0===c[i].material?new Co({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Le}):this.getDependency("material",c[i].material);h.push(f)}return Promise.all(h).then((function(r){return t.loadGeometries(c).then((function(h){for(var d=1===h.length&&h[0].groups.length>0,f=[],i=0,m=h.length;i<m;i++){var _,v=h[i],y=c[i],k=d?r:r[i];if(y.mode===M||y.mode===E||y.mode===L||void 0===y.mode)!0===(_=!0===l.isSkinnedMesh?new Fo(v,k):new kr(v,k)).isSkinnedMesh&&_.normalizeSkinWeights(),y.mode===E?_.drawMode=Li:y.mode===L&&(_.drawMode=ki);else if(y.mode===w)_=new Do(v,k);else if(y.mode===S)_=new zo(v,k);else if(y.mode===T)_=new Go(v,k);else{if(y.mode!==x)throw new Error("GLTFLoader: Primitive mode unsupported: "+y.mode);_=new Bo(v,k)}Object.keys(_.geometry.morphAttributes).length>0&&j(_,l),_.name=l.name||"mesh_"+e,h.length>1&&(_.name+="_"+i),B(_,l),f.push(_);for(var A=d?_.material:[_.material],P=void 0!==v.attributes.tangent,O=void 0!==v.attributes.color,C=void 0===v.attributes.normal,R=!0===_.isSkinnedMesh,I=Object.keys(v.morphAttributes).length>0,F=I&&void 0!==v.morphAttributes.normal,N=0,z=A.length;N<z;N++){k=A[N];if(_.isPoints){var D="PointsMaterial:"+k.uuid,G=t.cache.get(D);G||(G=new Uo,sr.prototype.copy.call(G,k),G.color.copy(k.color),G.map=k.map,G.lights=!1,t.cache.add(D,G)),k=G}else if(_.isLine){D="LineBasicMaterial:"+k.uuid;var U=t.cache.get(D);U||(U=new No,sr.prototype.copy.call(U,k),U.color.copy(k.color),U.lights=!1,t.cache.add(D,U)),k=U}if(P||O||C||R||I){D="ClonedMaterial:"+k.uuid+":";k.isGLTFSpecularGlossinessMaterial&&(D+="specular-glossiness:"),R&&(D+="skinning:"),P&&(D+="vertex-tangents:"),O&&(D+="vertex-colors:"),C&&(D+="flat-shading:"),I&&(D+="morph-targets:"),F&&(D+="morph-normals:");var W=t.cache.get(D);W||(W=k.isGLTFSpecularGlossinessMaterial?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(k):k.clone(),R&&(W.skinning=!0),P&&(W.vertexTangents=!0),O&&(W.vertexColors=2),C&&(W.flatShading=!0),I&&(W.morphTargets=!0),F&&(W.morphNormals=!0),t.cache.add(D,W)),k=W}A[N]=k,k.aoMap&&void 0===v.attributes.uv2&&void 0!==v.attributes.uv&&(console.log("GLTFLoader: Duplicating UVs to support aoMap."),v.addAttribute("uv2",new Bn(v.attributes.uv.array,2))),k.isGLTFSpecularGlossinessMaterial&&(_.onBeforeRender=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}_.material=d?A:A[0]}if(1===f.length)return f[0];var H=new lo;for(i=0,m=f.length;i<m;i++)H.add(f[i]);return H}))}))},X.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new so(Gi.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new oo(r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(t.name=n.name),B(t,n),Promise.resolve(t);console.warn("GLTFLoader: Missing camera parameters.")},X.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},X.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],o=[],l=[],c=[],i=0,h=t.channels.length;i<h;i++){var d=t.channels[i],f=t.samplers[d.sampler],m=d.target,_=void 0!==m.node?m.node:m.id,input=void 0!==t.parameters?t.parameters[f.input]:f.input,output=void 0!==t.parameters?t.parameters[f.output]:f.output;n.push(this.getDependency("node",_)),r.push(this.getDependency("accessor",input)),o.push(this.getDependency("accessor",output)),l.push(f),c.push(m)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(l),Promise.all(c)]).then((function(n){for(var r=n[0],o=n[1],l=n[2],c=n[3],h=n[4],d=[],i=0,f=r.length;i<f;i++){var m=r[i],_=o[i],v=l[i],x=c[i],w=h[i];if(void 0!==m){var T;switch(m.updateMatrix(),m.matrixAutoUpdate=!0,R[w.path]){case R.weights:T=ts;break;case R.rotation:T=ns;break;case R.position:case R.scale:default:T=as}var S=m.name?m.name:m.uuid,M=void 0!==x.interpolation?I[x.interpolation]:2301,E=[];R[w.path]===R.weights?m.traverse((function(object){!0===object.isMesh&&object.morphTargetInfluences&&E.push(object.name?object.name:object.uuid)})):E.push(S);for(var L=0,k=E.length;L<k;L++){var track=new T(E[L]+"."+R[w.path],$o.arraySlice(_.array,0),$o.arraySlice(v.array,0),M);"CUBICSPLINE"===x.interpolation&&(track.createInterpolant=function(e){return new y(this.times,this.values,this.getValueSize()/3,e)},track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),d.push(track)}}}return new os(void 0!==t.name?t.name:"animation_"+e,void 0,d)}))},X.prototype.loadNode=function(e){var t=this.json,r=this.extensions,o=this,l=t.meshReferences,c=t.meshUses,h=t.nodes[e];return(!0===h.isBone?Promise.resolve(new ls):void 0!==h.mesh?o.getDependency("mesh",h.mesh).then((function(e){var t;if(l[h.mesh]>1){var n=c[h.mesh]++;(t=e.clone()).name+="_instance_"+n,t.onBeforeRender=e.onBeforeRender;for(var i=0,r=t.children.length;i<r;i++)t.children[i].name+="_instance_"+n,t.children[i].onBeforeRender=e.children[i].onBeforeRender}else t=e;return void 0!==h.weights&&t.traverse((function(e){if(e.isMesh)for(var i=0,t=h.weights.length;i<t;i++)e.morphTargetInfluences[i]=h.weights[i]})),t})):void 0!==h.camera?o.getDependency("camera",h.camera):h.extensions&&h.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==h.extensions[n.KHR_LIGHTS_PUNCTUAL].light?o.getDependency("light",h.extensions[n.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new Nn)).then((function(e){if(void 0!==h.name&&(e.name=Is.sanitizeNodeName(h.name)),B(e,h),h.extensions&&U(r,e,h),void 0!==h.matrix){var t=new Zi;t.fromArray(h.matrix),e.applyMatrix(t)}else void 0!==h.translation&&e.position.fromArray(h.translation),void 0!==h.rotation&&e.quaternion.fromArray(h.rotation),void 0!==h.scale&&e.scale.fromArray(h.scale);return e}))},X.prototype.loadScene=function(){function e(t,n,r,o){var l=r.nodes[t];return o.getDependency("node",t).then((function(e){return void 0===l.skin?e:o.getDependency("skin",l.skin).then((function(e){for(var n=[],i=0,r=(t=e).joints.length;i<r;i++)n.push(o.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){for(var r=!0===e.isGroup?e.children:[e],i=0,o=r.length;i<o;i++){for(var l=r[i],c=[],h=[],d=0,f=n.length;d<f;d++){var m=n[d];if(m){c.push(m);var _=new Zi;void 0!==t.inverseBindMatrices&&_.fromArray(t.inverseBindMatrices.array,16*d),h.push(_)}else console.warn('GLTFLoader: Joint "%s" could not be found.',t.joints[d])}l.bind(new cs(c,h),l.matrixWorld)}return e}));var t})).then((function(t){n.add(t);var c=[];if(l.children)for(var h=l.children,i=0,d=h.length;i<d;i++){var f=h[i];c.push(e(f,t,r,o))}return Promise.all(c)}))}return function(t){var n=this.json,r=this.extensions,o=this.json.scenes[t],l=new ro;void 0!==o.name&&(l.name=o.name),B(l,o),o.extensions&&U(r,l,o);for(var c=o.nodes||[],h=[],i=0,d=c.length;i<d;i++)h.push(e(c[i],l,n,this));return Promise.all(h).then((function(){return l}))}}(),e}();function zs(e,t){Mo.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}zs.prototype=Object.assign(Object.create(Mo.prototype),{constructor:zs,isAmbientLight:!0});n(240);function Ds(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,o=r.length,l=new Array(o),c={endingStart:Mi,endingEnd:Mi},i=0;i!==o;++i){var h=r[i].createInterpolant(null);l[i]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Si,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Gs(e,t,n){this.binding=e,this.valueSize=n;var r,o=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":o=Array,r=this._select;break;default:r=this._lerp}this.buffer=new o(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Us(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Object.assign(Ds.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(time){return this._startTime=time,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,o=e._clip.duration,l=o/r,c=r/o;e.warp(1,l,t),this.warp(c,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,o=r.time,l=this._timeScaleInterpolant,c=this.timeScale;null===l&&(l=r._lendControlInterpolant(),this._timeScaleInterpolant=l);var h=l.parameterPositions,d=l.sampleValues;return h[0]=o,h[1]=o+n,d[0]=e/c,d[1]=t/c,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(time,e,t,n){if(this.enabled){var r=this._startTime;if(null!==r){var o=(time-r)*t;if(o<0||0===t)return;this._startTime=null,e=t*o}e*=this._updateTimeScale(time);var l=this._updateTime(e),c=this._updateWeight(time);if(c>0)for(var h=this._interpolants,d=this._propertyBindings,f=0,m=h.length;f!==m;++f)h[f].evaluate(l),d[f].accumulate(n,c)}else this._updateWeight(time)},_updateWeight:function(time){var e=0;if(this.enabled){e=this.weight;var t=this._weightInterpolant;if(null!==t){var n=t.evaluate(time)[0];e*=n,time>t.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(time){var e=0;if(!this.paused){e=this.timeScale;var t=this._timeScaleInterpolant;if(null!==t)e*=t.evaluate(time)[0],time>t.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(e){var time=this.time+e,t=this._clip.duration,n=this.loop,r=this._loopCount,o=2202===n;if(0===e)return-1===r?time:o&&1==(1&r)?t-time:time;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(time>=t)time=t;else{if(!(time<0))break e;time=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),time>=t||time<0){var l=Math.floor(time/t);time-=t*l,r+=Math.abs(l);var c=this.repetitions-r;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,time=e>0?t:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===c){var h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}if(o&&1==(1&r))return this.time=time,t-time}return this.time=time,time},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:Mi:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:Mi:2402)},_scheduleFading:function(e,t,n){var r=this._mixer,o=r.time,l=this._weightInterpolant;null===l&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);var c=l.parameterPositions,h=l.sampleValues;return c[0]=o,h[0]=t,c[1]=o+e,h[1]=n,this}}),Object.assign(Gs.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,o=e*r+r,l=this.cumulativeWeight;if(0===l){for(var i=0;i!==r;++i)n[o+i]=n[i];l=t}else{var c=t/(l+=t);this._mixBufferRegion(n,o,0,c,r)}this.cumulativeWeight=l},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,l=this.binding;if(this.cumulativeWeight=0,o<1){var c=3*t;this._mixBufferRegion(n,r,c,1-o,t)}for(var i=t,h=t+t;i!==h;++i)if(n[i]!==n[i+t]){l.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,o){if(r>=.5)for(var i=0;i!==o;++i)e[t+i]=e[n+i]},_slerp:function(e,t,n,r){Qi.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,o){for(var s=1-r,i=0;i!==o;++i){var l=t+i;e[l]=e[l]*s+e[n+i]*r}}}),Us.prototype=Object.assign(Object.create(Ui.prototype),{constructor:Us,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,l=e._propertyBindings,c=e._interpolants,h=n.uuid,d=this._bindingsByRootAndName,f=d[h];void 0===f&&(f={},d[h]=f);for(var i=0;i!==o;++i){var track=r[i],m=track.name,_=f[m];if(void 0!==_)l[i]=_;else{if(void 0!==(_=l[i])){null===_._cacheIndex&&(++_.referenceCount,this._addInactiveBinding(_,h,m));continue}var path=t&&t._propertyBindings[i].binding.parsedPath;++(_=new Gs(Is.create(n,m,path),track.ValueTypeName,track.getValueSize())).referenceCount,this._addInactiveBinding(_,h,m),l[i]=_}c[i].resultBuffer=_.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var o=e._propertyBindings,i=0,l=o.length;i!==l;++i){var c=o[i];0==c.useCount++&&(this._lendBinding(c),c.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,o=this._actionsByClip,l=o[t];if(void 0===l)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=l;else{var c=l.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var o=e._clip.uuid,l=this._actionsByClip,c=l[o],h=c.knownActions,d=h[h.length-1],f=e._byClipCacheIndex;d._byClipCacheIndex=f,h[f]=d,h.pop(),e._byClipCacheIndex=null,delete c.actionByRoot[(e._localRoot||this._root).uuid],0===h.length&&delete l[o],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,o=r[t],l=this._bindings;void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=l.length,l.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,c=l[r],h=t[t.length-1],d=e._cacheIndex;h._cacheIndex=d,t[d]=h,t.pop(),delete c[o];e:{for(var f in c)break e;delete l[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Zo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,o="string"==typeof e?os.findByName(n,e):e,l=null!==o?o.uuid:e,c=this._actionsByClip[l],h=null;if(void 0!==c){var d=c.actionByRoot[r];if(void 0!==d)return d;h=c.knownActions[0],null===o&&(o=h._clip)}if(null===o)return null;var f=new Ds(this,o,t);return this._bindAction(f,h),this._addInactiveAction(f,l,r),f},existingAction:function(e,t){var n=t||this._root,r=n.uuid,o="string"==typeof e?os.findByName(n,e):e,l=o?o.uuid:e,c=this._actionsByClip[l];return void 0!==c&&c.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,time=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1,i=0;i!==n;++i){t[i]._update(time,e,r,o)}var l=this._bindings,c=this._nActiveBindings;for(i=0;i!==c;++i)l[i].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(void 0!==o){for(var l=o.knownActions,i=0,c=l.length;i!==c;++i){var h=l[i];this._deactivateAction(h);var d=h._cacheIndex,f=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,f._cacheIndex=d,t[d]=f,t.pop(),this._removeInactiveBindingsForAction(h)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var o=n[r].actionByRoot[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var l=this._bindingsByRootAndName[t];if(void 0!==l)for(var c in l){var h=l[c];h.restoreOriginalState(),this._removeInactiveBinding(h)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),window.THREE={WebGLRenderer:function(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,o=void 0===e.depth||e.depth,l=void 0===e.stencil||e.stencil,c=void 0!==e.antialias&&e.antialias,h=void 0===e.premultipliedAlpha||e.premultipliedAlpha,d=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,f=void 0!==e.powerPreference?e.powerPreference:"default",m=null,_=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=pt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var v,y,x,w,T,S,M,E,L,k,A,P,O,C,R,I,F,N,z,D=this,G=!1,U=null,B=null,j=null,W=-1,H={geometry:null,program:null,wireframe:!1},V=null,Y=null,X=new En,$=new En,Z=null,K=0,J=t.width,Q=t.height,ee=1,te=new En(0,0,J,Q),ie=new En(0,0,J,Q),ne=!1,re=new fn,ae=new Zi,oe=new en;function se(){return null===B?ee:1}try{var le={alpha:r,depth:o,stencil:l,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:f};if(t.addEventListener("webglcontextlost",he,!1),t.addEventListener("webglcontextrestored",ue,!1),null===(v=n||t.getContext("webgl",le)||t.getContext("experimental-webgl",le)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===v.getShaderPrecisionFormat&&(v.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("WebGLRenderer: "+e.message),e}function ce(){y=new Cr(v),(x=new Or(v,y,e)).isWebGL2||(y.get("WEBGL_depth_texture"),y.get("OES_texture_float"),y.get("OES_texture_half_float"),y.get("OES_texture_half_float_linear"),y.get("OES_standard_derivatives"),y.get("OES_element_index_uint"),y.get("ANGLE_instanced_arrays")),y.get("OES_texture_float_linear"),N=new to(v,y,x),(w=new Qa(v,y,N,x)).scissor($.copy(ie).multiplyScalar(ee)),w.viewport(X.copy(te).multiplyScalar(ee)),T=new Fr(v),S=new Wa,M=new eo(v,y,w,S,x,N,T),E=new Ln(v),L=new Rr(v,E,T),k=new Dr(L,T),R=new zr(v),A=new ja(D,y,x),P=new Xa,O=new Ja,C=new Ar(D,w,k,h),I=new Pr(v,y,T,x),F=new Ir(v,y,T,x),T.programs=A.programs,D.context=v,D.capabilities=x,D.extensions=y,D.properties=S,D.renderLists=P,D.state=w,D.info=T}function he(e){e.preventDefault(),console.log("WebGLRenderer: Context Lost."),G=!0}function ue(){console.log("WebGLRenderer: Context Restored."),G=!1,ce()}function de(e){var t=e.target;t.removeEventListener("dispose",de),function(e){pe(e),S.remove(e)}(t)}function pe(e){var t=S.get(e).program;e.program=void 0,void 0!==t&&A.releaseProgram(t)}function fe(object,e,t,n){if(!1!==object.visible){if(object.layers.test(e.layers))if(object.isGroup)t=object.renderOrder;else if(object.isLight)_.pushLight(object),object.castShadow&&_.pushShadow(object);else if(object.isSprite){if(!object.frustumCulled||re.intersectsSprite(object)){n&&oe.setFromMatrixPosition(object.matrixWorld).applyMatrix4(ae);var r=k.update(object),o=object.material;m.push(object,r,o,t,oe.z,null)}}else if(object.isImmediateRenderObject)n&&oe.setFromMatrixPosition(object.matrixWorld).applyMatrix4(ae),m.push(object,null,object.material,t,oe.z,null);else if((object.isMesh||object.isLine||object.isPoints)&&(object.isSkinnedMesh&&object.skeleton.update(),!object.frustumCulled||re.intersectsObject(object))){n&&oe.setFromMatrixPosition(object.matrixWorld).applyMatrix4(ae);r=k.update(object),o=object.material;if(Array.isArray(o))for(var l=r.groups,i=0,c=l.length;i<c;i++){var h=l[i],d=o[h.materialIndex];d&&d.visible&&m.push(object,r,d,t,oe.z,h)}else o.visible&&m.push(object,r,o,t,oe.z,null)}var f=object.children;for(i=0,c=f.length;i<c;i++)fe(f[i],e,t,n)}}function me(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var l=e[i],object=l.object,c=l.geometry,h=void 0===r?l.material:r,d=l.group;if(n.isArrayCamera){Y=n;for(var f=n.cameras,m=0,v=f.length;m<v;m++){var y=f[m];if(object.layers.test(y.layers)){if("viewport"in y)w.viewport(X.copy(y.viewport));else{var x=y.bounds,T=x.x*J,S=x.y*Q,M=x.z*J,E=x.w*Q;w.viewport(X.set(T,S,M,E).multiplyScalar(ee))}_.setupLights(y),_e(object,t,y,c,h,d)}}}else Y=null,_e(object,t,n,c,h,d)}}function _e(object,e,t,n,r,o){if(object.onBeforeRender(D,e,t,n,r,o),_=O.get(e,Y||t),object.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,object.matrixWorld),object.normalMatrix.getNormalMatrix(object.modelViewMatrix),object.isImmediateRenderObject){w.setMaterial(r);var l=ve(t,e.fog,r,object);H.geometry=null,H.program=null,H.wireframe=!1,function(object,e){object.render((function(object){D.renderBufferImmediate(object,e)}))}(object,l)}else D.renderBufferDirect(t,e.fog,n,r,object,o);object.onAfterRender(D,e,t,n,r,o),_=O.get(e,Y||t)}function ge(e,t,object){var n=S.get(e),r=_.state.lights,o=_.state.shadowsArray,l=n.lightsHash,c=r.state.hash,h=A.getParameters(e,r.state,o,t,0,0,object),code=A.getProgramCode(e,h),d=n.program,f=!0;if(void 0===d)e.addEventListener("dispose",de);else if(d.code!==code)pe(e);else if(l.stateID!==c.stateID||l.directionalLength!==c.directionalLength||l.pointLength!==c.pointLength||l.spotLength!==c.spotLength||l.rectAreaLength!==c.rectAreaLength||l.hemiLength!==c.hemiLength||l.shadowsLength!==c.shadowsLength)l.stateID=c.stateID,l.directionalLength=c.directionalLength,l.pointLength=c.pointLength,l.spotLength=c.spotLength,l.rectAreaLength=c.rectAreaLength,l.hemiLength=c.hemiLength,l.shadowsLength=c.shadowsLength,f=!1;else{if(void 0!==h.shaderID)return;f=!1}if(f){if(h.shaderID){var m=Mn[h.shaderID];n.shader={name:e.type,uniforms:wn(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader}}else n.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(n.shader,D),code=A.getProgramCode(e,h),d=A.acquireProgram(e,n.shader,h,code),n.program=d,e.program=d}var v=d.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var i=0;i<D.maxMorphTargets;i++)v["morphTarget"+i]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(i=0;i<D.maxMorphNormals;i++)v["morphNormal"+i]>=0&&e.numSupportedMorphNormals++}var y=n.shader.uniforms;n.fog=t,void 0===l&&(n.lightsHash=l={}),l.stateID=c.stateID,l.directionalLength=c.directionalLength,l.pointLength=c.pointLength,l.spotLength=c.spotLength,l.rectAreaLength=c.rectAreaLength,l.hemiLength=c.hemiLength,l.shadowsLength=c.shadowsLength,e.lights&&(y.ambientLightColor.value=r.state.ambient,y.directionalLights.value=r.state.directional,y.spotLights.value=r.state.spot,y.rectAreaLights.value=r.state.rectArea,y.pointLights.value=r.state.point,y.hemisphereLights.value=r.state.hemi,y.directionalShadowMap.value=r.state.directionalShadowMap,y.directionalShadowMatrix.value=r.state.directionalShadowMatrix,y.spotShadowMap.value=r.state.spotShadowMap,y.spotShadowMatrix.value=r.state.spotShadowMatrix,y.pointShadowMap.value=r.state.pointShadowMap,y.pointShadowMatrix.value=r.state.pointShadowMatrix);var x=n.program.getUniforms(),w=Pa.seqWithValue(x.seq,y);n.uniformsList=w}function ve(e,t,n,object){K=0;var r=S.get(n),o=_.state.lights,l=r.lightsHash,c=o.state.hash;!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==t?n.needsUpdate=!0:!n.lights||l.stateID===c.stateID&&l.directionalLength===c.directionalLength&&l.pointLength===c.pointLength&&l.spotLength===c.spotLength&&l.rectAreaLength===c.rectAreaLength&&l.hemiLength===c.hemiLength&&l.shadowsLength===c.shadowsLength||(n.needsUpdate=!0)),n.needsUpdate&&(ge(n,t,object),n.needsUpdate=!1);var h,d,f=!1,m=!1,y=!1,T=r.program,M=T.getUniforms(),E=r.shader.uniforms;if(w.useProgram(T.program)&&(f=!0,m=!0,y=!0),n.id!==W&&(W=n.id,m=!0),f||V!==e){if(M.setValue(v,"projectionMatrix",e.projectionMatrix),x.logarithmicDepthBuffer&&M.setValue(v,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),V!==e&&(V=e,m=!0,y=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var L=M.map.cameraPosition;void 0!==L&&L.setValue(v,oe.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&M.setValue(v,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){M.setOptional(v,object,"bindMatrix"),M.setOptional(v,object,"bindMatrixInverse");var k=object.skeleton;if(k){var A=k.bones;if(x.floatVertexTextures){if(void 0===k.boneTexture){var P=Math.sqrt(4*A.length);P=Gi.ceilPowerOfTwo(P),P=Math.max(P,4);var O=new Float32Array(P*P*4);O.set(k.boneMatrices);var C=new hn(O,P,P,$t,Ut);C.needsUpdate=!0,k.boneMatrices=O,k.boneTexture=C,k.boneTextureSize=P}M.setValue(v,"boneTexture",k.boneTexture),M.setValue(v,"boneTextureSize",k.boneTextureSize)}else M.setOptional(v,k,"boneMatrices")}}return m&&(M.setValue(v,"toneMappingExposure",D.toneMappingExposure),M.setValue(v,"toneMappingWhitePoint",D.toneMappingWhitePoint),n.lights&&(d=y,(h=E).ambientLightColor.needsUpdate=d,h.directionalLights.needsUpdate=d,h.pointLights.needsUpdate=d,h.spotLights.needsUpdate=d,h.rectAreaLights.needsUpdate=d,h.hemisphereLights.needsUpdate=d),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(E,t),n.isMeshBasicMaterial?ye(E,n):n.isMeshLambertMaterial?(ye(E,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(E,n)):n.isMeshPhongMaterial?(ye(E,n),n.isMeshToonMaterial?function(e,t){xe(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(E,n):xe(E,n)):n.isMeshStandardMaterial?(ye(E,n),n.isMeshPhysicalMaterial?function(e,t){be(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(E,n):be(E,n)):n.isMeshMatcapMaterial?(ye(E,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ke&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ke&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshDepthMaterial?(ye(E,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshDistanceMaterial?(ye(E,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(E,n)):n.isMeshNormalMaterial?(ye(E,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ke&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ke&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(E,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(E,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*ee,e.scale.value=.5*Q,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(E,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(E,n):n.isShadowMaterial&&(E.color.value=n.color,E.opacity.value=n.opacity),void 0!==E.ltc_1&&(E.ltc_1.value=bn.LTC_1),void 0!==E.ltc_2&&(E.ltc_2.value=bn.LTC_2),Pa.upload(v,r.uniformsList,E,D)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Pa.upload(v,r.uniformsList,E,D),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(v,"center",object.center),M.setValue(v,"modelViewMatrix",object.modelViewMatrix),M.setValue(v,"normalMatrix",object.normalMatrix),M.setValue(v,"modelMatrix",object.matrixWorld),T}function ye(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=S.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function xe(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ke&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ke&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function be(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===ke&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===ke&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}ce(),this.vr=null,this.shadowMap={enabled:!1},this.getContext=function(){return v},this.getContextAttributes=function(){return v.getContextAttributes()},this.forceContextLoss=function(){var e=y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(e){void 0!==e&&(ee=e,this.setSize(J,Q,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Bi),e.set(J,Q)},this.setSize=function(e,n,r){J=e,Q=n,t.width=e*ee,t.height=n*ee,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n)},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Bi),e.set(J*ee,Q*ee)},this.setDrawingBufferSize=function(e,n,r){J=e,Q=n,ee=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new En),e.copy(X)},this.getViewport=function(e){return e.copy(te)},this.setViewport=function(e,t,n,r){e.isVector4?te.set(e.x,e.y,e.z,e.w):te.set(e,t,n,r),w.viewport(X.copy(te).multiplyScalar(ee))},this.getScissor=function(e){return e.copy(ie)},this.setScissor=function(e,t,n,r){e.isVector4?ie.set(e.x,e.y,e.z,e.w):ie.set(e,t,n,r),w.scissor($.copy(ie).multiplyScalar(ee))},this.getScissorTest=function(){return ne},this.setScissorTest=function(e){w.setScissorTest(ne=e)},this.getClearColor=function(){return C.getClearColor()},this.setClearColor=function(){C.setClearColor.apply(C,arguments)},this.getClearAlpha=function(){return C.getClearAlpha()},this.setClearAlpha=function(){C.setClearAlpha.apply(C,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=v.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=v.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=v.STENCIL_BUFFER_BIT),v.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",he,!1),t.removeEventListener("webglcontextrestored",ue,!1),P.dispose(),O.dispose(),S.dispose(),k.dispose(),animation.stop()},this.renderBufferImmediate=function(object,e){w.initAttributes();var t=S.get(object);object.hasPositions&&!t.position&&(t.position=v.createBuffer()),object.hasNormals&&!t.normal&&(t.normal=v.createBuffer()),object.hasUvs&&!t.uv&&(t.uv=v.createBuffer()),object.hasColors&&!t.color&&(t.color=v.createBuffer());var n=e.getAttributes();object.hasPositions&&(v.bindBuffer(v.ARRAY_BUFFER,t.position),v.bufferData(v.ARRAY_BUFFER,object.positionArray,v.DYNAMIC_DRAW),w.enableAttribute(n.position),v.vertexAttribPointer(n.position,3,v.FLOAT,!1,0,0)),object.hasNormals&&(v.bindBuffer(v.ARRAY_BUFFER,t.normal),v.bufferData(v.ARRAY_BUFFER,object.normalArray,v.DYNAMIC_DRAW),w.enableAttribute(n.normal),v.vertexAttribPointer(n.normal,3,v.FLOAT,!1,0,0)),object.hasUvs&&(v.bindBuffer(v.ARRAY_BUFFER,t.uv),v.bufferData(v.ARRAY_BUFFER,object.uvArray,v.DYNAMIC_DRAW),w.enableAttribute(n.uv),v.vertexAttribPointer(n.uv,2,v.FLOAT,!1,0,0)),object.hasColors&&(v.bindBuffer(v.ARRAY_BUFFER,t.color),v.bufferData(v.ARRAY_BUFFER,object.colorArray,v.DYNAMIC_DRAW),w.enableAttribute(n.color),v.vertexAttribPointer(n.color,3,v.FLOAT,!1,0,0)),w.disableUnusedAttributes(),v.drawArrays(v.TRIANGLES,0,object.count),object.count=0},this.renderBufferDirect=function(e,t,n,r,object,o){var l=object.isMesh&&object.matrixWorld.determinant()<0;w.setMaterial(r,l);var c=ve(e,t,r,object),h=!1;H.geometry===n.id&&H.program===c.id&&H.wireframe===(!0===r.wireframe)||(H.geometry=n.id,H.program=c.id,H.wireframe=!0===r.wireframe,h=!0),object.morphTargetInfluences&&(R.update(object,n,r,c),h=!0);var d,f=n.index,m=n.attributes.position,_=1;!0===r.wireframe&&(f=L.getWireframeAttribute(n),_=2);var T=I;null!==f&&(d=E.get(f),(T=F).setIndex(d)),h&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&&!x.isWebGL2&&null===y.get("ANGLE_instanced_arrays"))return void console.error("WebGLRenderer.setupVertexAttributes: using InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");w.initAttributes();var r=n.attributes,o=t.getAttributes(),l=e.defaultAttributeValues;for(var c in o){var h=o[c];if(h>=0){var d=r[c];if(void 0!==d){var f=d.normalized,m=d.itemSize,_=E.get(d);if(void 0===_)continue;var T=_.buffer,S=_.type,M=_.bytesPerElement;if(d.isInterleavedBufferAttribute){var data=d.data,L=data.stride,k=d.offset;data&&data.isInstancedInterleavedBuffer?(w.enableAttributeAndDivisor(h,data.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=data.meshPerAttribute*data.count)):w.enableAttribute(h),v.bindBuffer(v.ARRAY_BUFFER,T),v.vertexAttribPointer(h,m,S,f,L*M,k*M)}else d.isInstancedBufferAttribute?(w.enableAttributeAndDivisor(h,d.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=d.meshPerAttribute*d.count)):w.enableAttribute(h),v.bindBuffer(v.ARRAY_BUFFER,T),v.vertexAttribPointer(h,m,S,f,0,0)}else if(void 0!==l){var A=l[c];if(void 0!==A)switch(A.length){case 2:v.vertexAttrib2fv(h,A);break;case 3:v.vertexAttrib3fv(h,A);break;case 4:v.vertexAttrib4fv(h,A);break;default:v.vertexAttrib1fv(h,A)}}}}w.disableUnusedAttributes()}(r,c,n),null!==f&&v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,d.buffer));var S=1/0;null!==f?S=f.count:void 0!==m&&(S=m.count);var M=n.drawRange.start*_,k=n.drawRange.count*_,A=null!==o?o.start*_:0,P=null!==o?o.count*_:1/0,O=Math.max(M,A),C=Math.min(S,M+k,A+P)-1,N=Math.max(0,C-O+1);if(0!==N){if(object.isMesh)if(!0===r.wireframe)w.setLineWidth(r.wireframeLinewidth*se()),T.setMode(v.LINES);else switch(object.drawMode){case Ei:T.setMode(v.TRIANGLES);break;case Li:T.setMode(v.TRIANGLE_STRIP);break;case ki:T.setMode(v.TRIANGLE_FAN)}else if(object.isLine){var z=r.linewidth;void 0===z&&(z=1),w.setLineWidth(z*se()),object.isLineSegments?T.setMode(v.LINES):object.isLineLoop?T.setMode(v.LINE_LOOP):T.setMode(v.LINE_STRIP)}else object.isPoints?T.setMode(v.POINTS):object.isSprite&&T.setMode(v.TRIANGLES);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&T.renderInstances(n,O,N):T.render(O,N)}},this.compile=function(e,t){(_=O.get(e,t)).init(),e.traverse((function(object){object.isLight&&(_.pushLight(object),object.castShadow&&_.pushShadow(object))})),_.setupLights(t),e.traverse((function(object){if(object.material)if(Array.isArray(object.material))for(var i=0;i<object.material.length;i++)ge(object.material[i],e.fog,object);else ge(object.material,e.fog,object)}))},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!G){H.geometry=null,H.program=null,H.wireframe=!1,W=-1,V=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),(_=O.get(e,t)).init(),e.onBeforeRender(D,e,t,n||B),ae.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),re.setFromMatrix(ae),this.localClippingEnabled,(m=P.get(e,t)).init(),fe(e,t,0,D.sortObjects),!0===D.sortObjects&&m.sort();_.state.shadowsArray;_.setupLights(t),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),C.render(m,e,t,r);var o=m.opaque,l=m.transparent;if(e.overrideMaterial){var c=e.overrideMaterial;o.length&&me(o,e,t,c),l.length&&me(l,e,t,c)}else o.length&&me(o,e,t),l.length&&me(l,e,t);null!==B&&(M.updateRenderTargetMipmap(B),M.updateMultisampleRenderTarget(B)),w.buffers.depth.setTest(!0),w.buffers.depth.setMask(!0),w.buffers.color.setMask(!0),w.setPolygonOffset(!1),e.onAfterRender(D,e,t),m=null,_=null}}else console.error("WebGLRenderer.render: camera is not an instance of Camera.")},this.allocTextureUnit=function(){var e=K;return e>=x.maxTextures&&console.warn("WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+x.maxTextures),K+=1,e},this.setTexture2D=(z=!1,function(e,slot){e&&e.isWebGLRenderTarget&&(z||(console.warn("WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),M.setTexture2D(e,slot)}),this.setTexture3D=function(e,slot){M.setTexture3D(e,slot)},this.setTexture=function(){var e=!1;return function(t,slot){e||(console.warn("WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),M.setTexture2D(t,slot)}}(),this.setTextureCube=function(){var e=!1;return function(t,slot){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?M.setTextureCube(t,slot):M.setTextureCubeDynamic(t,slot)}}(),this.setFramebuffer=function(e){U=e},this.getRenderTarget=function(){return B},this.setRenderTarget=function(e,t,n){B=e,e&&void 0===S.get(e).__webglFramebuffer&&M.setupRenderTarget(e);var r=U,o=!1;if(e){var l=S.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=l[t||0],o=!0):r=e.isWebGLMultisampleRenderTarget?S.get(e).__webglMultisampledFramebuffer:l,X.copy(e.viewport),$.copy(e.scissor),Z=e.scissorTest}else X.copy(te).multiplyScalar(ee),$.copy(ie).multiplyScalar(ee),Z=ne;if(j!==r&&(v.bindFramebuffer(v.FRAMEBUFFER,r),j=r),w.viewport(X),w.scissor($),w.setScissorTest(Z),o){var c=S.get(e.texture);v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+t||0,c.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,o,l){if(e&&e.isWebGLRenderTarget){var c=S.get(e).__webglFramebuffer;if(c){var h=!1;c!==j&&(v.bindFramebuffer(v.FRAMEBUFFER,c),h=!0);try{var d=e.texture,f=d.format,m=d.type;if(f!==$t&&N.convert(f)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(m===It||N.convert(m)===v.getParameter(v.IMPLEMENTATION_COLOR_READ_TYPE)||m===Ut&&(x.isWebGL2||y.get("OES_texture_float")||y.get("WEBGL_color_buffer_float"))||m===Bt&&(x.isWebGL2?y.get("EXT_color_buffer_float"):y.get("EXT_color_buffer_half_float"))))return void console.error("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");v.checkFramebufferStatus(v.FRAMEBUFFER)===v.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-o&&v.readPixels(t,n,r,o,N.convert(f),N.convert(m),l):console.error("WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{h&&v.bindFramebuffer(v.FRAMEBUFFER,j)}}}else console.error("WebGLRenderer.readRenderTargetPixels: renderTarget is not WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,o=t.image.height,l=N.convert(t.format);this.setTexture2D(t,0),v.copyTexImage2D(v.TEXTURE_2D,n||0,l,e.x,e.y,r,o,0)},this.copyTextureToTexture=function(e,t,n,r){var o=t.image.width,l=t.image.height,c=N.convert(n.format),h=N.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?v.texSubImage2D(v.TEXTURE_2D,r||0,e.x,e.y,o,l,c,h,t.image.data):v.texSubImage2D(v.TEXTURE_2D,r||0,e.x,e.y,c,h,t.image)}},WebGLRenderTarget:io,VideoTexture:co,Texture:cn,Clock:no,Geometry:Un,Vector2:Bi,Vector3:en,Color:xn,Matrix4:Zi,Plane:pn,Scene:ro,OrthographicCamera:oo,PerspectiveCamera:so,Group:lo,Mesh:kr,LinearFilter:1006,DoubleSide:2,VertexColors:2,PlaneGeometry:rr,PlaneBufferGeometry:ar,MeshBasicMaterial:Lr,ShaderMaterial:Sr,LoadingManager:ho,TextureLoader:mo,GLTFLoader:Ns,AmbientLight:zs,AnimationMixer:Us,LoopOnce:2200,LoopRepeat:2201},n(1),n(275),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(267),n(268),n(269),n(270),n(271),n(272),n(273);var Bs,js,Ws,Hs;n(274);function Vs(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ys(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Vs(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Vs(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),Array.from||(Array.from=(Bs=Object.prototype.toString,js=function(e){return"function"==typeof e||"[object Function]"===Bs.call(e)},Ws=Math.pow(2,53)-1,Hs=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),Ws)},function(e){var t=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!js(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var l,c=Hs(n.length),h=js(t)?Object(new t(c)):new Array(c),d=0;d<c;)l=n[d],h[d]=o?void 0===r?o(l,d):o.call(r,l,d):l,d+=1;return h.length=c,h})),n.d(t,"b",(function(){return $s})),n.d(t,"a",(function(){return R})),o.a.component(h.a.name,h.a),o.a.component(f.a.name,Ys({},f.a,{render:function(e,t){return f.a._warned||(f.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),f.a.render(e,t)}})),o.a.component(k.name,k),o.a.component("NChild",k),o.a.component(F.name,F),o.a.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var Xs={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function $s(e){var t,n,r,l,c,h,path,d;return regeneratorRuntime.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,regeneratorRuntime.awrap(new m.a(L));case 2:return t=f.sent,(n=Z(e)).$router=t,r=n.registerModule,n.registerModule=function(path,e,t){return r.call(n,path,e,Object.assign({preserveState:!0},t))},l=Ys({store:n,router:t,nuxt:{defaultTransition:Xs,transitions:[Xs],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},Xs,{name:e}):Object.assign({},Xs,e):Xs})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(t){t=t||null,l.context._errored=Boolean(t),t=t?Object(_.l)(t):null;var n=this.nuxt||this.$options.nuxt;return n.dateErr=Date.now(),n.err=t,e&&(e.nuxt.error=t),t}}},W),n.app=l,c=e?e.next:function(e){return l.router.push(e)},e?h=t.resolve(e.url).route:(path=Object(_.d)(t.options.base),h=t.resolve(path).route),f.next=13,regeneratorRuntime.awrap(Object(_.o)(l,{store:n,route:h,next:c,error:l.nuxt.error.bind(l),payload:e?e.payload:void 0,req:e?e.req:void 0,res:e?e.res:void 0,beforeRenderFns:e?e.beforeRenderFns:void 0,ssrContext:e}));case 13:d=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject(key, value) has no value provided");l[e="$"+e]=t,n[e]=l[e];var r="__nuxt_"+e+"_installed__";o.a[r]||(o.a[r]=!0,o.a.use((function(){o.a.prototype.hasOwnProperty(e)||Object.defineProperty(o.a.prototype,e,{get:function(){return this.$root.$options[e]}})})))},window.__NUXT__&&window.__NUXT__.state&&n.replaceState(window.__NUXT__.state),f.next=18;break;case 18:if("function"!=typeof ue){f.next=21;break}return f.next=21,regeneratorRuntime.awrap(ue(l.context,d));case 21:if("function"!=typeof be){f.next=24;break}return f.next=24,regeneratorRuntime.awrap(be(l.context,d));case 24:f.next=27;break;case 27:f.next=30;break;case 30:f.next=33;break;case 33:f.next=36;break;case 36:return f.abrupt("return",{store:n,app:l,router:t});case 37:case"end":return f.stop()}}))}},,function(e,t,n){"use strict";t.a={rootUrl:"/",apiBase:"https://wp.maxilla.jp/",awsBase:"https://maxilla.s3.amazonaws.com/web/"}},,,,,,,,,,function(e,t,n){"use strict";var r=n(17),o=(n(5),n(30)),l=n.n(o),c=n(54);t.a={apiBase:c.a.apiBase,getPickups:function(e){var t=this;return new Promise((function(e,n){l.a.defaults.baseURL=t.apiBase;l.a.get("/wp-json/wp/v2/rest_get_pickups").then((function(t){var data=Object(r.a)(t.data);200===t.status&&t.data.length>0?e(data):n(t)}))}))},getAllWorks:function(e){var t=this;return new Promise((function(e,n){l.a.defaults.baseURL=t.apiBase;l.a.get("/wp-json/wp/v2/rest_get_all_works").then((function(t){var data=Object(r.a)(t.data);200===t.status&&t.data.length>0?e(data):n(t)}))}))},getCategories:function(){var e=this;return new Promise((function(t,n){l.a.defaults.baseURL=e.apiBase;l.a.get("/wp-json/wp/v2/rest_get_categories/").then((function(e){var data=Object(r.a)(e.data);200===e.status&&e.data.length>0?t(data):n(e)}))}))},getPages:function(e){var t=this;return new Promise((function(e,n){l.a.defaults.baseURL=t.apiBase;l.a.get("/wp-json/wp/v2/rest_get_pages").then((function(t){200===t.status&&t.data?e(t.data):n(t)}))}))}}},,,,,,,,,,function(e,t,n){"use strict";var r={};r.pages=n(193),r.pages=r.pages.default||r.pages,t.a=r},,,,,,,,,,,,,,,,,,,function(e,t,n){var content=n(203);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(157).default)("72daabed",content,!0,{sourceMap:!1})},function(e,t,n){"use strict";n(5),n(101),n(31),n(9),n(71),n(84);var r=n(2),o=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},l=window.cancelIdleCallback||function(e){clearTimeout(e)},c=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:r.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=o(this.observe,{timeout:2e3}))},beforeDestroy:function(){l(this.handleId),this.__observed&&(c.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){c&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),c.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$nuxt.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){c.unobserve(this.$el);var e=this.getPrefetchComponents(),t=!0,n=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var h=o.value,d=h();d instanceof Promise&&d.catch((function(){})),h.__prefetched=!0}}catch(e){n=!0,r=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}}}}}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"getUser",(function(){return o})),n.d(t,"getPickups",(function(){return l})),n.d(t,"getAllWorks",(function(){return c})),n.d(t,"getPages",(function(){return h})),n.d(t,"getInCategory",(function(){return d})),n.d(t,"getCategories",(function(){return f})),n.d(t,"getSingle",(function(){return m}));n(5);var r=n(64),o=function(e,t){(0,e.commit)("updateUserData",{isRetina:t.retina,device:t.device,brows:t.brows})},l=function(e,t){var n=e.commit;e.state;return new Promise((function(e,o){r.a.getPickups(t).then((function(t){n("updatePickups",t),e(t)}),(function(e){o(e)}))}))},c=function(e,t){var n=e.commit;e.state;return new Promise((function(e,o){r.a.getAllWorks(t).then((function(t){n("updateAll",t),e(t)}),(function(e){o(e)}))}))},h=function(e,t){var n=e.commit;e.state;return new Promise((function(e,o){r.a.getPages(t).then((function(t){n("updatePages",t),e(t)}),(function(e){o(e)}))}))},d=function(e,t){(0,e.commit)("updateInCategory",t)},f=function(e,t){var n=e.commit;e.state;return new Promise((function(e,o){r.a.getCategories(t).then((function(t){n("updateCategories",t),e(t)}),(function(e){o(e)}))}))},m=function(e,t){(0,e.commit)("updateSingle",t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"isloading",(function(){return r})),n.d(t,"user",(function(){return o})),n.d(t,"page",(function(){return l})),n.d(t,"history",(function(){return c})),n.d(t,"pickups",(function(){return h})),n.d(t,"all",(function(){return d})),n.d(t,"single",(function(){return f})),n.d(t,"lang",(function(){return m})),n.d(t,"categories",(function(){return _})),n.d(t,"in_category",(function(){return v})),n.d(t,"in_category_name",(function(){return y})),n.d(t,"pages",(function(){return x}));var r=function(e){return e.isloading},o=function(e){return e.user},l=function(e){return e.page},c=function(e){return e.history},h=function(e){return e.pickups},d=function(e){return e.all},f=function(e){return e.single},m=function(e){return e.i18n.locale},_=function(e){return e.categories},v=function(e){return e.in_category},y=function(e){return e.in_category_name},x=function(e){return e.pages}},function(e,t,n){"use strict";n.r(t);var r,o=n(11);n(4);t.default=(r={updateLoading:function(e,data){e.isloading=data},updateUserData:function(e,data){e.user=data},updatePage:function(e,t){e.page=t},updatePages:function(e,t){e.pages=t},updatePageHistory:function(e,t){e.history=t},updatePickups:function(e,t){e.pickups=t}},Object(o.a)(r,"updatePickups",(function(e,t){e.pickups=t})),Object(o.a)(r,"updateCategories",(function(e,t){e.categories=t})),Object(o.a)(r,"updateInCategory",(function(e,t){var n=[],r=null;e.all.forEach((function(e,i){e.categories.indexOf(t.slug)>=0&&n.push(e)})),e.categories.forEach((function(e,i){e.slug===t.slug&&(r=e.name.charAt(0).toUpperCase()+e.name.slice(1).toLowerCase())})),e.in_category=n,e.in_category_name=r})),Object(o.a)(r,"updateAll",(function(e,t){e.all=t})),Object(o.a)(r,"updateSingle",(function(e,t){var n=null;e.all.forEach((function(e,i){e.slug===t.slug&&(n=e)})),e.single=n})),r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa_0(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n//To save 9 dependent texture reads, you can compute\n//these in the vertex shader and use the optimized\n//frag.glsl function in your frag shader. \n\n//This is best suited for mobile devices, like iOS.\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvec4 apply(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n\tmediump vec2 v_rgbNW;\n\tmediump vec2 v_rgbNE;\n\tmediump vec2 v_rgbSW;\n\tmediump vec2 v_rgbSE;\n\tmediump vec2 v_rgbM;\n\n\t//compute the texture coords\n\ttexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\t\n\t//compute FXAA\n\treturn fxaa_0(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n\nuniform float pixel_rario;\n\n//==========\n// noise\n//==========\nuniform float offsetX;\nuniform float offsetY;\nuniform float rgb;\nuniform float is_desktop;\nuniform float effect;\n\n//\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform vec2 pivot;\nuniform vec2 fxaa;\nuniform vec2 mouse;\nvarying vec2 vUv;\n\n//\nuniform float mag_radius;\nuniform float mag_power;\n\n//\nuniform float is_subpages;\n\n//\nuniform float wheel_power;\n\n//\nuniform vec2  nz_position;\nuniform float nz_power;\nuniform float nz_time;\n\nvoid main() {\n\t// vec4 color = texture2D( tDiffuse, vUv );\n\n\tfloat aspect = resolution.x / resolution.y;\n\tvec2  uv_mag = vec2( 0.0, 0.0 );\n\tvec2  p = (gl_FragCoord.xy / resolution.xy) * pixel_rario;\n\n\t//======\n\tfloat x   = vUv.x + offsetX;\n\tfloat y   = vUv.y + offsetY;\n\tfloat uv_noize_r = 0.0;\n\tfloat uv_noize_g = 0.0;\n\tfloat uv_noize_b = 0.0;\n\n\t//\n\tif( is_desktop == 0.0 ){\n\n\t\tvec2 m = mouse.xy;\n\t\tvec2 d = p - m;\n\t\tfloat distance  = length( vUv.y );\n\t\tfloat gr        = pow( distance + 0.5, mag_power );  \n\t\tfloat mag       = cos( 1.0 - gr );\n\t\tuv_mag          = m + d * mag;\n\n\t} else {\n\n\t\t//==============================\n\t\t// noize effect\n\t\t//==============================\n        float nx = vUv.x * nz_position.x;\n        float ny = vUv.y * nz_position.y;\n        float nz = 0.1 * nz_time;\n\t\tfloat uv_noize = snoise( vec3(nx,ny,nz) );\n\t\tvec2  uv_distVec   = ( vUv.x - mouse.x ) * vec2( max(1.0,aspect), max(1.0,1.0/aspect) );\n\t\tfloat uv_distance  = length( uv_distVec );\n\t\tfloat uv_pow = pow( uv_distance, 2.0 ) * nz_power;\n\t\tuv_noize_r = float( 0.5 * uv_noize ) * uv_pow;\n\t\tuv_noize_g = float( 0.5 * uv_noize ) * uv_pow;\n\t\tuv_noize_b = float( 0.5 * uv_noize ) * uv_pow;\n\n\t\t//==============================\n\t\t// pinch effect\n\t\t//==============================\n\t\tvec2 m = mouse.xy;\n\t\tvec2 d = p - m;\n\t\tvec2  distVec   = ( vUv - mouse ) * vec2( max(1.0,aspect), max(1.0,1.0/aspect) );\n\t\tfloat distance  = length( distVec );\n\t\tfloat gr        = pow( distance / mag_radius, mag_power );  \n\t\tfloat mag       = cos( 1.0 - gr );\n\t\tif ( distance > mag_radius ) {\n\t\t\tuv_mag  = p;\n\t\t} else if ( distance < mag_radius ) {\n\t\t\tuv_mag  = m + d * mag;\n\t\t}\n\n\t}\n\n\t//\n\tfloat _py = sin( vUv.x - 0.5 ) * pow( 1.0 - vUv.y , 2.0 ) * abs(wheel_power) * 2.0;\n\tfloat uv_mag_x = uv_mag.x - vUv.x - _py;\n\tfloat uv_mag_y = uv_mag.y - vUv.y;\n\n\t//\n\tfloat _dx = x + uv_noize_r + uv_mag_x;\n\tfloat _dy = y + uv_noize_g + uv_mag_y;\n\tvec2 uv_displaced = vec2( _dx, _dy );\n\n\t//\n\tvec4 _tDiffuse = texture2D( tDiffuse, uv_displaced );\n\tif( is_subpages == 1.0 ){\n\t    vec2 fragCoord = uv_displaced * resolution;\n\t    _tDiffuse = apply( tDiffuse , fragCoord, resolution );\n\t}\n\n\t//\n\tgl_FragColor.r = _tDiffuse.r + rgb;\n\tgl_FragColor.g = _tDiffuse.g + rgb;\n\tgl_FragColor.b = _tDiffuse.b + rgb;\n\tgl_FragColor.a = _tDiffuse.a;\n\n}\n\n'},function(e,t){e.exports="#define GLSLIFY 1\n//==========\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n//==========\n// varying vec2 vUv;\n// uniform float skewX;\n// uniform float skewY;\n// uniform float scaleX;\n// uniform float scaleY;\n// uniform float scaleZ;\n// void main() {\n// \tvUv = uv;\n\n// \t// Skew\n// \tmat4 sXPos = mat4(\n// \t\tvec4(1.0,-sin(skewY),0.0,0.0),\n// \t\tvec4(sin(skewX),1.0,0.0,0.0),\n// \t\tvec4(0.0,0.0,1.0,0.0),\n// \t\tvec4(0.0,0.0,0.0,1.0)\n// \t);\n\n// \t// Scale\n// \tmat4 sPos = mat4(vec4(scaleX,0.0,0.0,0.0),\n// \tvec4(0.0,scaleY,0.0,0.0),\n// \tvec4(0.0,0.0,scaleZ,0.0),\n// \tvec4(0.0,0.0,0.0,1.0));\n\n// \t//\n// \tgl_Position = projectionMatrix * modelViewMatrix * sPos * sXPos * vec4(position,1.0);\n\n// }\n\n//==========\n// varying vec2 vUv;\n// uniform vec2 resolution;\n// uniform float power;\n// void main(){\n// \tvUv = uv;\n\n// \tfloat thetaY = position.x / resolution.x * power;\n// \tfloat tx   = position.x;\n// \tfloat ty   = position.y;\n// \tfloat ty_z = resolution.x * ( 1.0 - cos( thetaY ) ) * power;\n// \tvec3 p = vec3( tx, ty, ty_z );\n// \tvec4 mvPosition = modelViewMatrix * vec4(p, 1.0);\n// \tgl_Position = projectionMatrix * mvPosition;\n// }\n"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float offsetX;\nuniform float offsetY;\nuniform float scale;\nvarying vec2  vUv;\n\nuniform sampler2D tImage;\nuniform sampler2D tVideo;\n\nuniform float alpha;\nuniform float fade;\nuniform float gradient;\n\nuniform float rgb_shift;\nuniform float rgb;\nuniform float opacity;\n\nuniform float is_video;\nuniform float is_loaded_data;\n\nuniform float cy;\n\n// uniform vec2 reflection;\n\nvoid main() {\n\n\tfloat x = vUv.x;\n\tfloat y = vUv.y;\n\n\t//==========\n\t// scale\n\t//==========\n\tfloat _scale = scale - 1.0;\n\tfloat sx = x - (x * _scale)*0.5 + _scale * 0.25 + offsetX;\n\tfloat sy = y - (y * _scale)*0.5 + _scale * 0.25 + offsetY;\n\tvec2 uv_displaced = vec2(x, y);\n\n\t//==========\n\t// curve\n\t//==========\n\tfloat dx = sx;\n\tfloat dy = sy;\n\tif( dx > 1.0 ) {\n\t\tdx = 2.0 - sx;\n\t}\n\tif( dx < 0.0 ) {\n\t\tdx = -1.0 * sx;\n\t}\n\tif( dy > 1.0 ) {\n\t\tdy = 2.0 - sy;\n\t}\n\tif( dy < 0.0 ) {\n\t\tdy = -1.0 * sy;\n\t}\n\n\t//==========\n\t// rgb\n\t//==========\n\tvec2 r_displaced  = vec2( dx, dy - rgb_shift *       (1.0-vUv.y) );\n\tvec2 g_displaced  = vec2( dx, dy - rgb_shift * 2.0 * (1.0-vUv.y) );\n\tvec2 b_displaced  = vec2( dx, dy - rgb_shift * 3.0 * (1.0-vUv.y) );\n\n\tfloat img_r = texture2D( tImage, r_displaced ).r + rgb;\n\tfloat img_g = texture2D( tImage, g_displaced ).g + rgb;\n\tfloat img_b = texture2D( tImage, b_displaced ).b + rgb;\n\tfloat r = img_r * opacity * alpha;\n\tfloat g = img_g * opacity * alpha;\n\tfloat b = img_b * opacity * alpha;\n\n\tif( is_video == 1.0 && is_loaded_data == 1.0 ){\n\n\t\t//\n\t\tfloat fade_img_r = img_r * max( 1.0 - pow( vUv.y * fade + fade, 2.0 ), 0.0 );\n\t\tfloat fade_img_g = img_g * max( 1.0 - pow( vUv.y * fade + fade, 2.0 ), 0.0 );\n\t\tfloat fade_img_b = img_b * max( 1.0 - pow( vUv.y * fade + fade, 2.0 ), 0.0 );\n\n\t\t//\n\t\tfloat video_r      = texture2D( tVideo, r_displaced ).r + rgb;\n\t\tfloat video_g      = texture2D( tVideo, g_displaced ).g + rgb;\n\t\tfloat video_b      = texture2D( tVideo, b_displaced ).b + rgb;\n\t\tfloat fade_video_r = video_r * min( pow( vUv.y * fade + fade, 2.0 ), 1.0 );\n\t\tfloat fade_video_g = video_g * min( pow( vUv.y * fade + fade, 2.0 ), 1.0 );\n\t\tfloat fade_video_b = video_b * min( pow( vUv.y * fade + fade, 2.0 ), 1.0 );\n\n\t\t//\n\t\tr = ( fade_img_r + fade_video_r ) * opacity * alpha;\n\t\tg = ( fade_img_g + fade_video_g ) * opacity * alpha;\n\t\tb = ( fade_img_b + fade_video_b ) * opacity * alpha;\n\n\t}\n\n\tfloat a = vUv.y + ( 1.0 - vUv.y ) * ( 1.0 - gradient );\n\tgl_FragColor.r = r;\n\tgl_FragColor.g = g;\n\tgl_FragColor.b = b;\n\tgl_FragColor.a = a;\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float skewX;\nuniform float skewY;\nuniform float scale;\nvarying vec2 vUv;\nuniform sampler2D tDiffuse;\nuniform float opacity;\nuniform float rgb;\nuniform float gradient;\nuniform float rgb_shift;\n\nvoid main() {\n\n\t//==========\n\t// skew\n\t//==========\n\tfloat x = vUv.x + skewX * vUv.y - skewX*0.5;\n\tfloat y = vUv.y + skewY * (1.0 - vUv.x) - skewY*0.5;\n\n\t//==========\n\t// scale\n\t//==========\n\tfloat _scale = scale - 1.0;\n\tfloat sx = x - (x * _scale)*0.5 + _scale * 0.25;\n\tfloat sy = y - (y * _scale)*0.5 + _scale * 0.25;\n\tvec2 uv_displaced = vec2(x, y);\n\n\t//\n\tfloat dx = sx;\n\tfloat dy = sy;\n\tif( dx > 1.0 ) {\n\t\tdx = sx - 1.0;\n\t}\n\tif( dx < 0.0 ) {\n\t\tdx = sx + 1.0;\n\t}\n\tif( dy > 1.0 ) {\n\t\tdy = sy - 1.0;\n\t}\n\tif( dy < 0.0 ) {\n\t\tdy = sy + 1.0;\n\t}\n\n\tvec2 r_displaced  = vec2( dx, dy - rgb_shift *       (1.0-vUv.y) );\n\tvec2 g_displaced  = vec2( dx, dy - rgb_shift * 2.0 * (1.0-vUv.y) );\n\tvec2 b_displaced  = vec2( dx, dy - rgb_shift * 3.0 * (1.0-vUv.y) );\n\tfloat img_r = texture2D( tDiffuse, r_displaced ).r + rgb;\n\tfloat img_g = texture2D( tDiffuse, g_displaced ).g + rgb;\n\tfloat img_b = texture2D( tDiffuse, b_displaced ).b + rgb;\n\tfloat r = img_r * opacity;\n\tfloat g = img_g * opacity;\n\tfloat b = img_b * opacity;\n\n\t//\n\tfloat a = vUv.y + ( 1.0 - vUv.y ) * ( 1.0 - gradient );\n\tgl_FragColor.r = r;\n\tgl_FragColor.g = g;\n\tgl_FragColor.b = b;\n\tgl_FragColor.a = a;\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\n//==========\n// varying vec2 vUv;\n// uniform float power;\n// uniform float radius;\n// void main(){\n// \tvUv = uv;\n\n// \tfloat theta = position.x;\n\n// \tfloat tx = position.x;\n\n// \tfloat ty = position.y;\n\n// \tfloat tz = cos( position.y ) * radius * 0.1;\n\n// \tvec3 p = vec3(tx, ty, tz);\n\n// \tvec4 mvPosition = modelViewMatrix * vec4(p, 1.0);\n\n// \tgl_Position = projectionMatrix * mvPosition;\n// }\n\n//==========\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n//==========\n// varying vec2 vUv;\n// uniform float skewX;\n// uniform float skewY;\n// uniform float scaleX;\n// uniform float scaleY;\n// uniform float scaleZ;\n// void main() {\n// \tvUv = uv;\n\n// \t// Skew\n// \tmat4 sXPos = mat4(\n// \t\tvec4(1.0,-sin(skewY),0.0,0.0),\n// \t\tvec4(sin(skewX),1.0,0.0,0.0),\n// \t\tvec4(0.0,0.0,1.0,0.0),\n// \t\tvec4(0.0,0.0,0.0,1.0)\n// \t);\n\n// \t// Scale\n// \tmat4 sPos = mat4(vec4(scaleX,0.0,0.0,0.0),\n// \tvec4(0.0,scaleY,0.0,0.0),\n// \tvec4(0.0,0.0,scaleZ,0.0),\n// \tvec4(0.0,0.0,0.0,1.0));\n\n// \t//\n// \tgl_Position = projectionMatrix * modelViewMatrix * sPos * sXPos * vec4(position,1.0);\n\n// }"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D fillText;\nuniform sampler2D strokeText;\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform vec2 pivot;\n\n//\nuniform float right;\nuniform float left;\nuniform float height;\n\n//\nuniform float opacity;\nuniform float radius;\nuniform float radius_pow;\nuniform float hole;\n\n//\n// uniform float wheel_power;\n\nvoid main() {\n\n\t//=====\n\tfloat _min_y = gl_FragCoord.y - ( gl_FragCoord.x/10.0 * left ) + ( gl_FragCoord.x/10.0 * right );\n\tfloat _max_y = gl_FragCoord.y + ( gl_FragCoord.x/10.0 * left ) - ( gl_FragCoord.x/10.0 * right );\n\n\t//=====\n\t// float _ax = gl_FragCoord.x/resolution.x;\n\t// float _ay = gl_FragCoord.y/resolution.y;\n\t// float _py = sin( _ax - 0.5 ) * pow( 1.0 - _ay , 2.0 ) * abs(wheel_power) * 2.0;\n\t// float uv_mag_x = -_py;\n\t// float uv_mag_y = 0.0;\n\t// float dx = vUv.x - offset.x + uv_mag_x;\n\t// float dy = vUv.y - offset.y + uv_mag_y;\n\t// vec2 uv_displaced = vec2( dx, dy );\n\n\t//=====\n\tfloat dx = vUv.x - offset.x;\n\tfloat dy = vUv.y - offset.y;\n\tvec2 uv_displaced = vec2( dx, dy );\n\n\t//=====\n\tfloat _h = resolution.y/100.0 * height;\n\tfloat _min_h = resolution.y/2.0 + _h;\n\tfloat _max_h = resolution.y/2.0 - _h;\n\n\t//=====\n\tvec4 fill   = texture2D( fillText, uv_displaced );\n\tvec4 stroke = texture2D( strokeText, uv_displaced );\n\n\t//\n\tif( _min_y < _min_h && _max_y > _max_h ){\n\t\tif( hole == 1.0 ){\n\t\t\tfloat distance = length( gl_FragCoord.xy - pivot );\n\t\t\tif( distance < radius ){\n\t\t\t\tgl_FragColor = ( ( fill * pow( distance/radius, radius_pow ) ) + stroke ) * opacity;\n\t\t\t} else {\n\t\t\t\tgl_FragColor = fill * opacity;\n\t\t\t}\n\t\t} else {\n\t\t\tgl_FragColor = fill * opacity;\n\t\t}\n\t} else {\n\t\tgl_FragColor = stroke * opacity;\n\t}\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float offsetX;\nuniform float offsetY;\nuniform float scaleX;\nuniform float scaleY;\n\nvarying vec2 vUv;\n\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform vec2 rect;\n\nuniform float opacity;\nuniform float alpha;\nuniform float rgb;\nuniform float rgb_shift;\n\n//\nuniform float wheel_power;\nuniform float gradient;\n\n//\nuniform float is_fullscreen;\nuniform float is_win;\n\nvoid main() {\n\n\t//==========\n\t// scale\n\t//==========\n\tfloat _scaleX = scaleX - 1.0;\n\tfloat _scaleY = scaleY - 1.0;\n\tvec2 uv_scale = vec2(\n\t\tvUv.x - (vUv.x * _scaleX)*0.5 + _scaleX * 0.25 + offsetX,\n\t\tvUv.y - (vUv.y * _scaleY)*0.5 + _scaleY * 0.25 + offsetY\n\t);\n\n\tif( is_fullscreen == 1.0 ){\n\t\tvec2 ratio = vec2(\n\t\t\tmin(( resolution.x / resolution.y ) / ( rect.x / rect.y ), 1.0),\n\t\t\tmin(( resolution.y / resolution.x ) / ( rect.y / rect.x ), 1.0)\n\t\t);\n\t\tuv_scale.x = vUv.x * ratio.x + (1.0 - ratio.x) * 0.5 + offsetX;\n\t\tuv_scale.y = vUv.y * ratio.y + (1.0 - ratio.y) * 0.5 + offsetY;\n\t}\n\n\t//==========\n\tvec2 aspect = vec2(\n\t\tgl_FragCoord.x/resolution.x,\n\t\tgl_FragCoord.y/resolution.y\n\t);\n\tfloat power = sin( aspect.x - 0.5 ) * pow( 1.0 - aspect.y, 10.0 ) * 0.75 * abs( wheel_power ) * 3.0;\n\tif( is_win == 1.0 ){\n\t\tpower = 0.0;\n\t}\n\t// float power = sin( aspect.x - 0.5 ) * ( pow( 1.0 - aspect.y, 20.0 ) * 0.75 );\n\n\t//==========\n\tvec2 uv_disp = vec2(\n\t\tuv_scale.x - power,\n\t\tuv_scale.y\n\t);\n\n\tif( uv_disp.x > 1.0 ) {\n\t\tuv_disp.x = 2.0 - uv_disp.x;\n\t}\n\tif( uv_disp.x < 0.0 ) {\n\t\tuv_disp.x = -1.0 * uv_disp.x;\n\t}\n\tif( uv_disp.y > 1.0 ) {\n\t\tuv_disp.y = 2.0 - uv_disp.y;\n\t}\n\tif( uv_disp.y < 0.0 ) {\n\t\tuv_disp.y = -1.0 * uv_disp.y;\n\t}\n\n\t//==========\n\tvec2  r_displaced  = vec2( uv_disp.x, uv_disp.y - rgb_shift *       (1.0-vUv.y) );\n\tvec2  g_displaced  = vec2( uv_disp.x, uv_disp.y - rgb_shift * 2.0 * (1.0-vUv.y) );\n\tvec2  b_displaced  = vec2( uv_disp.x, uv_disp.y - rgb_shift * 3.0 * (1.0-vUv.y) );\n\tfloat mix_r = texture2D( tDiffuse, r_displaced ).r;\n\tfloat mix_g = texture2D( tDiffuse, g_displaced ).g;\n\tfloat mix_b = texture2D( tDiffuse, b_displaced ).b;\n\tfloat r = mix_r * alpha * opacity + rgb;\n\tfloat g = mix_g * alpha * opacity + rgb;\n\tfloat b = mix_b * alpha * opacity + rgb;\n\n\t//==========\n\tfloat a = pow( ( vUv.y + gradient ) , 2.0 );\n\tvec4 texel = vec4( r, g, b, a );\n\tgl_FragColor  = texel * alpha * opacity + rgb;\n\n\t// gl_FragColor = texture2D( tDiffuse, vUv );\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D fillText;\nuniform vec2 offset;\n\n// uniform sampler2D strokeText;\n// uniform vec2 pivot;\n// uniform float radius;\n\nvoid main() {\n\n\tfloat dx = vUv.x - offset.x;\n\tfloat dy = vUv.y - offset.y;\n\tvec2 uv_displaced = vec2( dx, dy );\n\tvec4 fill   = texture2D( fillText, uv_displaced );\n\n\t// vec4 stroke = texture2D( strokeText, uv_displaced );\n\t// float distance = length( gl_FragCoord.xy - pivot );\n\t// if( distance < radius ){\n\t// \tgl_FragColor = ( ( fill * pow( distance/radius , 20.0 ) ) + stroke );\n\t// } else {\n\t// \tgl_FragColor = fill;\n\t// }\n\n\tgl_FragColor = fill;\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float rgb;\nuniform float a;\nvoid main() {\n\tgl_FragColor.r = rgb;\n\tgl_FragColor.g = rgb;\n\tgl_FragColor.b = rgb;\n\tgl_FragColor.a = a;\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform float twistTime;\nuniform float twistHeight;\nuniform float twistAngleDegMax;\n\nvec4 twist( vec4 pos, float t ){\n\tfloat st = sin(t);\n\tfloat ct = cos(t);\n\tvec4 new_pos;\n\tnew_pos.x = pos.x * ct - pos.z * st;\n\tnew_pos.z = pos.x * st + pos.z * ct;\n\tnew_pos.y = pos.y;\n\tnew_pos.w = pos.w;\n\treturn( new_pos );\n}\n\nvoid main(){\n\n\tfloat angleDeg  = twistAngleDegMax * sin(twistTime);\n\tfloat angleRad  = angleDeg * 3.14159 / 180.0;\n\tfloat angle     = (twistHeight * 0.5 + position.y) / twistHeight * angleRad;\n\tvec4 twistedPosition = twist(vec4( position, 1.0 ), angle);\n\tvec4 mvPosition = modelViewMatrix * twistedPosition;\n\n\t// vec4 twistedNormal = twist(vec4(c, 0.0), angle);\n\t// objectNormal = twistedNormal.xyz;\n\t// transformedNormal = normalMatrix * objectNormal;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t// gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform float power;\nuniform float x;\nuniform float y;\nuniform float dir;\nuniform float type;\nuniform float rgb;\nuniform float radius;\nuniform float hole;\nuniform vec2  mouse;\nuniform vec2  resolution;\nvoid main() {\n\n\t//\n\tfloat _a   = 0.0;\n\tfloat _pow = 1.0;\n\tfloat _aspect   = resolution.x / resolution.y;\n\n\tif( type == 0.0 ){\n\n\t\t_a = power * pow( ( 1.0 -  vUv.y + y ) , _pow );\n\t\tif( dir == 1.0 ){\n\t\t\t_a = power * pow( ( vUv.y + y ) , _pow );\n\t\t}\n\n\t} else if( type == 1.0 ){\n\n\t\t_a = power * pow( ( 1.0 -  vUv.x + x ) , _pow );\n\t\tif( dir == 1.0 ){\n\t\t\t_a = power * pow( ( vUv.x + x ) , _pow );\n\t\t}\n\n\t} else if( type == 2.0 ){\n\n\t\tvec2  _vec      = ( vUv - mouse ) * vec2( max(1.0,_aspect), max(1.0,1.0/_aspect) );\n\t\tfloat _distance = length( _vec );\n\t\tfloat _base = max( 1.0 - pow( _distance / radius , _pow ) , 0.0 ) + power;\n\t\tfloat _hole = max( 1.0 - pow( _distance / hole , _pow*2.0 ) , 0.0 );\n\t\t_a = _base - _hole;\n\n\t}\n\n\tgl_FragColor.r = rgb;\n\tgl_FragColor.g = rgb;\n\tgl_FragColor.b = rgb;\n\tgl_FragColor.a = _a;\n\n\t// gl_FragColor.r = 1.0;\n\t// gl_FragColor.g = 0.0;\n\t// gl_FragColor.b = 0.0;\n\t// gl_FragColor.a = 1.0;\n\n}\n\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}"},,function(e,t,n){e.exports=n(178)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(7),r=(n(35),n(101),n(31),n(36),n(29),n(71),n(84),n(9),n(5),n(21),n(4),n(105),n(186),n(191),n(192),n(2)),o=n(158),l=n(74),c=n(3),h=n(52),d=n(94);r.a.component(d.a.name,d.a),r.a.component("NLink",d.a),e.fetch||(e.fetch=o.a);var f,m,_=[],v=window.__NUXT__||{};Object.assign(r.a.config,{silent:!0,performance:!1});var y=r.a.config.errorHandler||console.error;function x(e,t,n){var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e};return e.map((function(e){var t=Object.assign({},r(e));if(n&&n.matched.length&&n.matched[0].components.default){var o=r(n.matched[0].components.default);Object.keys(o).filter((function(e){return o[e]&&e.toLowerCase().includes("leave")})).forEach((function(e){t[e]=o[e]}))}return t}))}function w(e,t,n){this._pathChanged=Boolean(f.nuxt.err)||t.path!==e.path,this._queryChanged=JSON.stringify(e.query)!==JSON.stringify(t.query),this._diffQuery=this._queryChanged?Object(c.g)(e.query,t.query):[];try{n()}catch(c){var r=c||{},o=r.statusCode||r.status||r.response&&r.response.status||500,l=r.message||"";if(/^Loading( CSS)? chunk (\d)+ failed\./.test(l))return void window.location.reload(!0);this.error({statusCode:o,message:l}),this.$nuxt.$emit("routeChanged",e,t,r),n()}}function T(e,t){return v.serverRendered&&t&&Object(c.a)(e,t),e._Ctor=e,e}function S(e){var path=Object(c.d)(e.options.base,e.options.mode);return Object(c.c)(e.match(path),(function(e,t,n,r,o){var l;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e||e.options){t.next=4;break}return t.next=3,regeneratorRuntime.awrap(e());case 3:e=t.sent;case 4:return l=T(Object(c.n)(e),v.data?v.data[o]:null),n.components[r]=l,t.abrupt("return",l);case 7:case"end":return t.stop()}}))}))}function M(e,t,n){var r=this,o=["pages","i18n"],h=!1;if(void 0!==n&&(o=[],(n=Object(c.n)(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(h=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!h)return Object(c.k)(o,t)}function E(e,t,n){var r,o,l,d,m,v,y,w,T,S,E,L,k,A,P,O,C,R=this;return regeneratorRuntime.async((function(I){for(;;)switch(I.prev=I.next){case 0:if(!1!==this._pathChanged||!1!==this._queryChanged){I.next=2;break}return I.abrupt("return",n());case 2:return e===t?_=[]:(r=[],_=Object(c.e)(t,r).map((function(e,i){return Object(c.b)(t.matched[r[i]].path)(t.params)}))),o=!1,l=function(path){o||(o=!0,n(path))},I.next=7,regeneratorRuntime.awrap(Object(c.o)(f,{route:e,from:t,next:l.bind(this)}));case 7:if(this._dateLastError=f.nuxt.dateErr,this._hadError=Boolean(f.nuxt.err),d=[],(m=Object(c.e)(e,d)).length){I.next=25;break}return I.next=14,regeneratorRuntime.awrap(M.call(this,m,f.context));case 14:if(!o){I.next=16;break}return I.abrupt("return");case 16:return I.next=18,regeneratorRuntime.awrap(this.loadLayout("function"==typeof h.a.layout?h.a.layout(f.context):h.a.layout));case 18:return v=I.sent,I.next=21,regeneratorRuntime.awrap(M.call(this,m,f.context,v));case 21:if(!o){I.next=23;break}return I.abrupt("return");case 23:return f.context.error({statusCode:404,message:"This page could not be found"}),I.abrupt("return",n());case 25:return m.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(x(m,e,t)),I.prev=27,I.next=30,regeneratorRuntime.awrap(M.call(this,m,f.context));case 30:if(!o){I.next=32;break}return I.abrupt("return");case 32:if(!f.context._errored){I.next=34;break}return I.abrupt("return",n());case 34:return"function"==typeof(y=m[0].options.layout)&&(y=y(f.context)),I.next=38,regeneratorRuntime.awrap(this.loadLayout(y));case 38:return y=I.sent,I.next=41,regeneratorRuntime.awrap(M.call(this,m,f.context,y));case 41:if(!o){I.next=43;break}return I.abrupt("return");case 43:if(!f.context._errored){I.next=45;break}return I.abrupt("return",n());case 45:w=!0,I.prev=46,T=!0,S=!1,E=void 0,I.prev=50,L=m[Symbol.iterator]();case 52:if(T=(k=L.next()).done){I.next=64;break}if("function"==typeof(A=k.value).options.validate){I.next=56;break}return I.abrupt("continue",61);case 56:return I.next=58,regeneratorRuntime.awrap(A.options.validate(f.context));case 58:if(w=I.sent){I.next=61;break}return I.abrupt("break",64);case 61:T=!0,I.next=52;break;case 64:I.next=70;break;case 66:I.prev=66,I.t0=I.catch(50),S=!0,E=I.t0;case 70:I.prev=70,I.prev=71,T||null==L.return||L.return();case 73:if(I.prev=73,!S){I.next=76;break}throw E;case 76:return I.finish(73);case 77:return I.finish(70);case 78:I.next=84;break;case 80:return I.prev=80,I.t1=I.catch(46),this.error({statusCode:I.t1.statusCode||"500",message:I.t1.message}),I.abrupt("return",n());case 84:if(w){I.next=87;break}return this.error({statusCode:404,message:"This page could not be found"}),I.abrupt("return",n());case 87:return I.next=89,regeneratorRuntime.awrap(Promise.all(m.map((function(n,i){if(n._path=Object(c.b)(e.matched[d[i]].path)(e.params),n._dataRefresh=!1,R._pathChanged&&R._queryChanged||n._path!==_[i])n._dataRefresh=!0;else if(!R._pathChanged&&R._queryChanged){var r=n.options.watchQuery;!0===r?n._dataRefresh=!0:Array.isArray(r)?n._dataRefresh=r.some((function(e){return R._diffQuery[e]})):"function"==typeof r&&(P||(P=Object(c.f)(e)),n._dataRefresh=r.apply(P[i],[e.query,t.query]))}if(R._hadError||!R._isMounted||n._dataRefresh){var o=[],l=n.options.asyncData&&"function"==typeof n.options.asyncData,h=Boolean(n.options.fetch);if(l){var m=Object(c.m)(n.options.asyncData,f.context).then((function(e){Object(c.a)(n,e)}));o.push(m)}if(R.$loading.manual=!1===n.options.loading,h){var p=n.options.fetch(f.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){})),o.push(p)}return Promise.all(o)}}))));case 89:o||n(),I.next=106;break;case 92:if(I.prev=92,I.t2=I.catch(27),"ERR_REDIRECT"!==(O=I.t2||{}).message){I.next=97;break}return I.abrupt("return",this.$nuxt.$emit("routeChanged",e,t,O));case 97:return _=[],Object(c.i)(O),"function"==typeof(C=h.a.layout)&&(C=C(f.context)),I.next=103,regeneratorRuntime.awrap(this.loadLayout(C));case 103:this.error(O),this.$nuxt.$emit("routeChanged",e,t,O),n();case 106:case"end":return I.stop()}}),null,this,[[27,92],[46,80],[50,66,70,78],[71,,73,77]])}function L(e,n){Object(c.c)(e,(function(e,n,o,l){return"object"!==Object(t.a)(e)||e.options||((e=r.a.extend(e))._Ctor=e,o.components[l]=e),e}))}function k(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?h.a.layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(f.context)),this.setLayout(t)}function A(e,t){var n=this;if(!1!==this._pathChanged||!1!==this._queryChanged){var o=Object(c.f)(e),l=Object(c.e)(e);r.a.nextTick((function(){o.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&l[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)r.a.set(e.$data,n,t[n]);window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}})),k.call(n,e)}))}}function P(e){window.onNuxtReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(e),m.afterEach((function(t,n){r.a.nextTick((function(){return e.$nuxt.$emit("routeChanged",t,n)}))}))}Object(h.b)().then((function(e){var t,n,o,l,h;return regeneratorRuntime.async((function(d){for(;;)switch(d.prev=d.next){case 0:return f=e.app,m=e.router,e.store,t=new r.a(f),n=v.layout||"default",d.next=7,regeneratorRuntime.awrap(t.loadLayout(n));case 7:return t.setLayout(n),o=function(){t.$mount("#__nuxt"),m.afterEach(L),m.afterEach(A.bind(t)),r.a.nextTick((function(){P(t)}))},d.next=11,regeneratorRuntime.awrap(Promise.all(S(m)));case 11:if(l=d.sent,t.setTransitions=t.$options.nuxt.setTransitions.bind(t),l.length&&(t.setTransitions(x(l,m.currentRoute)),_=m.currentRoute.matched.map((function(e){return Object(c.b)(e.path)(m.currentRoute.params)}))),t.$loading={},v.error&&t.error(v.error),m.beforeEach(w.bind(t)),m.beforeEach(E.bind(t)),!v.serverRendered){d.next=21;break}return o(),d.abrupt("return");case 21:h=function(){L(m.currentRoute,m.currentRoute),k.call(t,m.currentRoute),o()},E.call(t,m.currentRoute,m.currentRoute,(function(path){if(path){var e=m.afterEach((function(t,n){e(),h()}));m.push(path,void 0,(function(e){e&&y(e)}))}else h()}));case 23:case"end":return d.stop()}}))})).catch(y)}.call(this,n(43))},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(4);t.default=function(e){e.store.commit("updatePage",{path:e.route.path,name:e.route.name,slug:e.route.params.slug})}},,,,,,,,,function(e,t,n){"use strict";var r=n(93);n.n(r).a},function(e,t,n){(e.exports=n(141)(!1)).push([e.i,".__nuxt-error-page{padding:1rem;background:#f7f8fb;color:#47494e;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:sans-serif;font-weight:100!important;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;position:absolute;top:0;left:0;right:0;bottom:0}.__nuxt-error-page .error{max-width:450px}.__nuxt-error-page .title{font-size:1.5rem;margin-top:15px;color:#47494e;margin-bottom:8px}.__nuxt-error-page .description{color:#7f828b;line-height:21px;margin-bottom:10px}.__nuxt-error-page a{color:#7f828b!important;text-decoration:none}.__nuxt-error-page .logo{position:fixed;left:12px;bottom:12px}",""])},function(e,t,n){var content=n(205);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(157).default)("d5573df6",content,!0,{sourceMap:!1})},function(e,t,n){(e.exports=n(141)(!1)).push([e.i,'html{-webkit-taphighlight-color:hsla(0,0%,100%,0);-webkit-text-size-adjust:100%;font-size:62.5%}blockquote,body,button,code,dd,div,dl,dt,fieldset,figcaption,figure,form,h1,h2,h3,h4,h5,h6,input,legend,li,ol,p,pre,select,td,textarea,th,ul{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}address,button,caption,cite,code,dfn,em,input,optgroup,option,select,strong,textarea,th,var{font:inherit}del,ins{text-decoration:none}li{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}q:after,q:before{content:""}abbr,acronym{border:0;-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant:normal}sub,sup{vertical-align:baseline}legend{color:#000}.cf:after,.cf:before{content:"";display:table}.cf:after{clear:both}.cf{zoom:1}body,html{width:100%;height:100%;font-family:Now,Hiragino Kaku Gothic ProN,ヒラギノ角ゴ ProN W3,Meiryo,メイリオ,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overscroll-behavior-y:none}*{outline:none;-webkit-box-sizing:border-box;box-sizing:border-box}img,svg{vertical-align:bottom}a{text-decoration:none}a,body{color:#fafafa;-webkit-tap-highlight-color:rgba(0,0,0,0)}.js-dragging *{user-select:none!important;-moz-user-select:none!important;-webkit-user-select:none!important;-ms-user-select:none!important}body{background:#030303;letter-spacing:-.02em}.page-title *,body{-ms-user-select:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-drag:none;-khtml-user-drag:none}.page-header .section-information *{pointer-events:auto}.page-body *,.section-information *{-ms-user-select:text;user-select:text;-webkit-user-select:text;-moz-user-select:text;-khtml-user-select:text}::selection{background:#777;color:#fff}::-moz-selection{background:#777;color:#fff}::-webkit-scrollbar{width:0}::-webkit-scrollbar-track{position:fixed}::-webkit-scrollbar-thumb{position:fixed;background:transparent}.page-title-in .title .o{display:inline-block;min-width:.35em}.page-title-in,.site-nav-a{font-weight:700;font-family:Neue,sans-serif}.page-title-in .title{font-weight:700;line-height:.9;letter-spacing:0}.site-copy,body{font-size:.825vw}.ja{font-size:1.0725vw}.ja2{font-size:.86625vw}.logo-a .ja{font-size:.858vw}.page-content{font-size:.86625vw}.editor h2,.section-text .h1{font-size:2.35628vw}.caption h2,.caption h3,.caption h4,.editor h3,.flip-btn,.section-text .h2{font-size:1.81252vw}.flip-btn .ja{font-size:1.45002vw}.editor h4,.section-text .h3{font-size:1.39425vw}.support{font-size:.86625vw}.logo-h1,.site-nav-sns ul,.works-header .h2{font-size:1.0725vw}.page-title-in,.section-title{font-size:6.2vw}.page-title-in .ja{font-size:5.27vw}.page-title-l{font-size:6.85vw}.page-title-l .ja{font-size:6.165vw}.site-nav-a{font-size:6.85vw}.page-header{opacity:0;pointer-events:none}.caption h2,.caption h3,.caption h4,.editor h2,.editor h3,.editor h4,.flex-li .h3,.flex-li .h4,.section-text .h1,.section-text .h2,.section-text .h3,.section-text .h4,.section-title{font-weight:400;line-height:1.3}.side{position:fixed}.site-background{z-index:0}#js--gl-back,#js--video{z-index:1}.site-body{z-index:3}#js--gl-front{z-index:4}.control-to,.side{z-index:5}.is-page-in-works #js--gl-front,.site-mask{z-index:6}.site-nav{z-index:7}.site-header .side{z-index:10}.is-page-tr-start .site-content>.side{z-index:3}.ui-toggle{right:0;top:0}.a-blank{bottom:0;left:calc(8.5vh - 10px)}.a-reel{bottom:0;left:10vh}.a-all,.a-scroll,.address{bottom:0}.a-all,.a-scroll,.address,.ui-select{-webkit-transform:translate(-50%);transform:translate(-50%);left:50%}.ui-select{bottom:calc(8.5vh - 10px)}.ui-category{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ui-ar,.ui-category{right:calc(8.5vh - 10px)}.ui-ar{bottom:20vh}.a-more{bottom:15vh;right:calc(15vw - 8.5vh)}.a-pagging,.ui-audio{bottom:0;right:0}.ui-fullscreen{bottom:0;right:17vh}.ui-scroll,.ui-video-progress{bottom:0;left:0}.ui-num{bottom:0;right:calc(8.5vh - 10px)}.logo-wrap{top:0;left:calc(8.5vh - 10px)}.site-nav-sns{left:calc(8.5vh - 10px)}.site-copy,.site-nav-sns{bottom:calc(8.5vh - 10px)}.site-copy{right:calc(8.5vh - 10px)}.page-inner{min-height:100%}.site-background{width:100%;height:100%;position:fixed;background:red;top:0;left:0}.page-content{height:100%}#js--video{left:0;bottom:0;position:fixed}#js--video video{display:none;width:10px;height:5px}.ja{font-weight:700}.site-body{overflow:hidden;width:100vw;height:100vh;position:fixed;top:0;left:0}.in{position:relative;width:100%;height:100%}.gs1{-webkit-text-stroke-color:hsla(0,0%,100%,.15)}.gs1,.gs2{-webkit-text-stroke-width:1px;color:transparent}.gs2{-webkit-text-stroke-color:hsla(0,0%,100%,.3)}.gl{position:fixed;width:100%!important;height:100%!important;top:0;left:0}.wh{height:100vh}.spr{clear:both}.spr-none{height:0}.spr-0{min-height:320px;height:40vh}.spr-1{min-height:280px;height:35vh}.spr-2{min-height:200px;height:25vh}.spr-3{min-height:160px;height:20vh}.spr-4{min-height:80px;height:10vh}.spr-5{min-height:40px;height:5vh}.logo-wrap{-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:17vh}.logo-body,.logo-wrap{display:-webkit-box;display:-ms-flexbox;display:flex}.logo-body{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.body{width:70vw;margin:0 auto}.body.thin{width:60vw;margin:0 auto}#js--resource{position:fixed;top:0;left:-9999px}.ui-audio,.ui-fullscreen,.ui-toggle,.ui-toggle-in{width:17vh;height:17vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ui-audio-body,.ui-toggle-body{width:20px}.ui-toggle{width:22vh;padding-left:5vh}.bg-img{width:100%;height:100%;opacity:0;background-size:cover;-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04);background-position:50%;background-repeat:no-repeat}.iframe-fullscreen-body .img-loaded .bg-img{opacity:.5}.img-loaded .bg-img{opacity:1}.link-body,.site-copy,.ui-category-ul a,.ui-lang a,.ui-num .in{font-weight:300;color:#8c8c8c}.ui-category-ul a.nuxt-link-exact-active{color:#fafafa}.logo-h1{font-weight:700}.logo-a{position:relative;line-height:1.35;letter-spacing:-.04em;font-weight:500;width:10vw;padding:1em 0}.logo-a,.logo-a .t{display:block}.ui-lang,.ui-lang .flip-a{display:block;vertical-align:bottom}.ui-lang-a{padding:2em;display:block;margin:0 0 0 -2em;cursor:pointer}.ui-lang-a *{pointer-events:none}.ui-toggle{cursor:pointer}.ui-toggle .t{width:100%;height:2px;position:absolute;top:50%;margin-top:-1px;overflow:hidden}.ui-toggle .t1{-webkit-transform:translateY(-3px);transform:translateY(-3px)}.ui-toggle .t2{-webkit-transform:translateY(3px);transform:translateY(3px)}.ui-toggle .t div{background:#fafafa;height:100%;width:100%}.site-header a{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.ui-toggle .t div{-webkit-transition:background .5s cubic-bezier(.4,.22,.21,1.04);transition:background .5s cubic-bezier(.4,.22,.21,1.04)}.logo-svg{width:127px;height:127px;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) scale(1.4);transform:translate(-50%,-50%) scale(1.4);position:absolute;margin-top:-1px}.logo-svg-wrap path,.logo-svg path{fill:#fafafa}.logo-img{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.logo-img img{width:91px;height:91px}.logo-icon{width:17vh;height:17vh;top:0;left:50%;margin-left:-8.5vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:1;-webkit-transform:translateY(41.5vh);transform:translateY(41.5vh)}.logo-icon *{pointer-events:none}.logo-icon .t{text-indent:-9999px}.site-nav{position:fixed;width:100%;height:100%;top:0;left:0}.site-nav-body{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-nav-ul{width:100%}.site-nav-li{margin-bottom:-.25em;margin-right:-.55em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;position:relative;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.site-nav-li .clip-t{padding:0 .05em}.site-nav-a{padding:0;position:relative;overflow:hidden;cursor:pointer}.site-nav-a,.site-nav-a .t{display:block}.site-nav-a *{pointer-events:none}.site-nav-li .n{padding-top:.8em}.site-nav .flex-li{padding:0}.site-nav-ul span{display:block}.site-nav .section-information{width:20%}.site-nav-in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.site-copy,.site-nav-sns{z-index:2;position:absolute}.site-copy,.site-nav-sns,.site-nav-sns ul{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-nav-sns ul{margin:0 -.75em}.site-nav-sns a{padding:0 .75em;display:block}.address{height:17vh;position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-nav-address p{display:inline}.section .flex-li.site-nav-address .h3{font-weight:500}.flip-btn-wrap .clip-w{display:inline-block}.flip-a,.section .flip-a{text-decoration:none}.flip-a{overflow:hidden;display:inline-block;vertical-align:top}.flip-a,.flip-a .i{line-height:1.3;height:1.3em}.site-nav-li .site-nav-a,.title .flip-a{line-height:.9;height:.9em}.title .flip-a{padding:0 .1em}.flip-a span{display:block}.flip-a .b span,.flip-a .f span{display:inline-block;vertical-align:top}.flip-a .t,.site-nav-a .t{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.flip-btn-wrap{margin-top:2.35628vw}.flip-btn{font-weight:500}.flip-btn.ja{font-weight:700}.site-nav .nuxt-link-exact-active{pointer-events:none;cursor:default!important}.no-events *{pointer-events:none}.link-body{padding:1em;display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 -1em;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.a-all,.a-scroll{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.a-all,.a-blank,.a-scroll{font-weight:400;width:17vh;height:17vh}.a-all,.a-blank,.a-scroll,.link .txt,.parts .txt{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.link .txt,.parts .txt{height:100%;width:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.link .bd,.parts .bd{position:absolute;display:block;width:2px;height:30px;background:#fafafa;bottom:0;left:50%;margin-left:-1px}.a-more{-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;display:block;padding:0;line-height:1;cursor:pointer}.a-more .txt{display:block;padding:.8em 0}.a-more .bd{position:absolute;left:0;bottom:0;display:block;height:2px;width:100%}.a-more{height:17vh;width:17vh}.a-more .in{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:auto}.a-more .in,.flip-vr .flex{display:-webkit-box;display:-ms-flexbox;display:flex}.flip-vr .flex{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);-webkit-transform:translate(50%);transform:translate(50%)}.flip-vr-body{overflow:hidden}.flip-vr .flex .b,.flip-vr .flex .f{display:block}.flip-vr .ja{padding-top:.2em;letter-spacing:.2em}.flip-vr .en{padding-top:0;text-align:center;font-weight:500}.a-pivot,.a-wrap{height:17vh}.a-pivot{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:17vh}.a-txt{padding:1em}.ui-ar{cursor:pointer;margin-bottom:-.4em}.i-ar-d,.i-ar-l,.i-ar-r,.i-ar-u{-webkit-transform:scale(1.25);transform:scale(1.25);display:block}.ui-ar .i{width:100%;height:1.2em;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ui-scroll{height:17vh;padding:0 8.5vh}.ui-scroll .in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ui-select-wrap{background:#fafafa;width:100%;height:8.5vh;width:21.25vh;border-radius:8.5vh}.ui-select-body,.ui-select select{width:100%;height:100%}.ui-select select{padding:0 2.83333vh;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;outline:none;background:transparent;color:#030303}.ui-select .ui-select-arrow{color:#030303;position:absolute;right:0;top:0;width:8.5vh;height:8.5vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none}.btn{cursor:pointer}.btn a,.section .btn a{text-decoration:none}.btn-mailto a{pointer-events:none}.btn-circle{cursor:pointer;width:8.5vh;height:8.5vh;color:#030303;font-weight:400}.btn-circle,.btn-circle-body{overflow:hidden;border-radius:100%}.btn-circle-body{background-color:#fafafa;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transform:scale(0);transform:scale(0)}._fliped .btn-circle-body{-webkit-transform:scale(1);transform:scale(1);-webkit-transition:all .6s cubic-bezier(.4,.22,.21,1.04)!important;transition:all .6s cubic-bezier(.4,.22,.21,1.04)!important}.btn-circle *{pointer-events:none}.btn-wrap .t{font-weight:400}.section-cult .btn-wrap{right:calc(8.5vh - 10px);bottom:calc(8.5vh - 10px);position:absolute;z-index:2}.btn{width:21.25vh;height:8.5vh;border-radius:8.5vh;display:block;position:relative;border:1px solid hsla(0,0%,100%,.1);-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.btn,.btn *,.section .btn{text-decoration:none}.btn *{pointer-events:none}.btn-body{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 2.83333vh}.btn-body span{display:block}.btn .flip-a{line-height:1.2;height:1.2em}.js--state-mouse-pause .is-page-in-reel .site-header,.js--state-mouse-pause .is-page-in-reel .ui-fade-out,.js--state-mouse-pause .is-page-in-reel .ui-splash-in,.js--state-mouse-pause .is-page-in-reel .ui-toggle .t{opacity:0!important;-webkit-transition:opacity .8s cubic-bezier(.4,.22,.21,1.04)!important;transition:opacity .8s cubic-bezier(.4,.22,.21,1.04)!important}.ui-num{font-weight:400;height:17vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ui-num .mid{padding:0 .15em}.ui-num .bd{text-indent:-9999px;width:20px;height:2px;margin:-1px 1em 0;background:hsla(0,0%,100%,.1)}.ui-num .min{display:-webkit-box;display:-ms-flexbox;display:flex}.ui-num .max{height:1em}.ui-num .max,.ui-num .min{line-height:1}.d-move div,.ui-num .d{height:15px;width:.6em}.ui-num .d{overflow:hidden}.ui-num .in{height:auto}.ui-num-body{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-control,.site-control *{pointer-events:none}.site-control{pointer-events:all}.js--anchor-scroll{cursor:pointer;pointer-events:all}.site-control{position:fixed;width:8.5vh;height:8.5vh}.is-page-in-404 .site-control,.is-page-in-reel .site-control{display:none}.site-control-in{position:absolute;top:-1.0625vh;left:-1.0625vh;width:10.625vh;height:10.625vh}.site-control-body[data-type=progress]{top:50%;margin-top:-5.3125vh}.site-control-body{position:absolute;height:100%;width:100%}.path{fill:none;stroke:#fafafa;stroke-width:2;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:10}.path.progress-f{stroke-width:5}.site-control-body[data-type=text].flip-vr{-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl}.site-control-body[data-type=text].flip-vr .flip-vr-body{width:auto;padding-right:.15em}.site-control-body[data-type=text].flip-vr .flex{-webkit-transform:translate(0);transform:translate(0);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-control-body[data-type=text].flip-vr .flex .b,.site-control-body[data-type=text].flip-vr .flex .f{width:1.2em;padding:0;line-height:1.2}.site-control-body[data-type=logo]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.site-control-body[data-type=logo] .logo-svg-wrap{width:70%;height:70%;position:relative;overflow:hidden}.site-control-body[data-type=logo] .logo-svg{top:auto;left:auto;position:relative;width:100%;height:100%;-webkit-transform:none;transform:none}.site-control-body[data-type=progress],.site-control-body[data-type=text]{-webkit-transform:scale(1);transform:scale(1)}.site-control-body[data-type=counter]{-webkit-transform:scale(0);transform:scale(0);-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.site-control-counter-move span{display:block;text-align:center}.site-control-counter-ol{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);line-height:1.5;height:1.5em;overflow:hidden;position:relative;width:100%}.site-control-counter-move{-webkit-transform:translate(0);transform:translate(0)}.cursor-pivot{position:absolute;top:50%;left:50%;height:1px;width:1px;display:block}.js--control-type-counter .site-control-body[data-type=counter]{-webkit-transform:scale(1);transform:scale(1)}.js--control-type-counter .site-control-body[data-type=progress]{-webkit-transform:scale(1)!important;transform:scale(1)!important}.site-control{left:calc(8.5vh - 10px);bottom:calc(8.5vh - 10px)}.site-control-arrow{position:absolute;right:calc(8.5vh - 10px);bottom:calc(8.5vh - 10px);left:auto;opacity:.15}.single-body .site-control-arrow{bottom:0}.site-control-arrow .path{stroke-width:2}.site-control-arrow .site-control-in{overflow:hidden}.page-about .page-body{margin-top:-15vh}.page-contact .flex-body.f-3 .flex-li{margin-top:0}.site-control-body[data-type=text]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.js--slide-down{display:block}.page-title-wrap{width:100%;height:100%;position:relative}.page-title-in .title-wrap{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap;position:absolute;top:0;left:0;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-transform:uppercase}.page-title-in .page-title-ja{height:1em;line-height:1;text-indent:.1em;margin-top:.1em;letter-spacing:-.1em}.page-title-in .page-title-ja,.page-title-in .title .ja{-webkit-transform:translateY(-.05em) scale(1.05,.95);transform:translateY(-.05em) scale(1.05,.95)}.page-title-in .title .ja{line-height:1;font-weight:700}.page-title-in .title-wrap .title{width:100%}.page-title-in .title a{display:inline-block;text-decoration:none}.page-title-in .title a *{pointer-events:none}.page-title-in .title .l{display:block;width:100%}.is-page-in-works .page-title-in .title,.page-title-in .title .l{line-height:1.3;margin:-.3em 0 0}.page-title-in .title-wrap .support{font-family:Now,sans-serif;line-height:1;font-weight:400;margin:0 0 1.5em;height:1em;width:100%;display:none;text-decoration:none}.page-title-in .title-wrap a.support{font-weight:500;display:block}.page-title-in .title-wrap{-webkit-transform-origin:-40vw 50%;transform-origin:-40vw 50%}.page-title-in{padding-right:10vw;height:23.56vw;display:-webkit-box;display:-ms-flexbox;display:flex}.is-page-in-home .title-wrap[data-visible="0"],.is-page-in-home .title-wrap[data-visible="0"] *{visibility:hidden;pointer-events:none}.page-title-center .page-title-in{padding-right:0}.page-title-center .page-title-in .title-wrap .title{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.page-title-center .title-a-wrap{text-align:center}.title-a-wrap{display:inline-block;vertical-align:top}.page-title-wrap{height:23.56vw;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.section-title-wrap .page-title-in{height:auto}.section-title-wrap .page-title-wrap{top:auto;height:auto;position:relative;-webkit-transform:translate(0);transform:translate(0)}.section-title-wrap .page-title-in .title-wrap{position:relative}.section-title-wrap .page-title-in .title{padding:0}.page-title-front{overflow:hidden;-webkit-clip-path:polygon(0 19%,100% 0,100% 100%,0 81%);clip-path:polygon(0 19%,100% 0,100% 100%,0 81%)}.page-title-back{overflow:visible}.page-title-back .title-a{-webkit-text-stroke-width:1px;-webkit-text-stroke-color:hsla(0,0%,100%,.15);color:transparent}.page-title-in .title-wrap .title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.page-header .page-title-in .title .ja,.page-title-front .page-title-in .title .ja{-webkit-text-stroke-width:1px;-webkit-text-stroke-color:#fff;color:transparent}.a-pagging-body{padding:0 calc(8.5vh - 10px);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.a{cursor:pointer}.a *,.is-page-tr-start .a{pointer-events:none}.a-to-next{display:block}.page-header .js--click{width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;pointer-events:all}[data-type=pages] .section-page-lead{z-index:2}.page-header .page-title-wrap{height:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.page-header .page-title-in{height:auto;padding-right:15vw;padding-left:15vw}.page-header .page-title-in .title-wrap{position:relative}.page-title-move{position:relative;width:100%;height:100%}.page-title-move .page-title{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}.page-title-move .page-title._active{z-index:2}.page-title-move-wrap-ghost,.page-title-move-wrap-ghost *{pointer-events:none!important}.page-content p{line-height:1.6}.section .p a{color:#fafafa;text-decoration:underline}.section .flex-li .h3,.section .flex-li .h4{margin-bottom:.2em}.section{font-weight:300}.section-information.section .p a,.section .p{color:#8c8c8c}.section-information.section .p a[target=_blank]{color:#fafafa}.section .flex-li .h3,.section .flex-li .h4{font-weight:400}.page-footer,.page-footer-body,.page-header,.page-header-body,.section{position:relative;width:100%}.page-header-body{height:100vh}.thin .page-header-body{height:85vh}.page-header-bg{height:80vh}.section{padding-top:1px;margin-top:-1px}.section a{text-decoration:underline}.section:first-child{padding-top:0;margin-top:0}.section-bg-none{background:transparent}.section-bg-black2,.section-bg-black2 .section-bg{background-color:#060606}.section-bg{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%}.ja-title{letter-spacing:.2em;-webkit-writing-mode:vertical-rl;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;line-height:1;max-height:8em}.flex-layout{display:-webkit-box;display:-ms-flexbox;display:flex}.f-1{width:22.5%}.f-2{width:50%}.f-3,.f-4{width:77.5%}.flex-li{padding-right:2em}.flex-body.f-2,.flex-body.f-3,.flex-body.f-4{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:-2em;width:77.5%}.section-layout[data-layout=credit],.section-layout[data-layout=outline]{padding:5vh 0}.section-layout[data-layout=outline] .flex-header.f-1{margin-top:0;width:50%}.section-layout[data-layout=outline] .flex-body.f-2{margin-top:-.5em;width:50%;padding-left:2.5vw}.flex-body.f-2 .flex-li{width:50%;margin-top:2em}.flex-body.f-3 .flex-li{width:33.333%;margin-top:2em}.flex-body.f-4 .flex-li{width:25%;margin-top:2em}.section-client .flex-body.f-2 .flex-li,.section-client .flex-body.f-3 .flex-li,.section-client .flex-body.f-4 .flex-li{width:50%}.flex-ul.f-3 .flex-li,.flex-ul.f-4 .flex-li{margin-bottom:.5em;margin-top:0}.flex-body.award-ul.f-3 .flex-li,.flex-body.award-ul.f-4 .flex-li{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.flex-body.award-ul.f-3 .flex-li .h4,.flex-body.award-ul.f-4 .flex-li .h4{padding-right:1em}.flex-li .h3,.flex-li .h4{font-weight:500}.img-1col-li{padding:7.5vh 0}.img-1col-li:first-child{padding-top:20vh}.img-1col-li:last-child{padding-bottom:20vh}.caption.right{width:50%;margin:0 0 0 auto;padding-left:2.5vw}.caption.left{width:50%;padding-right:2.5vw}.img-2col-li .caption.left,.plane{width:100%}.plane{height:100px;position:relative}.plane[data-layout=cols],.plane[data-layout=fullscreen],.plane[data-layout=normal],.plane[data-layout=slide]{background:hsla(0,0%,100%,.02)}.plane .source{width:100px;display:none;pointer-events:none}.img-2col-ul{display:-webkit-box;display:-ms-flexbox;display:flex}.img-2col-li{width:50%}.iframe-fullscreen-body,.img-fullscreen-body{width:100%;height:100%}.iframe-fullscreen-body .bg-frame{width:100%;height:100%;position:absolute;z-index:2;opacity:0;-webkit-transition:all 2s cubic-bezier(.4,.22,.21,1.04);transition:all 2s cubic-bezier(.4,.22,.21,1.04)}.iframe-fullscreen-body iframe{width:100%;height:100%}.iframe-fullscreen-body.iframe-loaded .bg-frame{opacity:1;z-index:4}.iframe-fullscreen-body .btn-circle{position:absolute;top:50%;left:50%;z-index:3;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.award-year{width:5em;padding-right:1em}.award-body{width:calc(100% - 5em);display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.img-stack-body{width:100%}.img-stack-ul{position:relative;width:100%}.img-stack-li{width:25%;position:absolute;left:50%;bottom:0;-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:translate(-50%);transform:translate(-50%)}.img-stack-li:first-child{position:relative}.dot-control{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.dot-control,.dot-control .dot-body{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.dot-control .dot-body{margin:0 -5px}.dot-control .dot-wrap{padding:5px;cursor:pointer}.dot-control .dot{pointer-events:none;opacity:.15;border-radius:100%;width:8px;height:8px;border:1px solid #fafafa;background:transparent;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.dot-control .active .dot{opacity:1;background:#fafafa}.dot-control-wrap{height:15vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.img-slide-wrap .body{width:100%}.img-slide-body{height:60vh;cursor:-webkit-grab;cursor:grab}.img-slide-ul{width:9999px;position:relative}.img-slide-wrap{padding:20vh;padding:10vw 15vw}.img-slide-li{float:left;padding-right:5vw}.js-dragging body *{cursor:-webkit-grabbing;cursor:grabbing}.img-mobile-ul{margin:-2.5vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.img-mobile-li{padding:0 2.5vw;width:33.3333%}.body.thin .img-mobile-ul{margin:-2.5vw}.img-mobile-ul .img-stack-body{padding-bottom:15%;-webkit-box-sizing:content-box;box-sizing:content-box}.img-tablet-body{width:80%;margin:0 auto}.body.thin .img-tablet-body{width:100%}.section-layout[data-layout=cols][data-prev=slide] .spr-before,.section-layout[data-layout=credit]>.spr,.section-layout[data-layout=mobile][data-next=mobile] .spr-after,.section-layout[data-layout=mobile][data-next=outline] .spr-after,.section-layout[data-layout=mobile][data-prev=tablet] .spr-before,.section-layout[data-layout=outline].is-not-next-fullscreen .spr-after,.section-layout[data-layout=outline][data-prev=card] .spr-before,.section-layout[data-layout=outline][data-prev=normal] .spr-before,.section-layout[data-layout=outline][data-prev=slide] .spr-before{display:none}.section-layout[data-layout=credit][data-prev=fullscreen]>.spr-before,.section-layout[data-layout=outline][data-next=card] .spr-after,.section-layout[data-layout=outline][data-next=credit] .spr-after{display:block}.section-layout[data-layout=mobile][data-next=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-before,.section-layout[data-layout=mobile][data-prev=fullscreen] .spr-before{height:30vh}.section-title{font-weight:500;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.page-header .section-information,.section-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.page-header .section-information{bottom:0;position:absolute;height:20vh}.section-text .flex-body.f-3,.section-text .flex-body.f-4{margin:0}.js--flip .flip-o{display:inline-block;overflow:hidden}.js--flip .flip-c{display:inline-block;opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}._fliped.js--flip .flip-c,._fliped .js--flip .flip-c{opacity:1;-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04);-webkit-transform:translate(0);transform:translate(0)}.section-page-lead{opacity:0}.post-li,.post-ul{width:100%}.post-li{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:2em}.post-li:last-child{margin-bottom:0}.post-li-header{width:10%}.post-li-body{width:90%}.post-li-body .h3{margin-bottom:.5em}.table-tr{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.table-tr .th{width:33%}.table-tr .td{width:66%}.table-tr .td br{display:none}.logo-large-wrap{width:100%;height:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex}.logo-large{height:55vh;width:55vh;border-radius:100%;overflow:hidden;background-color:#fafafa}.logo-large path{fill:#fafafa}.post-li-flex{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.post-li-flex-head{padding-right:2em}.post-ul-wrap{width:100%}.apply-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.js--goto-next-page-timer{cursor:pointer}.js--goto-next-page-timer a{pointer-events:none}.page-header .subpage-title-wrap{display:none}.section.works-wrap{width:66vw;margin:calc(-30vh + 1vw) auto 0}.grid{grid-auto-flow:dense;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;grid-gap:1vw;display:grid;grid-auto-rows:3.4375vw;grid-template-columns:repeat(auto-fit,15.75vw)}.works-empty{grid-column:span 2;grid-row:span 2}.works-li[data-size=l]{grid-column:span 3;grid-row:span 6}.works-li[data-size=m]{grid-column:span 2;grid-row:span 4}.works-li[data-size=s]{grid-column:span 1;grid-row:span 2}.grid-pos-left .works-a{margin:0 0 0 auto}.grid-pivot{width:100%;height:100%}.works-a,.works-a a{width:100%;height:100%;display:block}.works-a a{z-index:2;top:0;left:0;position:absolute}.work-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1;padding:0 2em;text-align:center;font-weight:600}.ui-category{line-height:1}.ui-category .in{display:block}.ui-category-li{text-align:right}.ui-category-li .cursor-pivot{left:-5px;top:0}.ui-category .n{border-radius:.5em;border:1px solid hsla(0,0%,100%,.1)}.ui-category .flip-a{display:block;line-height:1.4;height:1.4em}.ui-category .nuxt-link-exact-active{-webkit-transform:translate(-.5em);transform:translate(-.5em)}.img-cult-ul{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:270vw}.img-cult-li{-webkit-box-sizing:content-box;box-sizing:content-box;margin-right:5vw;width:40vw}.img-cult-wrap{display:-webkit-box;display:-ms-flexbox;display:flex;width:540vw;-webkit-animation:loop 120s linear infinite forwards;animation:loop 120s linear infinite forwards}.img-cult-li:first-child{margin-top:0}.img-cult-li:nth-child(2){margin-top:20vw}.img-cult-li:nth-child(3){margin-top:10vw}.img-cult-li:nth-child(4){margin-top:0}.img-cult-li:nth-child(5){margin-top:10vw}.img-cult-li:nth-child(6){margin-top:20vw}.page-title-wrap{z-index:2}@-webkit-keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}@keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}.section .cult-link-wrap{display:block;position:absolute;top:50%;left:15vw;z-index:3}.section .cult-link{display:block;text-decoration:none;font-weight:500;-webkit-transform:translateY(-12.4vw);transform:translateY(-12.4vw)}.plane[data-type=video] .bg-img{position:absolute;top:0;left:0}.plane[data-type=video] video{z-index:3;position:relative}.reel-body .plane{width:100%;height:100%;margin:0 auto;cursor:pointer;overflow:hidden}.reel-inner{position:relative}.ui-audio-status{opacity:0;-webkit-transform:scale(.9);transform:scale(.9);top:50%;left:50%;position:fixed;pointer-events:none;-webkit-transition:all .4s cubic-bezier(.4,.22,.21,1.04);transition:all .4s cubic-bezier(.4,.22,.21,1.04);margin:-4.25vh 0 0 -4.25vh}.js--ratio-by-full{max-height:100%;max-width:100%}.reel-inner{-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;height:100vh;padding:0}.reel-inner,.ui-audio-in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.ui-audio-in{cursor:pointer;position:relative;height:14px}.ui-audio-in .b-ol{height:100%;width:2px;overflow:hidden;position:relative;margin-right:2px}.ui-audio-in .b-ol:last-child{margin-right:0}.js--audio-play{cursor:pointer}.ui-audio-in .b-ol .b{height:100%;width:100%;background-color:#fafafa;-webkit-transform:translateY(100%);transform:translateY(100%);opacity:1;-webkit-transition:opacity .6s cubic-bezier(.4,.22,.21,1.04);transition:opacity .6s cubic-bezier(.4,.22,.21,1.04)}.js--state-sound-on .ui-audio-body .b-ol .b{opacity:1}.js--state-reel-paused .ui-audio-status{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.ui-video-progress{width:100%;cursor:pointer;height:4.25vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;cursor:-webkit-grab;cursor:grab}.js--state-reel-seeking .ui-video-progress{cursor:-webkit-grabbing;cursor:grabbing}.ui-video-progress *{pointer-events:none}.ui-video-progress-body{height:2px;width:100%;position:relative}.ui-video-progress .bar{-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transform-origin:center left;transform-origin:center left}.ui-video-progress .bar,.ui-video-progress .bg{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#fafafa}.ui-video-progress .bg{opacity:.1}.section-reel{height:100%}.is-loading-complete .is-page-in-reel .logo-wrap,.is-loading-complete .is-page-in-reel .ui-fade-out,.is-loading-complete .is-page-in-reel .ui-splash-in,.is-loading-complete .is-page-in-reel .ui-toggle-in{-webkit-transition:all 1.2s!important;transition:all 1.2s!important}.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-header .logo-wrap,.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-header .ui-toggle-in{-webkit-transform:translateY(-20px)!important;transform:translateY(-20px)!important;opacity:0!important}.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-content .ui-fade-out,.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel .site-content .ui-splash-in{-webkit-transform:translateY(20px)!important;transform:translateY(20px)!important;opacity:0!important}.is-loading-complete.js--state-reel-playing.js--state-mouse-paused .is-page-in-reel *{cursor:none!important}.ui-fullscreen{cursor:pointer}.ui-fullscreen-body{height:14px}.ui-fullscreen-body .b{width:50%;height:50%;position:absolute}.ui-fullscreen-body .lt,.ui-fullscreen-body .lt .in div{left:0;top:0}.ui-fullscreen-body .rt,.ui-fullscreen-body .rt .in div{right:0;top:0}.ui-fullscreen-body .lb,.ui-fullscreen-body .lb .in div{left:0;bottom:0}.ui-fullscreen-body .rb,.ui-fullscreen-body .rb .in div{right:0;bottom:0}.ui-fullscreen-body .b .in div{background:#fafafa}.ui-fullscreen-body .b-v{position:absolute;height:4px;width:2px}.ui-fullscreen-body .b-h{position:absolute;height:2px;width:6px}.section-title-404{position:absolute;top:50%;left:50%;font-weight:700;font-family:Neue,sans-serif;font-size:8.905vw;line-height:1;text-align:center;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-transform:uppercase}.editor h2,.editor h3,.editor h4{color:#fafafa;line-height:1.25;margin:1em 0}.editor h2,.editor h3,.editor h4,.editor strong{font-weight:500}.editor h2,.editor h3,.editor h4{margin-top:2em}.editor p{color:#8c8c8c;margin-bottom:1em}.editor a{color:#fafafa}.editor :first-child{margin-top:0}.editor :last-child{margin-bottom:0}.editor ol,.editor ul{margin-bottom:1em;padding-left:1.25em}.editor ul li{list-style:disc}.editor ol li{list-style:decimal}.editor blockquote{position:relative;padding:0;margin:2em 0}.editor blockquote *{display:inline}.editor blockquote:before{content:"\\201C"}.editor blockquote:after{content:"\\201D"}.caption b,.editor b{font-weight:400}.caption{width:100%}.caption h2,.caption h3,.caption h4{margin:3em 0 1em}[data-layout=card] .caption h2,[data-layout=card] .caption h3,[data-layout=card] .caption h4{margin:0 0 1em}.caption p{margin:1em 0 0;color:#8c8c8c}.caption p:first-child{margin-top:3em}.js--slide-up-wrap{overflow:hidden}.is-page-in-reel #js--gl-back,.is-page-in-works #js--gl-back,.is-tr-type-menu .page-content,.is-tr-type-menu .site-body{opacity:0!important}.page-title-in .title,.site-nav-li{text-transform:uppercase}.page-title-in .title{padding:.3em 0 0}.flip-a-wrap .b .s,.flip-a-wrap .f .s,.flip-a .b .s,.flip-a .f .s,.site-nav-a .b .s,.site-nav-a .f .s{display:block;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04)}.flip-vr-body{width:1.7em}.site-control .flip-vr-body .f{line-height:1.2}.flip-vr .flex .b,.flip-vr .flex .f{line-height:1;width:1.7em;padding:.35em}.flip-vr-body .t{line-height:1;-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);display:block}.flip-vr-body .f .t{-webkit-transform-origin:top right;transform-origin:top right;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.flip-vr-body .b .t{-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(-16deg) translate(0);transform:rotate(-16deg) translate(0)}.flip-a-wrap .f .s,.flip-a .f .s{-webkit-transform-origin:center left;transform-origin:center left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.flip-a-wrap .b .s,.flip-a .b .s{-webkit-transform-origin:center right;transform-origin:center right;-webkit-transform:rotate(8deg) translateY(50%);transform:rotate(8deg) translateY(50%)}.title-a.flip-a .f .s{-webkit-transform-origin:center left;transform-origin:center left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.title-a.flip-a .b .s{-webkit-transform-origin:center right;transform-origin:center right;-webkit-transform:rotate(2.5deg) translateY(50%);transform:rotate(2.5deg) translateY(50%)}.site-nav-a .f .s{-webkit-transform-origin:center left;transform-origin:center left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.site-nav-a .b .s{-webkit-transform-origin:center right;transform-origin:center right;-webkit-transform:rotate(3deg) translateY(50%);transform:rotate(3deg) translateY(50%)}.is-not-touch .flip-a-wrap:hover .t,.is-not-touch .flip-a:hover .t{-webkit-transform:translateY(-50%);transform:translateY(-50%)}.is-not-touch .flip-a-wrap:hover .f .s,.is-not-touch .flip-a:hover .f .s{-webkit-transform:rotate(-8deg) translate(0);transform:rotate(-8deg) translate(0)}.is-not-touch .flip-a-wrap:hover .b .s,.is-not-touch .flip-a:hover .b .s{-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.is-not-touch .title-a.flip-a:hover .f .s{-webkit-transform:rotate(-2.5deg) translate(0);transform:rotate(-2.5deg) translate(0)}.is-not-touch .title-a.flip-a:hover .b .s{-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.is-not-touch .btn:hover{border:1px solid #fafafa}.is-not-touch .flip-vr:hover .flex{-webkit-transform:translate(0);transform:translate(0)}.is-not-touch .flip-vr:hover .flip-vr-body .f .t{-webkit-transform-origin:top right;transform-origin:top right;-webkit-transform:rotate(16deg) translate(0);transform:rotate(16deg) translate(0)}.is-not-touch .flip-vr:hover .flip-vr-body .b .t{-webkit-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.is-not-touch .site-nav-a._hover .f .s{-webkit-transform:rotate(-3deg) translate(0);transform:rotate(-3deg) translate(0)}.is-not-touch .site-nav-a._hover .b .s{-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}.nuxt-link-exact-active.site-nav-a .b .s,.nuxt-link-exact-active.site-nav-a .f .s{-webkit-transition:none!important;transition:none!important;-webkit-transform:rotate(0deg) translate(0)!important;transform:rotate(0deg) translate(0)!important}.is-not-touch.is-page-tr-start .a-all .flip-a-wrap .t,.is-not-touch.is-page-tr-start .a-all .flip-a .t{-webkit-transition:none;transition:none;-webkit-transform:translate(0);transform:translate(0)}.is-not-touch.is-page-tr-start .a-all .flip-a-wrap .b .s,.is-not-touch.is-page-tr-start .a-all .flip-a-wrap .f .s,.is-not-touch.is-page-tr-start .a-all .flip-a .b .s,.is-not-touch.is-page-tr-start .a-all .flip-a .f .s,.is-not-touch.is-page-tr-start .a-all .title-a.flip-a .b .s,.is-not-touch.is-page-tr-start .a-all .title-a.flip-a .f .s,.is-not-touch.is-page-tr-start .site-nav-a .b .s,.is-not-touch.is-page-tr-start .site-nav-a .f .s{-webkit-transition:none;transition:none;-webkit-transform:rotate(0deg) translate(0);transform:rotate(0deg) translate(0)}html[lang=ja] .section-text .h1,html[lang=ja] .section-text .h2,html[lang=ja] .section-text .h3,html[lang=ja] .section-text .h4,html[lang=ja] .section-title{line-height:1.5}html[lang=ja] .editor *{line-height:1.8}html[lang=ja] .editor h2,html[lang=ja] .editor h2 *,html[lang=ja] .editor h3,html[lang=ja] .editor h3 *,html[lang=ja] .editor h4,html[lang=ja] .editor h4 *{line-height:1.4}html[lang=ja] .caption *{line-height:1.8}html[lang=ja] .caption h2,html[lang=ja] .caption h2 *,html[lang=ja] .caption h3,html[lang=ja] .caption h3 *,html[lang=ja] .caption h4,html[lang=ja] .caption h4 *{line-height:1.4}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:1.88503vw;line-height:1.6;font-weight:500}.site-mask{pointer-events:none;width:200%;height:100%;position:fixed;top:0;left:-50%;z-index:1;opacity:0;-webkit-transition:opacity .8s cubic-bezier(.44,.15,.2,1);transition:opacity .8s cubic-bezier(.44,.15,.2,1)}.is-page-in-home .site-mask,.site-mask{-webkit-box-shadow:inset 0 0 12.5vh 12.5vh #060606;box-shadow:inset 0 0 12.5vh 12.5vh #060606}.is-loading-complete .site-mask{opacity:.85}.clip-t{-webkit-transform:translateX(120%);transform:translateX(120%)}.gl,.site-body{-webkit-transform:translate(0);transform:translate(0)}.clip-w{overflow:hidden;position:relative}.site-nav{-webkit-transition:z-index 0s .8s;transition:z-index 0s .8s;z-index:-999}.ui-toggle-a{height:1em;position:absolute;line-height:1;left:0;top:50%;overflow:hidden;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ui-toggle-a .b{display:block;-webkit-transform:translate(100%);transform:translate(100%)}.js--menu-open-enter{overflow:hidden!important}.js--menu-open-enter .site-nav{-webkit-transition:z-index 0s;transition:z-index 0s;z-index:9}.js--menu-open-enter .clip-t,.js--menu-open-enter .gl,.js--menu-open-enter .page-content,.js--menu-open-enter .page-header,.js--menu-open-enter .site-body,.js--menu-open-enter .ui-fade-out,.js--menu-open-enter .ui-splash-in,.js--menu-open-enter .ui-toggle .t{-webkit-transition:all .82s cubic-bezier(.44,.15,.2,1)!important;transition:all .82s cubic-bezier(.44,.15,.2,1)!important}.js--menu-open-enter .page-content,.js--menu-open-enter .site-body,.js--menu-open-enter .ui-fade-out{opacity:0!important}.js--menu-open-enter .clip-t{-webkit-transform:translateX(0);transform:translateX(0)}.js--menu-open-enter .page-header{opacity:0!important}.js--menu-open-enter .ui-toggle .t1{-webkit-transform:translate(0) rotate(-45deg);transform:translate(0) rotate(-45deg)}.js--menu-open-enter .ui-toggle .t2{-webkit-transform:translate(0) rotate(45deg);transform:translate(0) rotate(45deg)}.js--menu-open-enter .ui-toggle-a .b{-webkit-transition:all .82s cubic-bezier(.44,.15,.2,1);transition:all .82s cubic-bezier(.44,.15,.2,1);-webkit-transform:translate(0);transform:translate(0)}.js--menu-open-enter.js--state-bg-white .site-header a{color:#fafafa}.js--menu-open-enter.js--state-bg-white .ui-toggle .t div{background:#fafafa}.js--menu-open-leave{overflow:hidden!important}.js--menu-open-leave .clip-t,.js--menu-open-leave .page-content,.js--menu-open-leave .page-header,.js--menu-open-leave .ui-fade-out,.js--menu-open-leave .ui-toggle .t{-webkit-transition:all .72s cubic-bezier(.55,.23,.18,1.01);transition:all .72s cubic-bezier(.55,.23,.18,1.01)}.js--menu-open-leave .gl,.js--menu-open-leave .site-body{-webkit-transition:all .82s cubic-bezier(.55,.23,.18,1.01);transition:all .82s cubic-bezier(.55,.23,.18,1.01)}.js--menu-open-leave .clip-t,.js--menu-open-leave .ui-toggle-a .b{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.js--menu-open-leave .ui-toggle-a .b{-webkit-transition:all .82s cubic-bezier(.55,.23,.18,1.01);transition:all .82s cubic-bezier(.55,.23,.18,1.01)}.progress-f{stroke-dashoffset:503.725px;stroke-dasharray:503.725px,513.725px}.gl{pointer-events:none}html{overflow:hidden;background:#030303}body{background:transparent}.progress-b{opacity:.15}.page-body,.ui-splash-in{opacity:0}#js--gl-back{z-index:2}#js--gl-front{z-index:3}.is-loading-before .logo-icon{cursor:default;pointer-events:none}.is-loading-after,.is-loading-after *,.is-loading-before,.is-loading-before *,.is-page-in-404 .logo-icon,.is-page-in-about .logo-icon,.is-page-in-contact .logo-icon{cursor:progress!important}.is-loading-after .gl{pointer-events:auto}.is-loading-after .logo-icon{cursor:pointer;pointer-events:all;-webkit-transform:translate(0);transform:translate(0);opacity:0;-webkit-transition:none;transition:none}.page-title-wrap{opacity:0}.is-loading-complete{cursor:auto;overflow:visible;background:#060606}.is-loading-complete .logo-icon{cursor:pointer;pointer-events:all;-webkit-transform:translate(0);transform:translate(0);opacity:0}.is-loading-complete .gl{pointer-events:none}.is-loading-complete .page-body,.is-loading-complete .progress-f,.is-loading-complete .ui-splash-in{-webkit-transition:opacity .82s cubic-bezier(.4,.22,.21,1.04);transition:opacity .82s cubic-bezier(.4,.22,.21,1.04);opacity:1}.is-loading-complete .progress-b{opacity:.15}.is-loading-complete .page-title-wrap{opacity:1}.is-loading-complete #js--gl-back{z-index:1}.is-loading-complete #js--gl-front{z-index:4}.is-loading-complete body{background:transparent}.is-loading-complete .is-page-in-single #js--gl-front{z-index:2}.is-mobile.is-loading-complete #js--gl-front,.is-page-tr-start.is-loading-complete .is-page-in-single #js--gl-front,.is-tablet.is-loading-complete #js--gl-front{z-index:4}.is-page-tr-start .ui-category,.is-page-tr-start .ui-num{opacity:0}.is-page-tr-start .is-page-in-single #js--gl-front{z-index:4}.is-loading-complete.js--menu-open-enter .logo-icon{pointer-events:none}.is-desktop.is-loading-complete .page-header .page-title-wrap{opacity:0}.is-legacy .site-control-body[data-type=text].flip-vr{display:none!important}.is-legacy .page-header{opacity:1}.is-legacy .page-header .page-title-in,.is-legacy .page-title-move .page-title-in{line-height:1;padding-left:15vw;padding-right:15vw;text-align:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-transform:uppercase}.is-legacy .works-header .page-title-in{text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.is-legacy .page-title-move .page-title{opacity:0}.is-legacy .page-title-move .page-title._active{opacity:1;-webkit-transition:opacity .6s cubic-bezier(.4,.22,.21,1.04);transition:opacity .6s cubic-bezier(.4,.22,.21,1.04)}.is-legacy .page-title-move .page-title-in .title-wrap{text-align:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.is-legacy .page-title-in .title-wrap{word-break:keep-all}.is-legacy .plane[data-layout=cols],.is-legacy .plane[data-layout=fullscreen],.is-legacy .plane[data-layout=normal],.is-legacy .plane[data-layout=slide]{background:hsla(0,0%,100%,0)}.is-legacy.is-desktop.is-loading-complete .page-header .page-title-wrap,.is-low.is-desktop.is-loading-complete .page-header .page-title-wrap{opacity:1}.is-low.is-mobile .single-header .page-title-in,.is-low.is-tablet .single-header .page-title-in{text-align:center}.is-low .a-more{display:none!important}.is-low .page-header .subpage-title-wrap{opacity:0!important}.is-low .logo-svg{width:120px;height:120px}.is-low .page-title-in{position:relative;z-index:2}.is-low .page-title-bg{opacity:.5;width:100%;height:100%;position:absolute;top:0;left:0}.is-low .site-control{display:none!important}.is-low .page-header .subpage-title-wrap{display:-webkit-box;display:-ms-flexbox;display:flex}.is-low .page-header .subpage-title-wrap,.is-low .page-header .subpage-title-wrap .page-title-in{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.is-low .page-header .subpage-title-wrap .page-title-in{height:auto;text-align:center}.is-low .page-title-move .page-title-in .title-wrap{text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.is-low .page-title-move-wrap{height:100vh!important;overflow:auto!important;overflow-x:hidden!important;position:relative;top:auto;-webkit-transform:translateY(0);transform:translateY(0)}.is-low .page-title-move{height:auto;padding:20vh 0}.is-low .page-title-move .page-title{height:auto}@media screen and (max-width:1500px){body{font-size:1.3rem}.ja{font-size:1.56rem}.ja2,.page-content{font-size:1.365rem}.editor h2,.section-text .h1{font-size:3.71293rem}.caption h2,.caption h3,.caption h4,.editor h3,.flip-btn,.section-text .h2{font-size:2.8561rem}.flip-btn .ja{font-size:2.28488rem}.editor h4,.section-text .h3{font-size:2.197rem}.support{font-size:1.365rem}.logo-a,.logo-h1,.site-nav-sns ul,.works-header .h2{font-size:1.69rem}.logo-a .ja{font-size:1.352rem}.page-title-in,.section-title{font-size:6vw}.page-title-in .ja{font-size:5.1vw}.page-title-l{font-size:6.8vw}.page-title-l .ja{font-size:6.12vw}.site-nav-a{font-size:6.8vw}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:2.97034rem}}.site-body .js--scroll-height{display:none}.is-page-tr-start.is-mobile .site-content>.side.ui-select,.is-page-tr-start.is-tablet .site-content>.side.ui-select{z-index:5;opacity:0!important}.is-mobile,.is-tablet{overflow:hidden}.is-mobile .ui-select-label,.is-tablet .ui-select-label{position:absolute;left:-9999px}.is-mobile *,.is-tablet *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.is-mobile .logo-a .ja,.is-tablet .logo-a .ja{display:none}.is-mobile .is-page-in-home .site-body,.is-tablet .is-page-in-home .site-body{width:110%}.is-mobile .plane[data-layout=cols],.is-mobile .plane[data-layout=fullscreen],.is-mobile .plane[data-layout=looper],.is-mobile .plane[data-layout=normal],.is-mobile .plane[data-layout=slide],.is-tablet .plane[data-layout=cols],.is-tablet .plane[data-layout=fullscreen],.is-tablet .plane[data-layout=looper],.is-tablet .plane[data-layout=normal],.is-tablet .plane[data-layout=slide]{background-color:hsla(0,0%,100%,.05)}.is-mobile #js--gl-back,.is-mobile .site-body,.is-tablet #js--gl-back,.is-tablet .site-body{opacity:0}.is-mobile .site-content,.is-tablet .site-content{height:100%;width:100%;display:block}.is-mobile body,.is-tablet body{overflow:hidden}.is-mobile .site-body,.is-tablet .site-body{overflow:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;-ms-scroll-chaining:none;overscroll-behavior:none}.is-mobile .no-touch,.is-mobile .no-touch *,.is-tablet .no-touch,.is-tablet .no-touch *{pointer-events:none}.is-mobile .page-scroll,.is-tablet .page-scroll{position:absolute;width:100%;height:100%}.is-mobile .page-title-move .page-title,.is-tablet .page-title-move .page-title{opacity:1;position:relative}.is-mobile .page-header .page-title-in,.is-mobile .page-title-in,.is-tablet .page-header .page-title-in,.is-tablet .page-title-in{padding:0 1em}.is-mobile .page-title-move-wrap,.is-tablet .page-title-move-wrap{overflow:hidden}.is-mobile .page-title-move-wrap.page-title-move-wrap-ghost,.is-tablet .page-title-move-wrap.page-title-move-wrap-ghost{overflow:visible!important;-webkit-text-stroke-width:.5px;-webkit-text-stroke-color:hsla(0,0%,100%,.3);color:transparent}.is-mobile .page-title-move-wrap,.is-mobile .page-title-move-wrap *,.is-tablet .page-title-move-wrap,.is-tablet .page-title-move-wrap *{pointer-events:none!important}.is-mobile .is-page-in-home .site-body .js--scroll-height,.is-tablet .is-page-in-home .site-body .js--scroll-height{z-index:3}.is-mobile .page-title-in .title-wrap,.is-tablet .page-title-in .title-wrap{position:relative}.is-mobile .js--words .w,.is-tablet .js--words .w{padding:0 .125em;display:inline-block}.is-mobile .js--words .w.ja,.is-tablet .js--words .w.ja{-webkit-transform:translateY(-4%) scaleY(.9);transform:translateY(-4%) scaleY(.9)}.is-mobile .page-title-in,.is-tablet .page-title-in{display:block;text-align:center;word-break:keep-all;line-height:1}.is-mobile .page-title-in,.is-mobile .page-title-move-wrap,.is-mobile .page-title-wrap,.is-tablet .page-title-in,.is-tablet .page-title-move-wrap,.is-tablet .page-title-wrap{height:22.94vw}.is-mobile .is-page-in-home .site-footer .js--scroll-height,.is-tablet .is-page-in-home .site-footer .js--scroll-height{display:none!important}.is-mobile .is-page-in-home .site-body .js--scroll-height,.is-tablet .is-page-in-home .site-body .js--scroll-height{display:block}.is-mobile .is-page-in-home .site-footer .js--scroll-height,.is-tablet .is-page-in-home .site-footer .js--scroll-height{display:none}.is-mobile .is-page-in-home .page-title-front,.is-tablet .is-page-in-home .page-title-front{-webkit-clip-path:none;clip-path:none}.is-mobile .is-page-in-home .page-title-mobile,.is-tablet .is-page-in-home .page-title-mobile{z-index:4}.is-mobile .is-page-in-home .page-content,.is-tablet .is-page-in-home .page-content{height:100%;width:100%;position:fixed;top:0;left:0}.is-mobile .plane video.source,.is-tablet .plane video.source{display:block;width:100%;height:auto;opacity:0;-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04)}.is-mobile .video-played.plane video.source,.is-tablet .video-played.plane video.source{opacity:1}.is-mobile .reel-body .plane video.source,.is-tablet .reel-body .plane video.source{opacity:1!important}.is-mobile .page-body .section-bg-video.wh,.is-tablet .page-body .section-bg-video.wh{height:auto!important;overflow:hidden}.is-mobile .single-header .page-title-in,.is-tablet .single-header .page-title-in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.is-mobile .page-header,.is-tablet .page-header{opacity:1}.is-mobile .img-stack-ul,.is-tablet .img-stack-ul{-webkit-perspective:100vh;perspective:100vh;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.is-mobile .img-stack-li,.is-tablet .img-stack-li{opacity:0;-webkit-transition:all .6s cubic-bezier(.4,.22,.21,1.04);transition:all .6s cubic-bezier(.4,.22,.21,1.04)}.is-mobile .img-stack-li.active,.is-tablet .img-stack-li.active{opacity:1}.is-mobile .caption.left,.is-mobile .caption.right,.is-tablet .caption.left,.is-tablet .caption.right{width:100%;padding:0}.is-mobile .logo-sub.logo-svg,.is-tablet .logo-sub.logo-svg{width:80vw;height:80vw;max-height:50vh;-webkit-transform:translate(-50%,-60%) scale(1.4);transform:translate(-50%,-60%) scale(1.4)}.is-mobile .img-mobile-li .plane[data-type=video],.is-tablet .img-mobile-li .plane[data-type=video]{height:auto!important}.is-mobile .img-mobile-ul .img-stack-body,.is-tablet .img-mobile-ul .img-stack-body{position:relative}.is-mobile .img-mobile-li .r,.is-tablet .img-mobile-li .r{position:absolute;z-index:4;width:20px;height:20px}.is-mobile .img-mobile-li .r path,.is-tablet .img-mobile-li .r path{fill:#060606}.is-mobile .img-mobile-li .r2,.is-tablet .img-mobile-li .r2{right:0;top:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.is-mobile .img-mobile-li .r3,.is-tablet .img-mobile-li .r3{left:0;bottom:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.is-mobile .img-mobile-li .r4,.is-tablet .img-mobile-li .r4{right:0;bottom:0;-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.is-mobile .is-page-in-404 .section-fullscreen,.is-tablet .is-page-in-404 .section-fullscreen{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.is-mobile .works-a .img,.is-tablet .works-a .img{text-indent:-9999px}.is-mobile .flip-vr .flex .b,.is-mobile .flip-vr .flex .f,.is-tablet .flip-vr .flex .b,.is-tablet .flip-vr .flex .f{line-height:1;width:1em;padding:0}.is-mobile .img-slide-body,.is-mobile .img-slide-ul,.is-mobile .section-layout[data-layout=slide],.is-tablet .img-slide-body,.is-tablet .img-slide-ul,.is-tablet .section-layout[data-layout=slide]{height:60vh}.is-mobile .section-layout[data-layout=slide],.is-tablet .section-layout[data-layout=slide]{overflow:hidden}.is-mobile .img-slide-scroll-wrap,.is-tablet .img-slide-scroll-wrap{padding:0 0 30px;overflow-x:scroll;-webkit-overflow-scrolling:touch;overflow-scrolling:touch}.is-mobile .img-slide-wrap,.is-tablet .img-slide-wrap{padding:0!important;margin:10vh 0}.is-mobile .img-slide-scroll-wrap::-webkit-scrollbar,.is-tablet .img-slide-scroll-wrap::-webkit-scrollbar{width:0}.is-mobile .img-slide-scroll-wrap::-webkit-scrollbar-track,.is-tablet .img-slide-scroll-wrap::-webkit-scrollbar-track{position:fixed}.is-mobile .img-slide-scroll-wrap::-webkit-scrollbar-thumb,.is-tablet .img-slide-scroll-wrap::-webkit-scrollbar-thumb{position:fixed;background:transparent}.is-mobile .img-slide-scroll-wrap .flex-body.f-2,.is-tablet .img-slide-scroll-wrap .flex-body.f-2{margin-top:0}.is-mobile .img-slide-ul,.is-tablet .img-slide-ul{width:auto;display:-webkit-box;display:-ms-flexbox;display:flex}.is-mobile .reel-inner,.is-tablet .reel-inner{position:relative}.is-mobile .reel-body .plane video,.is-tablet .reel-body .plane video{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.single-header .single-header-img{width:100%;height:100%;position:absolute;top:0;left:0}.single-header-img .js--inview{-webkit-transition:all 1s cubic-bezier(.4,.22,.21,1.04);transition:all 1s cubic-bezier(.4,.22,.21,1.04);opacity:0;width:100%;height:100%}.single-header-img video{position:absolute;top:50%;left:50%;height:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.is-loading-complete .single-header-img .js--inview[data-visible="1"]{opacity:.5}.mb-show,.tb-show{display:none}.logo-sub,.logo-svg-mobile{opacity:0}.is-mobile.is-loading-complete #js--gl-back,.is-mobile.is-loading-complete #js--gl-front,.is-mobile.is-loading-complete .logo-sub,.is-mobile.is-loading-complete .logo-svg-mobile,.is-mobile.is-loading-complete .page-title-move-wrap,.is-mobile.is-loading-complete .site-body,.is-tablet.is-loading-complete #js--gl-back,.is-tablet.is-loading-complete #js--gl-front,.is-tablet.is-loading-complete .logo-sub,.is-tablet.is-loading-complete .logo-svg-mobile,.is-tablet.is-loading-complete .page-title-move-wrap,.is-tablet.is-loading-complete .site-body{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);opacity:1}.is-mobile.is-loading-complete .logo-icon,.is-tablet.is-loading-complete .logo-icon{opacity:1}.is-mobile.is-loading-complete .is-page-in-about .logo-svg-mobile,.is-mobile.is-loading-complete .is-page-in-contact .logo-svg-mobile,.is-tablet.is-loading-complete .is-page-in-about .logo-svg-mobile,.is-tablet.is-loading-complete .is-page-in-contact .logo-svg-mobile{opacity:0}.is-mobile.is-page-tr-start #js--gl-back,.is-mobile.is-page-tr-start #js--gl-front,.is-mobile.is-page-tr-start .page-title-move-wrap,.is-mobile.is-page-tr-start .site-body,.is-mobile.is-tr-type-footer #js--gl-back,.is-mobile.is-tr-type-footer #js--gl-front,.is-mobile.is-tr-type-footer .page-title-move-wrap,.is-mobile.is-tr-type-footer .site-body,.is-mobile.js--menu-open-enter #js--gl-back,.is-mobile.js--menu-open-enter #js--gl-front,.is-mobile.js--menu-open-enter .page-title-move-wrap,.is-mobile.js--menu-open-enter .site-body,.is-tablet.is-page-tr-start #js--gl-back,.is-tablet.is-page-tr-start #js--gl-front,.is-tablet.is-page-tr-start .page-title-move-wrap,.is-tablet.is-page-tr-start .site-body,.is-tablet.is-tr-type-footer #js--gl-back,.is-tablet.is-tr-type-footer #js--gl-front,.is-tablet.is-tr-type-footer .page-title-move-wrap,.is-tablet.is-tr-type-footer .site-body,.is-tablet.js--menu-open-enter #js--gl-back,.is-tablet.js--menu-open-enter #js--gl-front,.is-tablet.js--menu-open-enter .page-title-move-wrap,.is-tablet.js--menu-open-enter .site-body{-webkit-transition:all .5s cubic-bezier(.4,.22,.21,1.04);transition:all .5s cubic-bezier(.4,.22,.21,1.04);opacity:0!important}.is-tr-to-subpages .logo-icon{-webkit-transition:all 0s cubic-bezier(.4,.22,.21,1.04);transition:all 0s cubic-bezier(.4,.22,.21,1.04);opacity:0!important}@media screen and (min-width:1024px){.is-tablet .single-body .section-information{padding-top:10vh}}@media screen and (max-width:1024px){.tb-hide{display:none!important}.tb-show{display:block!important}.site-control-counter-move span{font-size:1.2rem}.ja,.page-content,.site-copy,body{font-size:1.4rem}.editor h2,.section-text .h1{font-size:3.99854rem}.caption h2,.caption h3,.caption h4,.editor h3,.flip-btn,.section-text .h2{font-size:3.0758rem}.editor h4,.section-text .h3{font-size:2.366rem}.support{font-size:1.4rem}.site-nav-sns ul,.works-header .h2{font-size:1.82rem}.logo-h1{font-size:1.96rem}.page-title-in,.section-title{font-size:8vw}.page-title-in .ja{font-size:6.8vw}.page-title-l,.site-nav-a{font-size:10vw}.page-title-l .ja{font-size:8vw}.ui-toggle{right:0;top:0}.a-blank{bottom:0;left:39px}.a-reel{bottom:0;left:100px}.address,.ui-ar,.ui-category{bottom:200px;right:39px}.a-more{bottom:39px;right:39px}.ui-audio{bottom:0;right:0}.ui-scroll{bottom:50%;left:0}.ui-video-progress{left:0;bottom:0}.ui-num{bottom:0;right:39px}.logo-wrap{top:0;left:39px}.site-nav-sns{bottom:39px;left:39px}.site-copy{bottom:39px;right:39px}.site-control{left:39px;bottom:39px}.a-to-next,.ui-select{bottom:39px}.a-to-next{right:39px}.spr-0{min-height:0;height:300px}.spr-1{min-height:0;height:200px}.spr-2,.spr-3{min-height:0;height:100px}.spr-4,.spr-5{min-height:0;height:50px}.logo-wrap,.section-layout[data-layout=mobile][data-next=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-before,.section-layout[data-layout=mobile][data-prev=fullscreen] .spr-before{height:100px}.body,.body.thin{width:calc(100vw - 78px);margin:0 auto}.logo-a,.logo-icon{width:100px}.logo-icon{height:100px;margin-left:-50px}.logo-icon .logo-svg{width:100%;height:100%;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.ui-audio,.ui-toggle{width:100px;height:100px}.ui-toggle{padding-left:0}.ui-audio-body,.ui-toggle-body{width:22px}.a-all,.a-blank,.a-pivot,.a-scroll{width:100px;height:100px}.a-more{width:auto;height:auto}.a-pagging{top:100%;-webkit-transform:translateY(calc(-100% - 39px));transform:translateY(calc(-100% - 39px));position:absolute;height:3em}.a-all,.a-scroll{top:100%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%);position:absolute}.a-all span{text-transform:lowercase}.a-wrap,.ui-scroll{height:100px}.ui-scroll{padding:0 50px}.btn-circle{width:80px;height:80px}.section-cult .btn-wrap{right:39px;bottom:39px}.btn{width:200px;height:80px}.btn-body{padding:0 26.66667px}.ui-num{height:100px}.ui-num .bd{width:22px}.site-control{position:fixed;width:80px;height:80px}.site-control-back,.site-control-front{position:absolute;top:-10px;left:-10px;width:100px;height:100px}.site-control-body[data-type=progress]{margin-top:-50px}.ui-select-wrap{background:#fafafa;height:80px;width:200px;border-radius:80px}.ui-select select{padding:0 26.66667px}.ui-select .ui-select-arrow{width:80px;height:80px}.address{height:100px}.flip-btn-wrap{margin-top:50px}.page-body .flip-o{overflow:visible}.page-body .flip-c{opacity:1;-webkit-transform:translate(0);transform:translate(0)}.page-footer-body.wh{height:100vw!important}.site-nav-li{padding:.25em 0}.page-header{opacity:1}.subpage-title-wrap{height:auto}.subpage-title-wrap .page-title-in{padding:0 39px;height:auto}.page-body .wh{max-height:66.66667vw!important}.img-1col-li{padding:100px 0 0}.img-1col-li:first-child{padding-top:100px}.img-1col-li:last-child{padding-bottom:100px}.caption.right{padding-left:25px}.caption.left,.img-2col-li:nth-child(2n-1){padding-right:25px}.img-2col-li:nth-child(2n){padding-left:25px}.img-stack-li{width:50%}.img-slide-wrap{padding:0;margin:100px 0}.img-slide-li{padding-right:39px}.img-slide-li:last-child{padding-right:0}.img-mobile-ul{margin:-25px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.img-mobile-li{padding:0 25px;width:33.3333%}.a-pagging-body{padding:0}.single-body .section-information{padding-top:100px}.img-tablet-body{padding:20px;border-radius:30px;background-color:#141414;-webkit-box-shadow:0 0 0 1px #3e3e3e;box-shadow:0 0 0 1px #3e3e3e}.img-tablet-body .bg-img{border-radius:15px;overflow:hidden}.body.thin .img-mobile-ul{margin:0}.img-mobile-li{padding:0;position:relative}.img-mobile-ul .img-stack-body{padding-bottom:0}.section-layout[data-layout=mobile][data-prev=mobile] .spr-before{height:39px}.page-header .section-information{height:200px}.section-lead-text{padding-bottom:100px}.section.works-wrap{width:calc(100vw - 78px);margin:-50px auto 0}.page-header .page-title{text-transform:uppercase}.works-header{height:66.66667vw}.works-header .page-header-body{height:100%}.works-header .page-title-in{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.grid,.works-header .page-title-in{display:-webkit-box;display:-ms-flexbox;display:flex}.grid{-ms-flex-wrap:wrap;flex-wrap:wrap}.works-li{padding:0 19.5px 19.5px 0}.works-li,.works-li:nth-child(2n){width:calc((100vw - 78px)/2);height:calc((100vw - 78px)/4);margin-bottom:19.5px}.works-li:nth-child(2n){padding:0 0 19.5px 19.5px}.img-cult-ul{width:270vw}.img-cult-li{margin-right:5vw;width:40vw}.img-cult-wrap{width:540vw;-webkit-animation:loop 120s linear infinite forwards;animation:loop 120s linear infinite forwards}.img-cult-li:first-child{margin-top:0}.img-cult-li:nth-child(2){margin-top:20vw}.img-cult-li:nth-child(3){margin-top:2.5vw}.img-cult-li:nth-child(4){margin-top:12.5vw}.img-cult-li:nth-child(5){margin-top:0}.img-cult-li:nth-child(6){margin-top:20vw}@-webkit-keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}@keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-270vw);transform:translate(-270vw)}}.section .cult-link-wrap{left:100px}.section .cult-link{-webkit-transform:translateY(-16vw);transform:translateY(-16vw)}.ui-audio-status{margin:-40px 0 0 -40px}.reel-body{padding:0;height:100%}.ui-video-progress{height:40px;position:absolute}.is-page-in-404 .section-fullscreen{opacity:.5;height:100%}.is-page-in-404 .section-bg-video .img-fullscreen-body{height:100%!important}.is-page-in-404 .section-bg-video .img-fullscreen-body video{position:absolute;height:100vh!important;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:177.77778vh}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:3.19883rem}}@media (orientation:landscape) and (max-width:900px),screen and (max-width:640px){.caption p:first-child{margin-top:2em}.mb-hide{display:none!important}.mb-show{display:block!important}.site-copy{display:none}.site-control-counter-move span{font-size:1.1rem}.ja,.page-content,body{font-size:1.4rem}.section-text .h1{font-size:2.016rem}.flip-btn{font-size:1.4rem}.caption h2,.caption h3,.caption h4,.editor h2,.editor h3,.editor h4,.section-text .h2,.section-text .h3{font-size:2.016rem}.site-nav-sns ul,.support{font-size:1.4rem}.works-header .h2{font-size:1.68rem}.logo-h1{font-size:1.568rem}.page-title-in,.section-title{font-size:8.5vw}.page-title-in .ja{font-size:7.225vw}.page-title-l,.site-nav-a{font-size:9vw}.page-title-l .ja{font-size:7.2vw}.ui-toggle{right:0;top:0}.a-blank{bottom:0;left:30px}.a-reel{left:80px}.a-all,.a-reel,.a-scroll,.address{bottom:0}.ui-ar,.ui-category{bottom:160px;right:30px}.a-more{bottom:30px;right:30px}.ui-audio{bottom:0;right:0}.ui-scroll{bottom:0;left:0}.ui-num{bottom:0;right:30px}.logo-wrap{top:0;left:30px}.site-nav-sns{top:auto;bottom:0}.site-control{left:30px;bottom:30px}.ui-select{bottom:0;left:0;-webkit-transform:translate(0);transform:translate(0)}.a-to-next{right:30px;bottom:30px}.site-nav .ui-lang{bottom:0;right:0;z-index:12}.a-pagging{top:100%;-webkit-transform:translateY(calc(-100% - 30px));transform:translateY(calc(-100% - 30px));position:absolute;height:3em}.spr-0,.spr-1,.spr-2,.spr-3,.spr-4{min-height:0;height:60px}.spr-5{min-height:0;height:30px}.section-layout[data-layout=mobile][data-next=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-after,.section-layout[data-layout=mobile][data-next=fullscreen][data-prev=fullscreen] .spr-before,.section-layout[data-layout=mobile][data-prev=fullscreen] .spr-before{height:60px}.logo-wrap{height:80px}.body,.body.thin{width:calc(100vw - 60px);margin:0 auto}.logo-a{width:80px}.logo-icon{width:80px;height:80px;margin-left:-40px}.logo-icon svg{width:50px}.ui-audio,.ui-toggle{width:80px;height:80px}.ui-audio-body,.ui-toggle-body{width:20px}.a-all,.a-blank,.a-pivot,.a-scroll{width:80px;height:80px}.a-wrap,.ui-scroll{height:80px}.ui-scroll{padding:0 40px}.ui-toggle .t1{-webkit-transform:translateY(-3px);transform:translateY(-3px)}.ui-toggle .t2{-webkit-transform:translateY(3px);transform:translateY(3px)}.btn-circle{width:50px;height:50px}.btn-circle-body .txt{font-size:1.3rem;-webkit-transform:translateY(-10%);transform:translateY(-10%)}.section-cult .btn-wrap{left:30px;bottom:-30px}.btn{width:180px;height:50px}.btn-body{padding:0 16.66667px}.ui-num{height:80px}.ui-num .bd{width:20px}.site-control{width:20px;height:20px}.site-control-in{position:absolute;top:-2.4px;left:-2.4px;width:24px;height:24px}.path,.path.progress-f{stroke-width:12}.site-control-body[data-type=progress]{margin-top:-12.5px}.progress{stroke-width:14}.site-control-counter-move span{height:100%;padding-top:.2em}.ui-select{height:80px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-right:15px;width:100vw}.ui-select-wrap{margin:0 0 0 auto;background:#fafafa;height:50px;width:50%;min-width:10em;border-radius:50px}.ui-select select{padding:0 16.66667px}.ui-select .ui-select-arrow{width:50px;height:50px}.site-nav-address{display:inline-block}.site-nav-body .site-nav-left{margin-top:20px}.site-nav-in{position:static}.site-nav-footer{width:100%;position:absolute;left:0;bottom:0}.site-nav-sns{height:80px;position:relative;bottom:auto;left:30px;margin:0;width:100%}.address{height:80px}.site-nav-li .site-nav-a,.title .flip-a{line-height:.95;height:.95em}.site-nav .ui-lang{position:absolute;height:auto}.site-nav .ui-lang a{font-weight:500;width:80px;height:80px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}.site-nav-in{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.flip-btn-wrap{margin-top:40px}.site-nav .section-information{width:100%}.site-nav-li{padding:.1em 0;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}.page-title-in,.page-title-move-wrap,.page-title-wrap{height:31.45vw!important}.page-body .wh{height:66.66667vw!important}.img-1col-li{padding:60px 0 0}.img-1col-li:first-child{padding-top:60px}.img-1col-li:last-child{padding-bottom:60px}.caption.right{padding-left:20px}.caption.left,.img-2col-li:nth-child(2n-1){padding-right:20px}.img-2col-li:nth-child(2n){padding-left:20px}.img-stack-li{width:calc(100vw - 180px)}.img-slide-scroll.body{width:calc(100vw - 60px)}.img-cult-body,.img-cult-scroll-wrap,.img-cult-ul,.img-cult-wrap,.img-slide-body,.img-slide-ul,.section-layout[data-layout=slide]{height:60vw!important}.img-slide-wrap{padding:0;margin:80px 0!important}.img-slide-li{padding-right:30px}.body.thin .img-mobile-ul{margin:15px 0;display:block;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.flex-layout .flex-header,.section-layout[data-layout=outline] .flex-header.f-1{width:60px}.flex-layout .flex-body.f-2,.section-layout[data-layout=outline] .flex-body.f-2{width:calc(100% - 60px);padding-left:0}.section-layout[data-layout=credit],.section-layout[data-layout=outline]{padding:0}.page-contact .section-information .flex-body.f-3{width:100%}.flex-body.f-2 .flex-li,.flex-body.f-3 .flex-li{width:100%;margin-top:2em;padding-right:1em}.single-body .section-information{padding-top:80px}.section-information .flex-body.f-3 .flex-li,.section-information .flex-body.f-4 .flex-li{width:50%}.caption.left,.caption.right{width:100%;padding:0}.img-2col-ul{padding:15px 0;display:block}.img-2col-ul .plane-wrap{padding:0 60px}.img-2col-li:nth-child(2n),.img-2col-li:nth-child(2n-1){width:100%;padding:0}.img-2col-li:nth-child(2n-1){margin-bottom:60px}.section-bg-video .img-fullscreen-body{height:auto!important}.section-layout[data-layout=stack] .spr-before{display:none}.caption h2,.caption h3,.caption h4{margin-top:60px}.img-mobile-li{padding:0 20px;width:60%;margin:0 auto 60px}.img-mobile-li:last-child{margin-bottom:0}.img-tablet-body{padding:0;border-radius:0;background-color:#131313;-webkit-box-shadow:0 0 0 0 #131313;box-shadow:0 0 0 0 #131313}.img-tablet-body .bg-img{border-radius:0;overflow:hidden}.body.thin .img-mobile-ul{margin:0}.img-mobile-li{padding:0;position:relative}.img-mobile-li:after{display:none}.img-mobile-body .bg-img{border-radius:0;overflow:hidden;-webkit-box-shadow:0 0 0 0 #131313;box-shadow:0 0 0 0 #131313}.section-layout[data-layout=mobile][data-prev=mobile] .spr-before{height:60px}.section-field .flex-body.f-3 .flex-li{margin-top:0;padding-right:0}.section-client .flex-body.f-3 .flex-li,.section-client .flex-body.f-4 .flex-li{width:100%;margin-top:0;padding-right:0}.post-li{margin-bottom:1em}.flex-body.f-3,.flex-body.f-4{margin-top:-1.2em}.flex-body.f-3 .flex-li{margin-top:1em}.page-header .section-information{height:160px}.section-lead-text{padding-bottom:60px}.page-header .section-information{height:auto}.section-contact .flex-body.f-3 .flex-li{width:100%;padding-right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-top:1em}.section-contact .flex-body.f-3 .flex-li .h3{width:33%}.section-contact .flex-body.f-3 .flex-li .p{width:66%}.post-li-flex{display:block}.post-li-flex .btn{margin-left:auto}.post-li-flex-head{padding-right:0;margin-bottom:1em}.post-li{margin-bottom:2em}.post-li-header{width:30px}.post-li-body{width:calc(100% - 30px)}.table-tr{display:block}.table-tr .td,.table-tr .th{width:100%}.page-title-center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.page-title-center,.section.works-wrap{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.section.works-wrap{width:100%}.works-header{height:50vw;padding-top:80px}.works-header .page-header-body{height:100%}.works-ul{padding-bottom:80px}.section.works-wrap{width:100vw;margin:0 auto}.grid{grid-gap:0;display:grid;grid-auto-rows:25vw;grid-template-columns:50vw 50vw;grid-auto-flow:dense}.section.works-wrap .works-li{padding:0;margin:0;width:100%;height:100%}.works-empty{grid-column:span 2;grid-row:span 1}.works-li[data-size=l],.works-li[data-size=m],.works-li[data-size=s]{grid-column:span 2;grid-row:span 2}.img-cult-ul{width:auto}.img-cult-li{margin-right:30px;width:auto}.img-cult-li:first-child{margin-left:30px}.img-cult-scroll-wrap{overflow:hidden}.img-cult-scroll{overflow:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;-ms-scroll-chaining:none;overscroll-behavior:none;height:110%}.img-cult-wrap{width:100%;-webkit-animation:none;animation:none}.img-cult-li:first-child,.img-cult-li:nth-child(2),.img-cult-li:nth-child(3),.img-cult-li:nth-child(4),.img-cult-li:nth-child(5),.img-cult-li:nth-child(6){margin-top:0}@-webkit-keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-540vw);transform:translate(-540vw)}}@keyframes loop{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-540vw);transform:translate(-540vw)}}.section .cult-link-wrap{left:100px}.section .cult-link{-webkit-transform:translateY(-17vw);transform:translateY(-17vw)}.ui-audio-status{margin:-25px 0 0 -25px}.ui-video-progress{height:25px}.site-mask{opacity:.8;-webkit-box-shadow:inset 0 0 80px 80px #060606;box-shadow:inset 0 0 80px 80px #060606}.is-page-in-works .site-mask{z-index:3}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:1.6128rem}}@media screen and (orientation:landscape) and (max-width:900px){.page-title-in,.page-title-move-wrap,.page-title-wrap{height:6.6rem!important}.works-header{display:none}.grid{padding-bottom:0}.works-li[data-size=l],.works-li[data-size=m],.works-li[data-size=s]{grid-column:span 1;grid-row:span 1}.site-control-counter-move span{font-size:1.1rem}.ja,.page-content,body{font-size:1.4rem}.editor h2,.section-text .h1{font-size:2.366rem}.flip-btn{font-size:1.4rem}.caption h2,.caption h3,.caption h4,.editor h3,.editor h4,.section-text .h2,.section-text .h3{font-size:2.366rem}.site-nav-sns ul,.support{font-size:1.4rem}.works-header .h2{font-size:1.82rem}.logo-h1{font-size:1.568rem}.page-title-in,.section-title{font-size:3rem}.page-title-in .ja{font-size:2.55rem}.page-title-l,.page-title-l .ja,.site-nav-a{font-size:3rem}.section-information .flex-body.f-3 .flex-li,.section-information .flex-body.f-4 .flex-li{width:33%}.page-footer-body.wh{height:100vh!important}.site-nav .section-information{display:none}.site-nav-ul{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.site-nav-li{padding:.25em 1em}.flip-btn-wrap{margin-top:1em;text-align:center}html[lang=ja] .editor h2,html[lang=ja] .section-text .h1{font-size:1.8928rem}}',""])},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(17);n(33),n(29),n(72),n(22);window.getNextElement=function(e,t){return t&&document.querySelector(t)!==e.nextElementSibling?null:e.nextElementSibling},window.getPrevElement=function(e,t){return t&&document.querySelector(t)!==e.previousElementSibling?null:e.previousElementSibling},window.onPlayVideo=function(e){if(loading.__Flag_splash_complete__){var t=e.play();void 0!==t&&t.then((function(e){})).catch((function(e){}))}},window.onLoadAssets=function(){backGL.onLoadAssets(),backGL.__HOME__.onLoadAssets(),backGL.__SINGLE__.onLoadAssets(),isMobileFixed.any||frontGL.__LOGO__.onLoadAssets(),frontGL.__MASK__.onLoadAssets(),isMobileFixed.any&&(__ENV__.mouse=!1)},window.onInitBefore=function(){fakeScroll.onInit(),styleWords.onInit(),styleBG.onInit(),styleDigit.onInit(),"home"!=__PAGE_TYPE__&&(pageBodyScroll.onInit(),frontGLSlider.onInit(),frontGLStack.onInit()),isMobileFixed.any||frontGL.__LOGO__.onInit(),"works"===__PAGE_TYPE__&&pageWorks.onInit(),"reel"===__PAGE_TYPE__&&pageReel.onInit(),__LOWSPEC__&&lowspec.onInit()},window.onInitAfter=function(){"home"!==__PAGE_TYPE__||isMobileFixed.any||frontGL.__HOME__.onInit(),styleInview.onInit()},window.getParam=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),window.ja2Bit=function(e){return!!e.match(/^[\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]+$/)},window.styleWords={onInit:function(){for(var e=document.querySelectorAll(".js--char"),i=0;i<e.length;i++){var text=e[i].innerHTML,html="";text.split("").forEach((function(e){ja2Bit(e)?html+='<span class="o ja">'+e+"</span>":html+='<span class="o">'+e+"</span>"})),e[i].innerHTML=html}var t=document.querySelectorAll(".js--words");for(i=0;i<t.length;i++){text=t[i].innerHTML,html="";text.split(" ").forEach((function(e){ja2Bit(e)?html+='<span class="w ja">'+e+"</span>":html+='<span class="w">'+e+"</span>"})),t[i].innerHTML=html}}},window.styleDigit={d:["一","二","三","四","五","六","七","八","九","十"],onInit:function(){var e=this;document.querySelectorAll(".ja-num-wrap").forEach((function(t,n){t.querySelectorAll(".ja-num").forEach((function(t,i){t.innerText=e.d[i]}))}))}},window.styleRatio={onResize:function(){document.querySelectorAll(".wh").forEach((function(e,i){e.style.height=__WH__+"px"})),document.querySelectorAll(".site-nav").forEach((function(e,i){e.style.height=__WH__+"px"})),document.querySelectorAll(".thin .page-header-body").forEach((function(e,i){e.style.height=.85*__WH__+"px"})),document.querySelectorAll(".js--full-ratio-by-w").forEach((function(e,i){var t=parseInt(e.dataset.w),n=parseInt(e.dataset.h)/t;e.getBoundingClientRect(),__WW__;e.style.height=__WW__*n+"px"})),document.querySelectorAll(".js--ratio-by-w").forEach((function(e,i){var t=parseInt(e.dataset.w),n=parseInt(e.dataset.h)/t,r=e.getBoundingClientRect().width;e.style.height=r*n+"px"})),document.querySelectorAll(".js--ratio-by-mb").forEach((function(e,i){var t=parseInt(e.dataset.w),n=.8*parseInt(e.dataset.h);isMobileFixed.any&&(n=parseInt(e.dataset.h));var r=n/t,o=e.getBoundingClientRect().width;e.style.height=o*r+"px"})),document.querySelectorAll(".js--ratio-by-h").forEach((function(e,i){var t=parseInt(e.dataset.w)/parseInt(e.dataset.h),n=e.getBoundingClientRect().height;e.style.width=n*t+"px"})),document.querySelectorAll(".js--ratio-by-full").forEach((function(e,i){var t=.8*__WH__,n=__WW__,r=parseInt(e.dataset.w)/parseInt(e.dataset.h),o=e.getBoundingClientRect().height;if(o*r<n&&o>t)e.style.width=o*r+"px";else{var l=__WW__*(1/r);l<t?(e.style.height=l+"px",e.style.width=__WW__+"px"):(e.style.height=t+"px",e.style.width=t*r+"px")}}))}},window.styleBG={onInit:function(){document.querySelectorAll(".js--bg-img").forEach((function(e,i){var t=e.querySelectorAll(".bg-img")[0],n=getImageSrc(e.dataset.src1x,e.dataset.src2x),img=new Image;img.onload=function(){e.classList.add("img-loaded")},img.src=n,t.style.backgroundImage="url("+n+")"}))},inView:function(e){var t=e.querySelectorAll(".bg-img")[0],n=getImageSrc(e.dataset.src1x,e.dataset.src2x),img=new Image;img.onload=function(){e.classList.add("img-loaded")},img.src=n,t.style.backgroundImage="url("+n+")"},playVideo:function(e){var video=e.querySelectorAll("video");video.length&&video[0].paused&&(video[0].play(),e.classList.add("video-played"))}},window.styleInview={onInit:function(){var e=this;this.$scroll=document.querySelectorAll(".js--scroll"),this.$flip=document.querySelectorAll(".js--flip"),this.$inview=document.querySelectorAll(".js--inview"),this.targets=[].concat(Object(r.a)(this.$scroll),Object(r.a)(this.$flip),Object(r.a)(this.$inview)),this.targets.length&&(this.options={threshold:0},this.observer=new IntersectionObserver(this.listerner,this.options),this.targets.forEach((function(t,i){e.observer.observe(t)})))},listerner:function(e){e.forEach((function(e,i){var t=e.target;e.isIntersecting?(t.dataset.visible=1,t.classList.contains("js--flip")&&t.classList.add("_fliped"),t.classList.contains("js--bg-img-inview")&&styleBG.inView(t),t.classList.contains("js--bg-video")&&styleBG.playVideo(t)):t.dataset.visible=0}))},onDestroy:function(){var e=this;this.observer&&(this.targets.forEach((function(t,i){e.observer.disconnect(t)})),this.targets=null,this.observer=null)}},window.removeClass=function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=0,l=e.classList.length;o<l;++o){var c=new RegExp("\\b"+t[r]+"\\S+","g"),h=e.classList[o].match(c);h&&n.push(h[0]),t[r]===e.classList[o]&&n.push(t[r])}for(var i=0;i<n.length;i++)e.classList.remove(n[i])},window.isTouchDevice=function(){var e=!1;return null===window.ontouchstart&&(e=!0),e},window.__WEBP__=!1,window.WebpIsSupported=function(e){if(window.createImageBitmap){fetch("data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=").then((function(e){return e.blob()})).then((function(t){createImageBitmap(t).then((function(){e(!0)}),(function(){e(!1)}))}))}else e(!1)},WebpIsSupported((function(e){e&&(__WEBP__=!0)})),"chrome"===__BROWSER__&&(__WEBP__=!0),window.getImageSrc=function(e,t){var n=e;return __IS_RETINA__&&(n=t),__WEBP__&&(n+=".webp"),n+__QUERY__},window.onceDOM=function(){$html.classList.add("is-js"),fakeScroll.once(),pageBodyScroll.once(),styleMenu.once(),styleProgress.once(),styleRatio.onResize(),styleCounter.once(),$body.classList.add("is-page-in-"+__PAGE_TYPE__),isTouchDevice()?$html.classList.add("is-touch"):$html.classList.add("is-not-touch"),isMobile.android.device?$html.classList.add("is-device-android"):isMobile.apple.device&&$html.classList.add("is-device-apple"),$html.classList.add("is-brows-"+__BROWSER__),__WEBP__?$html.classList.add("is-webp"):$html.classList.add("is-no-webp"),isMobileFixed.any?setTimeout((function(){styleMobile.onInit()}),50):resizeControl.onInit()},window.onceGL=function(){loading.once(),backGL.once(),backGL.__HOME__.once(),backGL.__SINGLE__.once(),isMobileFixed.any||backGL.__FOOTER__.once(),frontGL.once(),isMobileFixed.any||(frontGL.__HOME__.once(),frontGL.__LOGO__.once()),frontGL.__CONTENTS__.once(),frontGL.__MASK__.once(),onLoadAssets()},window.getCanvas=function(e,t,n,r,o,l,c){var h=this;this.fontSize=n,this.canvas=document.createElement("canvas");var d=this.canvas.getContext("2d"),f=[];f=e.split(/\n/);var m={x:.95,y:.8};this.draw=function(){d.fillStyle=r,d.font="".concat(o," ").concat(h.fontSize,"px ").concat(l),d.textAlign="left",d.textBaseline="top";for(var e=h.fontSize/10,n=d.measureText(" ").width,_=(d.measureText("　").width,[]),v=0;v<f.length;v++){for(var y=f[v].split(" "),x=[],w=0;w<y.length;w++){var T=ja2Bit(y[w]);x.push({side:t,is_ja:T,txt:y[w],txt_origin:f[v]})}_.push(x)}for(var S=[],i=0;i<f.length;i++){y=d.measureText(f[i]).width;S.push(y)}var M=.89*h.fontSize;h.width=Math.max.apply(null,S)+2*e,h.height=M*f.length+2*e,h.canvas.width=h.width,h.canvas.height=h.height,d.clearRect(0,0,h.width,h.height),_.forEach((function(t,f){var _=e,v=0;d.fillStyle=r,d.font="".concat(o," ").concat(h.fontSize,"px ").concat(l),d.textAlign="left",d.textBaseline="top",d.lineWidth=1.5*window.devicePixelRatio;for(var col=0;col<t.length;col++){v=__MIDSPEC__?M*f-e:M*f+e;var y=t[col].side;if(t[col].is_ja){for(var x=0,w=v+((f+1)*M*(1-m.y)-M*(1-m.y)*.5)+e,T=t[col].txt.split(""),S=0;S<T.length;S++){var E=d.measureText(T[S]).width,L=_*(2-m.x);d.scale(m.x,m.y),"front"===y?(d.strokeStyle="rgba("+__COL_W__+","+__COL_W__+","+__COL_W__+", 1 )",d.fillText(T[S],x+L,w),d.strokeText(T[S],x+L,w)):(d.strokeStyle=c,d.strokeText(T[S],x+L,w)),d.scale(1/m.x,1/m.y);var k=0;S!=T.length-1&&(k=.1*E),x+=E-k}_+=x*m.x+n}else"front"===y?d.fillText(t[col].txt,_,v):(d.strokeStyle=c,d.strokeText(t[col].txt,_,v)),_+=d.measureText(t[col].txt).width+n}}))},this.draw()}},function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return _})),n.d(t,"getters",(function(){return v}));n(53),n(31),n(9),n(5),n(21);var r=n(11),o=n(115),l=n(116),c=n(117);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(source,!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(source).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=function(){return{isloading:!0,page:null,history:{old:null,now:null},user:{isRetina:null,isDesktop:null,isTablet:null,isMobile:null,isLegacy:null,isLowspec:null},all:[],in_category:[],in_category_name:null,pickups:[],categories:[],single:null,pages:null}},m=d({},c.default),_=d({},o),v=d({},l)},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"Back",(function(){return o})),n.d(t,"Elastic",(function(){return l})),n.d(t,"Bounce",(function(){return c})),n.d(t,"RoughEase",(function(){return h})),n.d(t,"SlowMo",(function(){return d})),n.d(t,"SteppedEase",(function(){return f})),n.d(t,"Circ",(function(){return m})),n.d(t,"Expo",(function(){return _})),n.d(t,"Sine",(function(){return v})),n.d(t,"ExpoScaleEase",(function(){return y}));var r=n(1);n.d(t,"Linear",(function(){return r.Linear})),n.d(t,"Power0",(function(){return r.Power0})),n.d(t,"Power1",(function(){return r.Power1})),n.d(t,"Power2",(function(){return r.Power2})),n.d(t,"Power3",(function(){return r.Power3})),n.d(t,"Power4",(function(){return r.Power4})),r._gsScope._gsDefine("easing.Back",["easing.Ease"],(function(){var e,t,n,o,l=r._gsScope.GreenSockGlobals||r._gsScope,c=l.com.greensock,h=2*Math.PI,d=Math.PI/2,f=c._class,m=function(e,t){var n=f("easing."+e,(function(){}),!0),p=n.prototype=new r.Ease;return p.constructor=n,p.getRatio=t,n},_=r.Ease.register||function(){},v=function(e,t,n,r,o){var l=f("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return _(l,e),l},y=function(time,e,t){this.t=time,this.v=e,t&&(this.next=t,t.prev=this,this.c=t.v-e,this.gap=t.t-time)},x=function(e,t){var n=f("easing."+e,(function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1}),!0),p=n.prototype=new r.Ease;return p.constructor=n,p.getRatio=t,p.config=function(e){return new n(e)},n},w=v("Back",x("BackOut",(function(p){return(p-=1)*p*((this._p1+1)*p+this._p1)+1})),x("BackIn",(function(p){return p*p*((this._p1+1)*p-this._p1)})),x("BackInOut",(function(p){return(p*=2)<1?.5*p*p*((this._p2+1)*p-this._p2):.5*((p-=2)*p*((this._p2+1)*p+this._p2)+2)}))),T=f("easing.SlowMo",(function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n}),!0),p=T.prototype=new r.Ease;return p.constructor=T,p.getRatio=function(p){var e=p+(.5-p)*this._p;return p<this._p1?this._calcEnd?1-(p=1-p/this._p1)*p:e-(p=1-p/this._p1)*p*p*p*e:p>this._p3?this._calcEnd?1===p?0:1-(p=(p-this._p3)/this._p1)*p:e+(p-e)*(p=(p-this._p3)/this._p1)*p*p*p:this._calcEnd?1:e},T.ease=new T(.7,.7),p.config=T.config=function(e,t,n){return new T(e,t,n)},(p=(e=f("easing.SteppedEase",(function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0}),!0)).prototype=new r.Ease).constructor=e,p.getRatio=function(p){return p<0?p=0:p>=1&&(p=.999999999),((this._p2*p|0)+this._p3)*this._p1},p.config=e.config=function(t,n){return new e(t,n)},(p=(t=f("easing.ExpoScaleEase",(function(e,t,n){this._p1=Math.log(t/e),this._p2=t-e,this._p3=e,this._ease=n}),!0)).prototype=new r.Ease).constructor=t,p.getRatio=function(p){return this._ease&&(p=this._ease.getRatio(p)),(this._p3*Math.exp(this._p1*p)-this._p3)/this._p2},p.config=t.config=function(e,n,r){return new t(e,n,r)},(p=(n=f("easing.RoughEase",(function(e){for(var t,n,o,l,c,h,d=(e=e||{}).taper||"none",a=[],f=0,m=0|(e.points||20),i=m,_=!1!==e.randomize,v=!0===e.clamp,template=e.template instanceof r.Ease?e.template:null,x="number"==typeof e.strength?.4*e.strength:.4;--i>-1;)t=_?Math.random():1/m*i,n=template?template.getRatio(t):t,o="none"===d?x:"out"===d?(l=1-t)*l*x:"in"===d?t*t*x:t<.5?(l=2*t)*l*.5*x:(l=2*(1-t))*l*.5*x,_?n+=Math.random()*o-.5*o:i%2?n+=.5*o:n-=.5*o,v&&(n>1?n=1:n<0&&(n=0)),a[f++]={x:t,y:n};for(a.sort((function(a,b){return a.x-b.x})),h=new y(1,1,null),i=m;--i>-1;)c=a[i],h=new y(c.x,c.y,h);this._prev=new y(0,0,0!==h.t?h:h.next)}),!0)).prototype=new r.Ease).constructor=n,p.getRatio=function(p){var e=this._prev;if(p>e.t){for(;e.next&&p>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&p<=e.t;)e=e.prev;return this._prev=e,e.v+(p-e.t)/e.gap*e.c},p.config=function(e){return new n(e)},n.ease=new n,v("Bounce",m("BounceOut",(function(p){return p<1/2.75?7.5625*p*p:p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375})),m("BounceIn",(function(p){return(p=1-p)<1/2.75?1-7.5625*p*p:p<2/2.75?1-(7.5625*(p-=1.5/2.75)*p+.75):p<2.5/2.75?1-(7.5625*(p-=2.25/2.75)*p+.9375):1-(7.5625*(p-=2.625/2.75)*p+.984375)})),m("BounceInOut",(function(p){var e=p<.5;return(p=e?1-2*p:2*p-1)<1/2.75?p*=7.5625*p:p=p<2/2.75?7.5625*(p-=1.5/2.75)*p+.75:p<2.5/2.75?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,e?.5*(1-p):.5*p+.5}))),v("Circ",m("CircOut",(function(p){return Math.sqrt(1-(p-=1)*p)})),m("CircIn",(function(p){return-(Math.sqrt(1-p*p)-1)})),m("CircInOut",(function(p){return(p*=2)<1?-.5*(Math.sqrt(1-p*p)-1):.5*(Math.sqrt(1-(p-=2)*p)+1)}))),v("Elastic",(o=function(e,t,n){var o=f("easing."+e,(function(e,t){this._p1=e>=1?e:1,this._p2=(t||n)/(e<1?e:1),this._p3=this._p2/h*(Math.asin(1/this._p1)||0),this._p2=h/this._p2}),!0),p=o.prototype=new r.Ease;return p.constructor=o,p.getRatio=t,p.config=function(e,t){return new o(e,t)},o})("ElasticOut",(function(p){return this._p1*Math.pow(2,-10*p)*Math.sin((p-this._p3)*this._p2)+1}),.3),o("ElasticIn",(function(p){return-this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2)}),.3),o("ElasticInOut",(function(p){return(p*=2)<1?this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(p-=1))*Math.sin((p-this._p3)*this._p2)*.5+1}),.45)),v("Expo",m("ExpoOut",(function(p){return 1-Math.pow(2,-10*p)})),m("ExpoIn",(function(p){return Math.pow(2,10*(p-1))-.001})),m("ExpoInOut",(function(p){return(p*=2)<1?.5*Math.pow(2,10*(p-1)):.5*(2-Math.pow(2,-10*(p-1)))}))),v("Sine",m("SineOut",(function(p){return Math.sin(p*d)})),m("SineIn",(function(p){return 1-Math.cos(p*d)})),m("SineInOut",(function(p){return-.5*(Math.cos(Math.PI*p)-1)}))),f("easing.EaseLookup",{find:function(s){return r.Ease.map[s]}},!0),_(l.SlowMo,"SlowMo","ease,"),_(n,"RoughEase","ease,"),_(e,"SteppedEase","ease,"),w}),!0);var o=r.globals.Back,l=r.globals.Elastic,c=r.globals.Bounce,h=r.globals.RoughEase,d=r.globals.SlowMo,f=r.globals.SteppedEase,m=r.globals.Circ,_=r.globals.Expo,v=r.globals.Sine,y=r.globals.ExpoScaleEase},function(e,t,n){"use strict";n.r(t),n.d(t,"CSSPlugin",(function(){return l})),n.d(t,"default",(function(){return l}));var r=n(7),o=(n(25),n(29),n(33),n(22),n(72),n(1));o._gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],(function(){var e,t,n,l,c=function e(){o.TweenPlugin.call(this,"css"),this._overwriteProps.length=0,this.setRatio=e.prototype.setRatio},h=o._gsScope._gsDefine.globals,d={},p=c.prototype=new o.TweenPlugin("css");p.constructor=c,c.version="2.1.0",c.API=2,c.defaultTransformPerspective=0,c.defaultSkewType="compensated",c.defaultSmoothOrigin=!0,c.suffixMap={top:p="px",right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var f,m,_,v,y,x,w,T,S=/(?:\-|\.|\b)(\d|\.|e\-)+/g,M=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,E=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,L=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,k=/(?:\d|\-|\+|=|#|\.)*/g,A=/opacity *= *([^)]*)/i,P=/opacity:([^;]*)/i,O=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,R=/([A-Z])/g,I=/-([a-z])/gi,F=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,N=function(s,g){return g.toUpperCase()},z=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,G=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,U=/,(?=[^\)]*(?:\(|$))/gi,B=/[\s,\(]/i,j=Math.PI/180,W=180/Math.PI,H={},V={style:{}},Y=o._gsScope.document||{createElement:function(){return V}},X=function(e,t){return t&&Y.createElementNS?Y.createElementNS(t,e):Y.createElement(e)},$=X("div"),Z=X("img"),K=c._internals={_specialProps:d},J=(o._gsScope.navigator||{}).userAgent||"",Q=function(){var i=J.indexOf("Android"),a=X("a");return _=-1!==J.indexOf("Safari")&&-1===J.indexOf("Chrome")&&(-1===i||parseFloat(J.substr(i+8,2))>3),y=_&&parseFloat(J.substr(J.indexOf("Version/")+8,2))<6,v=-1!==J.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(J)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(J))&&(x=parseFloat(RegExp.$1)),!!a&&(a.style.cssText="top:1px;opacity:.55;",/^0.55/.test(a.style.opacity))}(),ee=function(e){return A.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},te=function(s){o._gsScope.console&&console.log(s)},ie="",ne="",re=function(p,e){var a,i,s=(e=e||$).style;if(void 0!==s[p])return p;for(p=p.charAt(0).toUpperCase()+p.substr(1),a=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===s[a[i]+p];);return i>=0?(ie="-"+(ne=3===i?"ms":a[i]).toLowerCase()+"-",ne+p):null},ae="undefined"!=typeof window?window:Y.defaultView||{getComputedStyle:function(){}},oe=function(e){return ae.getComputedStyle(e)},se=c.getStyle=function(e,p,t,n,r){var o;return Q||"opacity"!==p?(!n&&e.style[p]?o=e.style[p]:(t=t||oe(e))?o=t[p]||t.getPropertyValue(p)||t.getPropertyValue(p.replace(R,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[p]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):ee(e)},le=K.convertToPixels=function(e,p,t,n,r){if("px"===n||!n&&"lineHeight"!==p)return t;if("auto"===n||!t)return 0;var l,h,time,d=z.test(p),f=e,style=$.style,m=t<0,_=1===t;if(m&&(t=-t),_&&(t*=100),"lineHeight"!==p||n)if("%"===n&&-1!==p.indexOf("border"))l=t/100*(d?e.clientWidth:e.clientHeight);else{if(style.cssText="border:0 solid red;position:"+se(e,"position")+";line-height:0;","%"!==n&&f.appendChild&&"v"!==n.charAt(0)&&"rem"!==n)style[d?"borderLeftWidth":"borderTopWidth"]=t+n;else{if(f=e.parentNode||Y.body,-1!==se(f,"display").indexOf("flex")&&(style.position="absolute"),h=f._gsCache,time=o.default.ticker.frame,h&&d&&h.time===time)return h.width*t/100;style[d?"width":"height"]=t+n}f.appendChild($),l=parseFloat($[d?"offsetWidth":"offsetHeight"]),f.removeChild($),d&&"%"===n&&!1!==c.cacheWidths&&((h=f._gsCache=f._gsCache||{}).time=time,h.width=l/t*100),0!==l||r||(l=le(e,p,t,n,!0))}else h=oe(e).lineHeight,e.style.lineHeight=t,l=parseFloat(oe(e).lineHeight),e.style.lineHeight=h;return _&&(l/=100),m?-l:l},ce=K.calculateOffset=function(e,p,t){if("absolute"!==se(e,"position",t))return 0;var n="left"===p?"Left":"Top",r=se(e,"margin"+n,t);return e["offset"+n]-(le(e,p,parseFloat(r),r.replace(k,""))||0)},he=function(e,t){var i,tr,p,s={};if(t=t||oe(e))if(i=t.length)for(;--i>-1;)-1!==(p=t[i]).indexOf("-transform")&&De!==p||(s[p.replace(I,N)]=t.getPropertyValue(p));else for(i in t)-1!==i.indexOf("Transform")&&ze!==i||(s[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(I,N)]=t[i]);return Q||(s.opacity=ee(e)),tr=Je(e,t,!1),s.rotation=tr.rotation,s.skewX=tr.skewX,s.scaleX=tr.scaleX,s.scaleY=tr.scaleY,s.x=tr.x,s.y=tr.y,Ue&&(s.z=tr.z,s.rotationX=tr.rotationX,s.rotationY=tr.rotationY,s.scaleZ=tr.scaleZ),s.filters&&delete s.filters,s},ue=function(e,t,n,r,o){var l,p,c,h={},style=e.style;for(p in n)"cssText"!==p&&"length"!==p&&isNaN(p)&&(t[p]!==(l=n[p])||o&&o[p])&&-1===p.indexOf("Origin")&&("number"!=typeof l&&"string"!=typeof l||(h[p]="auto"!==l||"left"!==p&&"top"!==p?""!==l&&"auto"!==l&&"none"!==l||"string"!=typeof t[p]||""===t[p].replace(L,"")?l:0:ce(e,p),void 0!==style[p]&&(c=new Ee(style,p,style[p],c))));if(r)for(p in r)"className"!==p&&(h[p]=r[p]);return{difs:h,firstMPT:c}},de={width:["Left","Right"],height:["Top","Bottom"]},pe=["marginLeft","marginRight","marginTop","marginBottom"],fe=function(e,p,t){if("svg"===(e.nodeName+"").toLowerCase())return(t||oe(e))[p]||0;if(e.getCTM&&qe(e))return e.getBBox()[p]||0;var n=parseFloat("width"===p?e.offsetWidth:e.offsetHeight),a=de[p],i=a.length;for(t=t||oe(e);--i>-1;)n-=parseFloat(se(e,"padding"+a[i],t,!0))||0,n-=parseFloat(se(e,"border"+a[i]+"Width",t,!0))||0;return n},me=function e(t,n){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,a=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":a[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":a[1];if(a.length>3&&!n){for(a=t.split(", ").join(",").split(","),t=[],i=0;i<a.length;i++)t.push(e(a[i]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+o+(a.length>2?" "+a[2]:""),n&&(n.oxp=-1!==r.indexOf("%"),n.oyp=-1!==o.indexOf("%"),n.oxr="="===r.charAt(1),n.oyr="="===o.charAt(1),n.ox=parseFloat(r.replace(L,"")),n.oy=parseFloat(o.replace(L,"")),n.v=t),n||t},_e=function(e,b){return"function"==typeof e&&(e=e(T,w)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(b)||0},ge=function(e,t){"function"==typeof e&&(e=e(T,w));var n="string"==typeof e&&"="===e.charAt(1);return"string"==typeof e&&"v"===e.charAt(e.length-2)&&(e=(n?e.substr(0,2):0)+window["inner"+("vh"===e.substr(-2)?"Height":"Width")]*(parseFloat(n?e.substr(2):e)/100)),null==e?t:n?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ve=function(e,t,p,n){var r,o,l,c;return"function"==typeof e&&(e=e(T,w)),null==e?l=t:"number"==typeof e?l=e:(360,r=e.split("_"),o=((c="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===e.indexOf("rad")?1:W)-(c?0:t),r.length&&(n&&(n[p]=t+o),-1!==e.indexOf("short")&&(o%=360)!==o%180&&(o=o<0?o+360:o-360),-1!==e.indexOf("_cw")&&o<0?o=(o+3599999999640)%360-360*(o/360|0):-1!==e.indexOf("ccw")&&o>0&&(o=(o-3599999999640)%360-360*(o/360|0))),l=t+o),l<1e-6&&l>-1e-6&&(l=0),l},ye={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},xe=function(e,t,n){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},be=c.parseColor=function(e,t){var a,n,g,b,r,s,o,l,c,h,d;if(e)if("number"==typeof e)a=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),ye[e])a=ye[e];else if("#"===e.charAt(0))4===e.length&&(n=e.charAt(1),g=e.charAt(2),b=e.charAt(3),e="#"+n+n+g+g+b+b),a=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(a=d=e.match(S),t){if(-1!==e.indexOf("="))return e.match(M)}else r=Number(a[0])%360/360,s=Number(a[1])/100,n=2*(o=Number(a[2])/100)-(g=o<=.5?o*(s+1):o+s-o*s),a.length>3&&(a[3]=Number(a[3])),a[0]=xe(r+1/3,n,g),a[1]=xe(r,n,g),a[2]=xe(r-1/3,n,g);else a=e.match(S)||ye.transparent;a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3]))}else a=ye.black;return t&&!d&&(n=a[0]/255,g=a[1]/255,b=a[2]/255,o=((l=Math.max(n,g,b))+(c=Math.min(n,g,b)))/2,l===c?r=s=0:(h=l-c,s=o>.5?h/(2-l-c):h/(l+c),r=l===n?(g-b)/h+(g<b?6:0):l===g?(b-n)/h+2:(n-g)/h+4,r*=60),a[0]=r+.5|0,a[1]=100*s+.5|0,a[2]=100*o+.5|0),a},we=function(s,e){var i,t,n,r=s.match(Te)||[],o=0,l="";if(!r.length)return s;for(i=0;i<r.length;i++)t=r[i],o+=(n=s.substr(o,s.indexOf(t,o)-o)).length+t.length,3===(t=be(t,e)).length&&t.push(1),l+=n+(e?"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:"rgba("+t.join(","))+")";return l+s.substr(o)},Te="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in ye)Te+="|"+p+"\\b";Te=new RegExp(Te+")","gi"),c.colorStringFilter=function(a){var e,t=a[0]+" "+a[1];Te.test(t)&&(e=-1!==t.indexOf("hsl(")||-1!==t.indexOf("hsla("),a[0]=we(a[0],e),a[1]=we(a[1],e)),Te.lastIndex=0},o.default.defaultStringFilter||(o.default.defaultStringFilter=c.colorStringFilter);var Se=function(e,t,n,r){if(null==e)return function(e){return e};var o,l=t?(e.match(Te)||[""])[0]:"",c=e.split(l).join("").match(E)||[],h=e.substr(0,e.indexOf(c[0])),d=")"===e.charAt(e.length-1)?")":"",f=-1!==e.indexOf(" ")?" ":",",m=c.length,_=m>0?c[0].replace(S,""):"";return m?o=t?function(e){var t,v,i,a;if("number"==typeof e)e+=_;else if(r&&U.test(e)){for(a=e.replace(U,"|").split("|"),i=0;i<a.length;i++)a[i]=o(a[i]);return a.join(",")}if(t=(e.match(Te)||[l])[0],i=(v=e.split(t).join("").match(E)||[]).length,m>i--)for(;++i<m;)v[i]=n?v[(i-1)/2|0]:c[i];return h+v.join(f)+f+t+d+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,a,i;if("number"==typeof e)e+=_;else if(r&&U.test(e)){for(a=e.replace(U,"|").split("|"),i=0;i<a.length;i++)a[i]=o(a[i]);return a.join(",")}if(i=(t=e.match(E)||[]).length,m>i--)for(;++i<m;)t[i]=n?t[(i-1)/2|0]:c[i];return h+t.join(f)+d}:function(e){return e}},Me=function(e){return e=e.split(","),function(t,n,p,r,o,l,c){var i,a=(n+"").split(" ");for(c={},i=0;i<4;i++)c[e[i]]=a[i]=a[i]||a[(i-1)/2>>0];return r.parse(t,c,o,l)}},Ee=(K._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,r,p,o=this.data,l=o.proxy,c=o.firstMPT;c;)t=l[c.v],c.r?t=c.r(t):t<1e-6&&t>-1e-6&&(t=0),c.t[c.p]=t,c=c._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod.call(this._tween,l.rotation,this.t,this._tween):l.rotation),1===e||0===e)for(c=o.firstMPT,p=1===e?"e":"b";c;){if((n=c.t).type){if(1===n.type){for(r=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n[p]=r}}else n[p]=n.s+n.xs0;c=c._next}},function(e,p,t,n,r){this.t=e,this.p=p,this.v=t,this.r=r,n&&(n._prev=this,this._next=n)}),Le=(K._parseToProxy=function(e,t,n,r,o,l){var i,p,c,h,d,f=r,m={},_={},v=n._transform,y=H;for(n._transform=null,H=t,r=d=n.parse(e,t,r,o),H=y,l&&(n._transform=v,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(r.type<=1&&(_[p=r.p]=r.s+r.c,m[p]=r.s,l||(h=new Ee(r,"s",p,h,r.r),r.c=0),1===r.type))for(i=r.l;--i>0;)c="xn"+i,_[p=r.p+"_"+c]=r.data[c],m[p]=r[c],l||(h=new Ee(r,c,p,h,r.rxp[c]));r=r._next}return{proxy:m,end:_,firstMPT:h,pt:d}},K.CSSPropTween=function(t,p,s,n,r,o,c,h,d,b,f){this.t=t,this.p=p,this.s=s,this.c=n,this.n=c||p,t instanceof Le||l.push(this.n),this.r=h?"function"==typeof h?h:Math.round:h,this.type=o||0,d&&(this.pr=d,e=!0),this.b=void 0===b?s:b,this.e=void 0===f?s+n:f,r&&(this._next=r,r._prev=this)}),ke=function(e,t,n,r,o,l){var c=new Le(e,t,n,r-n,o,-1,l);return c.b=n,c.e=c.xs0=r,c},Ae=c.parseComplex=function(e,p,b,t,n,r,o,l,h,d){b=b||r||"","function"==typeof t&&(t=t(T,w)),o=new Le(e,p,0,0,o,d?2:1,null,!1,l,b,t),t+="",n&&Te.test(t+b)&&(c.colorStringFilter(t=[b,t]),b=t[0],t=t[1]);var i,m,_,v,y,x,E,L,k,A,P,O,C,R=b.split(", ").join(",").split(" "),I=t.split(", ").join(",").split(" "),F=R.length,N=!1!==f;for(-1===t.indexOf(",")&&-1===b.indexOf(",")||(-1!==(t+b).indexOf("rgb")||-1!==(t+b).indexOf("hsl")?(R=R.join(" ").replace(U,", ").split(" "),I=I.join(" ").replace(U,", ").split(" ")):(R=R.join(" ").split(",").join(", ").split(" "),I=I.join(" ").split(",").join(", ").split(" ")),F=R.length),F!==I.length&&(F=(R=(r||"").split(" ")).length),o.plugin=h,o.setRatio=d,Te.lastIndex=0,i=0;i<F;i++)if(v=R[i],y=I[i]+"",(L=parseFloat(v))||0===L)o.appendXtra("",L,_e(y,L),y.replace(M,""),!(!N||-1===y.indexOf("px"))&&Math.round,!0);else if(n&&Te.test(v))O=")"+((O=y.indexOf(")")+1)?y.substr(O):""),C=-1!==y.indexOf("hsl")&&Q,A=y,v=be(v,C),y=be(y,C),(k=v.length+y.length>6)&&!Q&&0===y[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(I[i]).join("transparent")):(Q||(k=!1),C?o.appendXtra(A.substr(0,A.indexOf("hsl"))+(k?"hsla(":"hsl("),v[0],_e(y[0],v[0]),",",!1,!0).appendXtra("",v[1],_e(y[1],v[1]),"%,",!1).appendXtra("",v[2],_e(y[2],v[2]),k?"%,":"%"+O,!1):o.appendXtra(A.substr(0,A.indexOf("rgb"))+(k?"rgba(":"rgb("),v[0],y[0]-v[0],",",Math.round,!0).appendXtra("",v[1],y[1]-v[1],",",Math.round).appendXtra("",v[2],y[2]-v[2],k?",":O,Math.round),k&&(v=v.length<4?1:v[3],o.appendXtra("",v,(y.length<4?1:y[3])-v,O,!1))),Te.lastIndex=0;else if(x=v.match(S)){if(!(E=y.match(M))||E.length!==x.length)return o;for(_=0,m=0;m<x.length;m++)P=x[m],A=v.indexOf(P,_),o.appendXtra(v.substr(_,A-_),Number(P),_e(E[m],P),"",!(!N||"px"!==v.substr(A+P.length,2))&&Math.round,0===m),_=A+P.length;o["xs"+o.l]+=v.substr(_)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+y:y;if(-1!==t.indexOf("=")&&o.data){for(O=o.xs0+o.data.s,i=1;i<o.l;i++)O+=o["xs"+i]+o.data["xn"+i];o.e=O+o["xs"+i]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},i=9;for((p=Le.prototype).l=p.pr=0;--i>0;)p["xn"+i]=0,p["xs"+i]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(e,s,t,n,r,o){var l=this,c=l.l;return l["xs"+c]+=o&&(c||l["xs"+c])?" "+e:e||"",t||0===c||l.plugin?(l.l++,l.type=l.setRatio?2:1,l["xs"+l.l]=n||"",c>0?(l.data["xn"+c]=s+t,l.rxp["xn"+c]=r,l["xn"+c]=s,l.plugin||(l.xfirst=new Le(l,"xn"+c,s,t,l.xfirst||l,0,l.n,r,l.pr),l.xfirst.xs0=0),l):(l.data={s:s+t},l.rxp={},l.s=s,l.c=t,l.r=r,l)):(l["xs"+c]+=s+(n||""),l)};var Pe=function(p,e){e=e||{},this.p=e.prefix&&re(p)||p,d[p]=d[this.p]=this,this.format=e.formatter||Se(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.allowFunc=e.allowFunc,this.pr=e.priority||0},Oe=K._registerComplexSpecialProp=function(p,e,t){"object"!==Object(r.a)(e)&&(e={parser:t});var i,a=p.split(","),n=e.defaultValue;for(t=t||[n],i=0;i<a.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=t[i]||n,new Pe(a[i],e)},Ce=K._registerPluginProp=function(p){if(!d[p]){var e=p.charAt(0).toUpperCase()+p.substr(1)+"Plugin";Oe(p,{parser:function(t,n,p,r,o,l,c){var f=h.com.greensock.plugins[e];return f?(f._cssRegister(),d[p].parse(t,n,p,r,o,l,c)):(te("Error: "+e+" js file not loaded."),o)}})}};(p=Pe.prototype).parseComplex=function(e,b,t,n,r,o){var i,l,c,h,d,f,m=this.keyword;if(this.multi&&(U.test(t)||U.test(b)?(l=b.replace(U,"|").split("|"),c=t.replace(U,"|").split("|")):m&&(l=[b],c=[t])),c){for(h=c.length>l.length?c.length:l.length,i=0;i<h;i++)b=l[i]=l[i]||this.dflt,t=c[i]=c[i]||this.dflt,m&&(d=b.indexOf(m))!==(f=t.indexOf(m))&&(-1===f?l[i]=l[i].split(m).join(""):-1===d&&(l[i]+=" "+m));b=l.join(", "),t=c.join(", ")}return Ae(e,this.p,b,t,this.clrs,this.dflt,n,this.pr,r,o)},p.parse=function(e,t,p,r,o,l,c){return this.parseComplex(e.style,this.format(se(e,this.p,n,!1,this.dflt)),this.format(t),o,l)},c.registerSpecialProp=function(e,t,n){Oe(e,{parser:function(e,r,p,o,l,c,h){var d=new Le(e,p,0,0,l,2,p,!1,n);return d.plugin=c,d.setRatio=t(e,r,o._tween,p),d},priority:n})},c.useSVGTransformAttr=!0;var Re,svg,rect,Ie,Fe,Ne="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),ze=re("transform"),De=ie+"transform",Ge=re("transformOrigin"),Ue=null!==re("perspective"),Be=K.Transform=function(){this.perspective=parseFloat(c.defaultTransformPerspective)||0,this.force3D=!(!1===c.defaultForce3D||!Ue)&&(c.defaultForce3D||"auto")},je=o._gsScope.SVGElement,We=function(e,t,n){var p,element=Y.createElementNS("http://www.w3.org/2000/svg",e),r=/([a-z])([A-Z])/g;for(p in n)element.setAttributeNS(null,p.replace(r,"$1-$2").toLowerCase(),n[p]);return t.appendChild(element),element},He=Y.documentElement||{},Ve=(Fe=x||/Android/i.test(J)&&!o._gsScope.chrome,Y.createElementNS&&!Fe&&(svg=We("svg",He),Ie=(rect=We("rect",svg,{width:100,height:50,x:100})).getBoundingClientRect().width,rect.style[Ge]="50% 50%",rect.style[ze]="scaleX(0.5)",Fe=Ie===rect.getBoundingClientRect().width&&!(v&&Ue),He.removeChild(svg)),Fe),Ye=function(e,t,n,r,o,l){var h,d,f,m,_,a,b,v,y,x,w,T,S,M,E=e._gsTransform,L=Ke(e,!0);E&&(S=E.xOrigin,M=E.yOrigin),(!r||(h=r.split(" ")).length<2)&&(0===(b=e.getBBox()).x&&0===b.y&&b.width+b.height===0&&(b={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),h=[(-1!==(t=me(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*b.width:parseFloat(t[0]))+b.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*b.height:parseFloat(t[1]))+b.y]),n.xOrigin=m=parseFloat(h[0]),n.yOrigin=_=parseFloat(h[1]),r&&L!==Ze&&(a=L[0],b=L[1],v=L[2],y=L[3],x=L[4],w=L[5],(T=a*y-b*v)&&(d=m*(y/T)+_*(-v/T)+(v*w-y*x)/T,f=m*(-b/T)+_*(a/T)-(a*w-b*x)/T,m=n.xOrigin=h[0]=d,_=n.yOrigin=h[1]=f)),E&&(l&&(n.xOffset=E.xOffset,n.yOffset=E.yOffset,E=n),o||!1!==o&&!1!==c.defaultSmoothOrigin?(d=m-S,f=_-M,E.xOffset+=d*L[0]+f*L[2]-d,E.yOffset+=d*L[1]+f*L[3]-f):E.xOffset=E.yOffset=0),l||e.setAttribute("data-svg-origin",h.join(" "))},Xe=function e(t){var n,svg=X("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,l=this.style.cssText;if(He.appendChild(svg),svg.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=e}catch(e){}else this._originalGetBBox&&(n=this._originalGetBBox());return o?r.insertBefore(this,o):r.appendChild(this),He.removeChild(svg),this.style.cssText=l,n},$e=function(e){try{return e.getBBox()}catch(t){return Xe.call(e,!0)}},qe=function(e){return!(!je||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!$e(e))},Ze=[1,0,0,1,0,0],Ke=function(e,t){var n,s,r,o,l,c,h,d=e._gsTransform||new Be,style=e.style;if(ze?s=se(e,De,null,!0):e.currentStyle&&(s=(s=e.currentStyle.filter.match(D))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),d.x||0,d.y||0].join(","):""),n=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,ze&&n&&!e.offsetParent&&(o=style.display,style.display="block",(h=e.parentNode)&&e.offsetParent||(l=1,c=e.nextSibling,He.appendChild(e)),n=!(s=se(e,De,null,!0))||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,o?style.display=o:it(style,"display"),l&&(c?h.insertBefore(e,c):h?h.appendChild(e):He.removeChild(e))),(d.svg||e.getCTM&&qe(e))&&(n&&-1!==(style[ze]+"").indexOf("matrix")&&(s=style[ze],n=0),r=e.getAttribute("transform"),n&&r&&(s="matrix("+(r=e.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",n=0)),n)return Ze;for(r=(s||"").match(S)||[],i=r.length;--i>-1;)o=Number(r[i]),r[i]=(l=o-(o|=0))?(1e5*l+(l<0?-.5:.5)|0)/1e5+o:o;return t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Je=K.getTransform=function(e,t,n,r){if(e._gsTransform&&n&&!r)return e._gsTransform;var l,i,h,d,f,m,_=n&&e._gsTransform||new Be,v=_.scaleX<0,y=Ue&&(parseFloat(se(e,Ge,t,!1,"0 0 0").split(" ")[2])||_.zOrigin)||0,x=parseFloat(c.defaultTransformPerspective)||0;if(_.svg=!(!e.getCTM||!qe(e)),_.svg&&(Ye(e,se(e,Ge,t,!1,"50% 50%")+"",_,e.getAttribute("data-svg-origin")),Re=c.useSVGTransformAttr||Ve),(l=Ke(e))!==Ze){if(16===l.length){var w,T,S,M,E,L=l[0],k=l[1],A=l[2],P=l[3],O=l[4],C=l[5],R=l[6],I=l[7],F=l[8],N=l[9],z=l[10],D=l[12],G=l[13],U=l[14],B=l[11],j=Math.atan2(R,z);_.zOrigin&&(D=F*(U=-_.zOrigin)-l[12],G=N*U-l[13],U=z*U+_.zOrigin-l[14]),_.rotationX=j*W,j&&(w=O*(M=Math.cos(-j))+F*(E=Math.sin(-j)),T=C*M+N*E,S=R*M+z*E,F=O*-E+F*M,N=C*-E+N*M,z=R*-E+z*M,B=I*-E+B*M,O=w,C=T,R=S),j=Math.atan2(-A,z),_.rotationY=j*W,j&&(T=k*(M=Math.cos(-j))-N*(E=Math.sin(-j)),S=A*M-z*E,N=k*E+N*M,z=A*E+z*M,B=P*E+B*M,L=w=L*M-F*E,k=T,A=S),j=Math.atan2(k,L),_.rotation=j*W,j&&(w=L*(M=Math.cos(j))+k*(E=Math.sin(j)),T=O*M+C*E,S=F*M+N*E,k=k*M-L*E,C=C*M-O*E,N=N*M-F*E,L=w,O=T,F=S),_.rotationX&&Math.abs(_.rotationX)+Math.abs(_.rotation)>359.9&&(_.rotationX=_.rotation=0,_.rotationY=180-_.rotationY),j=Math.atan2(O,C),_.scaleX=(1e5*Math.sqrt(L*L+k*k+A*A)+.5|0)/1e5,_.scaleY=(1e5*Math.sqrt(C*C+R*R)+.5|0)/1e5,_.scaleZ=(1e5*Math.sqrt(F*F+N*N+z*z)+.5|0)/1e5,L/=_.scaleX,O/=_.scaleY,k/=_.scaleX,C/=_.scaleY,Math.abs(j)>2e-5?(_.skewX=j*W,O=0,"simple"!==_.skewType&&(_.scaleY*=1/Math.cos(j))):_.skewX=0,_.perspective=B?1/(B<0?-B:B):0,_.x=D,_.y=G,_.z=U,_.svg&&(_.x-=_.xOrigin-(_.xOrigin*L-_.yOrigin*O),_.y-=_.yOrigin-(_.yOrigin*k-_.xOrigin*C))}else if(!Ue||r||!l.length||_.x!==l[4]||_.y!==l[5]||!_.rotationX&&!_.rotationY){var H=l.length>=6,a=H?l[0]:1,b=l[1]||0,V=l[2]||0,Y=H?l[3]:1;_.x=l[4]||0,_.y=l[5]||0,h=Math.sqrt(a*a+b*b),d=Math.sqrt(Y*Y+V*V),f=a||b?Math.atan2(b,a)*W:_.rotation||0,m=V||Y?Math.atan2(V,Y)*W+f:_.skewX||0,_.scaleX=h,_.scaleY=d,_.rotation=f,_.skewX=m,Ue&&(_.rotationX=_.rotationY=_.z=0,_.perspective=x,_.scaleZ=1),_.svg&&(_.x-=_.xOrigin-(_.xOrigin*a+_.yOrigin*V),_.y-=_.yOrigin-(_.xOrigin*b+_.yOrigin*Y))}for(i in Math.abs(_.skewX)>90&&Math.abs(_.skewX)<270&&(v?(_.scaleX*=-1,_.skewX+=_.rotation<=0?180:-180,_.rotation+=_.rotation<=0?180:-180):(_.scaleY*=-1,_.skewX+=_.skewX<=0?180:-180)),_.zOrigin=y,_)_[i]<2e-5&&_[i]>-2e-5&&(_[i]=0)}return n&&(e._gsTransform=_,_.svg&&(Re&&e.style[ze]?o.default.delayedCall(.001,(function(){it(e.style,ze)})):!Re&&e.getAttribute("transform")&&o.default.delayedCall(.001,(function(){e.removeAttribute("transform")})))),_},Qe=function(e){var t,n,r=this.data,o=-r.rotation*j,l=o+r.skewX*j,a=(Math.cos(o)*r.scaleX*1e5|0)/1e5,b=(Math.sin(o)*r.scaleX*1e5|0)/1e5,c=(Math.sin(l)*-r.scaleY*1e5|0)/1e5,h=(Math.cos(l)*r.scaleY*1e5|0)/1e5,style=this.t.style,d=this.t.currentStyle;if(d){n=b,b=-c,c=-n,t=d.filter,style.filter="";var f,m,_=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+b+", M21="+c+", M22="+h,T=r.x+_*r.xPercent/100,S=r.y+v*r.yPercent/100;if(null!=r.ox&&(T+=(f=(r.oxp?_*r.ox*.01:r.ox)-_/2)-(f*a+(m=(r.oyp?v*r.oy*.01:r.oy)-v/2)*b),S+=m-(f*c+m*h)),w+=y?", Dx="+((f=_/2)-(f*a+(m=v/2)*b)+T)+", Dy="+(m-(f*c+m*h)+S)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?style.filter=t.replace(G,w):style.filter=w+" "+t,0!==e&&1!==e||1===a&&0===b&&0===c&&1===h&&(y&&-1===w.indexOf("Dx=0, Dy=0")||A.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&style.removeAttribute("filter")),!y){var M,E,L,P=x<8?1:-1;for(f=r.ieOffsetX||0,m=r.ieOffsetY||0,r.ieOffsetX=Math.round((_-((a<0?-a:a)*_+(b<0?-b:b)*v))/2+T),r.ieOffsetY=Math.round((v-((h<0?-h:h)*v+(c<0?-c:c)*_))/2+S),i=0;i<4;i++)L=(n=-1!==(M=d[E=pe[i]]).indexOf("px")?parseFloat(M):le(this.t,E,parseFloat(M),M.replace(k,""))||0)!==r[E]?i<2?-r.ieOffsetX:-r.ieOffsetY:i<2?f-r.ieOffsetX:m-r.ieOffsetY,style[E]=(r[E]=Math.round(n-L*(0===i||2===i?1:P)))+"px"}}},et=K.set3DTransformRatio=K.setTransformRatio=function(e){var t,n,r,o,l,c,h,d,f,m,_,y,x,w,T,S,M,E,L,k,A=this.data,style=this.t.style,P=A.rotation,O=A.rotationX,C=A.rotationY,R=A.scaleX,I=A.scaleY,F=A.scaleZ,N=A.x,z=A.y,D=A.z,G=A.svg,U=A.perspective,B=A.force3D,W=A.skewY,H=A.skewX;if(W&&(H+=W,P+=W),!((1!==e&&0!==e||"auto"!==B||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&B||D||U||C||O||1!==F)||Re&&G||!Ue)P||H||G?(P*=j,k=H*j,1e5,n=Math.cos(P)*R,l=Math.sin(P)*R,r=Math.sin(P-k)*-I,c=Math.cos(P-k)*I,k&&"simple"===A.skewType&&(t=Math.tan(k-W*j),r*=t=Math.sqrt(1+t*t),c*=t,W&&(t=Math.tan(W*j),n*=t=Math.sqrt(1+t*t),l*=t)),G&&(N+=A.xOrigin-(A.xOrigin*n+A.yOrigin*r)+A.xOffset,z+=A.yOrigin-(A.xOrigin*l+A.yOrigin*c)+A.yOffset,Re&&(A.xPercent||A.yPercent)&&(T=this.t.getBBox(),N+=.01*A.xPercent*T.width,z+=.01*A.yPercent*T.height),N<(T=1e-6)&&N>-T&&(N=0),z<T&&z>-T&&(z=0)),L=(1e5*n|0)/1e5+","+(1e5*l|0)/1e5+","+(1e5*r|0)/1e5+","+(1e5*c|0)/1e5+","+N+","+z+")",G&&Re?this.t.setAttribute("transform","matrix("+L):style[ze]=(A.xPercent||A.yPercent?"translate("+A.xPercent+"%,"+A.yPercent+"%) matrix(":"matrix(")+L):style[ze]=(A.xPercent||A.yPercent?"translate("+A.xPercent+"%,"+A.yPercent+"%) matrix(":"matrix(")+R+",0,0,"+I+","+N+","+z+")";else{if(v&&(R<(T=1e-4)&&R>-T&&(R=F=2e-5),I<T&&I>-T&&(I=F=2e-5),!U||A.z||A.rotationX||A.rotationY||(U=0)),P||H)P*=j,S=n=Math.cos(P),M=l=Math.sin(P),H&&(P-=H*j,S=Math.cos(P),M=Math.sin(P),"simple"===A.skewType&&(t=Math.tan((H-W)*j),S*=t=Math.sqrt(1+t*t),M*=t,A.skewY&&(t=Math.tan(W*j),n*=t=Math.sqrt(1+t*t),l*=t))),r=-M,c=S;else{if(!(C||O||1!==F||U||G))return void(style[ze]=(A.xPercent||A.yPercent?"translate("+A.xPercent+"%,"+A.yPercent+"%) translate3d(":"translate3d(")+N+"px,"+z+"px,"+D+"px)"+(1!==R||1!==I?" scale("+R+","+I+")":""));n=c=1,r=l=0}m=1,o=h=d=f=_=y=0,x=U?-1/U:0,w=A.zOrigin,T=1e-6,",","0",(P=C*j)&&(S=Math.cos(P),d=-(M=Math.sin(P)),_=x*-M,o=n*M,h=l*M,m=S,x*=S,n*=S,l*=S),(P=O*j)&&(t=r*(S=Math.cos(P))+o*(M=Math.sin(P)),E=c*S+h*M,f=m*M,y=x*M,o=r*-M+o*S,h=c*-M+h*S,m*=S,x*=S,r=t,c=E),1!==F&&(o*=F,h*=F,m*=F,x*=F),1!==I&&(r*=I,c*=I,f*=I,y*=I),1!==R&&(n*=R,l*=R,d*=R,_*=R),(w||G)&&(w&&(N+=o*-w,z+=h*-w,D+=m*-w+w),G&&(N+=A.xOrigin-(A.xOrigin*n+A.yOrigin*r)+A.xOffset,z+=A.yOrigin-(A.xOrigin*l+A.yOrigin*c)+A.yOffset),N<T&&N>-T&&(N="0"),z<T&&z>-T&&(z="0"),D<T&&D>-T&&(D=0)),L=A.xPercent||A.yPercent?"translate("+A.xPercent+"%,"+A.yPercent+"%) matrix3d(":"matrix3d(",L+=(n<T&&n>-T?"0":n)+","+(l<T&&l>-T?"0":l)+","+(d<T&&d>-T?"0":d),L+=","+(_<T&&_>-T?"0":_)+","+(r<T&&r>-T?"0":r)+","+(c<T&&c>-T?"0":c),O||C||1!==F?(L+=","+(f<T&&f>-T?"0":f)+","+(y<T&&y>-T?"0":y)+","+(o<T&&o>-T?"0":o),L+=","+(h<T&&h>-T?"0":h)+","+(m<T&&m>-T?"0":m)+","+(x<T&&x>-T?"0":x)+","):L+=",0,0,0,0,1,0,",L+=N+","+z+","+D+","+(U?1+-D/U:1)+")",style[ze]=L}};(p=Be.prototype).x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0,p.scaleX=p.scaleY=p.scaleZ=1,Oe("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,o,l,h,d,f){if(l._lastParsedTransform===f)return h;l._lastParsedTransform=f;var m=f.scale&&"function"==typeof f.scale?f.scale:0;m&&(f.scale=m(T,e));var _,v,y,x,S,M,E,L,p,k=e._gsTransform,style=e.style,i=Ne.length,A=f,P={},O=Je(e,n,!0,A.parseTransform),C=A.transform&&("function"==typeof A.transform?A.transform(T,w):A.transform);if(O.skewType=A.skewType||O.skewType||c.defaultSkewType,l._transform=O,"rotationZ"in A&&(A.rotation=A.rotationZ),C&&"string"==typeof C&&ze)(v=$.style)[ze]=C,v.display="block",v.position="absolute",-1!==C.indexOf("%")&&(v.width=se(e,"width"),v.height=se(e,"height")),Y.body.appendChild($),_=Je($,null,!1),"simple"===O.skewType&&(_.scaleY*=Math.cos(_.skewX*j)),O.svg&&(M=O.xOrigin,E=O.yOrigin,_.x-=O.xOffset,_.y-=O.yOffset,(A.transformOrigin||A.svgOrigin)&&(C={},Ye(e,me(A.transformOrigin),C,A.svgOrigin,A.smoothOrigin,!0),M=C.xOrigin,E=C.yOrigin,_.x-=C.xOffset-O.xOffset,_.y-=C.yOffset-O.yOffset),(M||E)&&(L=Ke($,!0),_.x-=M-(M*L[0]+E*L[2]),_.y-=E-(M*L[1]+E*L[3]))),Y.body.removeChild($),_.perspective||(_.perspective=O.perspective),null!=A.xPercent&&(_.xPercent=ge(A.xPercent,O.xPercent)),null!=A.yPercent&&(_.yPercent=ge(A.yPercent,O.yPercent));else if("object"===Object(r.a)(A)){if(_={scaleX:ge(null!=A.scaleX?A.scaleX:A.scale,O.scaleX),scaleY:ge(null!=A.scaleY?A.scaleY:A.scale,O.scaleY),scaleZ:ge(A.scaleZ,O.scaleZ),x:ge(A.x,O.x),y:ge(A.y,O.y),z:ge(A.z,O.z),xPercent:ge(A.xPercent,O.xPercent),yPercent:ge(A.yPercent,O.yPercent),perspective:ge(A.transformPerspective,O.perspective)},null!=(S=A.directionalRotation))if("object"===Object(r.a)(S))for(v in S)A[v]=S[v];else A.rotation=S;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(_.x=0,_.xPercent=ge(A.x,O.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(_.y=0,_.yPercent=ge(A.y,O.yPercent)),_.rotation=ve("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":O.rotation,O.rotation,"rotation",P),Ue&&(_.rotationX=ve("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":O.rotationX||0,O.rotationX,"rotationX",P),_.rotationY=ve("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":O.rotationY||0,O.rotationY,"rotationY",P)),_.skewX=ve(A.skewX,O.skewX),_.skewY=ve(A.skewY,O.skewY)}for(Ue&&null!=A.force3D&&(O.force3D=A.force3D,x=!0),(y=O.force3D||O.z||O.rotationX||O.rotationY||_.z||_.rotationX||_.rotationY||_.perspective)||null==A.scale||(_.scaleZ=1);--i>-1;)((C=_[p=Ne[i]]-O[p])>1e-6||C<-1e-6||null!=A[p]||null!=H[p])&&(x=!0,h=new Le(O,p,O[p],C,h),p in P&&(h.e=P[p]),h.xs0=0,h.plugin=d,l._overwriteProps.push(h.n));return C="function"==typeof A.transformOrigin?A.transformOrigin(T,w):A.transformOrigin,O.svg&&(C||A.svgOrigin)&&(M=O.xOffset,E=O.yOffset,Ye(e,me(C),_,A.svgOrigin,A.smoothOrigin),h=ke(O,"xOrigin",(k?O:_).xOrigin,_.xOrigin,h,"transformOrigin"),h=ke(O,"yOrigin",(k?O:_).yOrigin,_.yOrigin,h,"transformOrigin"),M===O.xOffset&&E===O.yOffset||(h=ke(O,"xOffset",k?M:O.xOffset,O.xOffset,h,"transformOrigin"),h=ke(O,"yOffset",k?E:O.yOffset,O.yOffset,h,"transformOrigin")),C="0px 0px"),(C||Ue&&y&&O.zOrigin)&&(ze?(x=!0,p=Ge,C||(C=(C=(se(e,p,n,!1,"50% 50%")+"").split(" "))[0]+" "+C[1]+" "+O.zOrigin+"px"),C+="",(h=new Le(style,p,0,0,h,-1,"transformOrigin")).b=style[p],h.plugin=d,Ue?(v=O.zOrigin,C=C.split(" "),O.zOrigin=(C.length>2?parseFloat(C[2]):v)||0,h.xs0=h.e=C[0]+" "+(C[1]||"50%")+" 0px",(h=new Le(O,"zOrigin",0,0,h,-1,h.n)).b=v,h.xs0=h.e=O.zOrigin):h.xs0=h.e=C):me(C+"",O)),x&&(l._transformType=O.svg&&Re||!y&&3!==this._transformType?2:3),m&&(f.scale=m),h},allowFunc:!0,prefix:!0}),Oe("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Oe("clipPath",{defaultValue:"inset(0px)",prefix:!0,multi:!0,formatter:Se("inset(0px 0px 0px 0px)",!1,!0)}),Oe("borderRadius",{defaultValue:"0px",parser:function(e,r,p,o,l,c){r=this.format(r);var h,i,d,f,m,_,v,y,x,w,T,S,M,E,L,em,k=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],style=e.style;for(x=parseFloat(e.offsetWidth),w=parseFloat(e.offsetHeight),h=r.split(" "),i=0;i<k.length;i++)this.p.indexOf("border")&&(k[i]=re(k[i])),-1!==(m=f=se(e,k[i],n,!1,"0px")).indexOf(" ")&&(f=m.split(" "),m=f[0],f=f[1]),_=d=h[i],v=parseFloat(m),S=m.substr((v+"").length),(M="="===_.charAt(1))?(y=parseInt(_.charAt(0)+"1",10),_=_.substr(2),y*=parseFloat(_),T=_.substr((y+"").length-(y<0?1:0))||""):(y=parseFloat(_),T=_.substr((y+"").length)),""===T&&(T=t[p]||S),T!==S&&(E=le(e,"borderLeft",v,S),L=le(e,"borderTop",v,S),"%"===T?(m=E/x*100+"%",f=L/w*100+"%"):"em"===T?(m=E/(em=le(e,"borderLeft",1,"em"))+"em",f=L/em+"em"):(m=E+"px",f=L+"px"),M&&(_=parseFloat(m)+y+T,d=parseFloat(f)+y+T)),l=Ae(style,k[i],m+" "+f,_+" "+d,!1,"0px",l);return l},prefix:!0,formatter:Se("0px 0px 0px 0px",!1,!0)}),Oe("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,p,r,o,l){return Ae(e.style,p,this.format(se(e,p,n,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:Se("0px 0px",!1,!0)}),Oe("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,p,r,o,l){var c,h,i,d,f,m,_="background-position",v=n||oe(e),y=this.format((v?x?v.getPropertyValue(_+"-x")+" "+v.getPropertyValue(_+"-y"):v.getPropertyValue(_):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),w=this.format(t);if(-1!==y.indexOf("%")!=(-1!==w.indexOf("%"))&&w.split(",").length<2&&(m=se(e,"backgroundImage").replace(F,""))&&"none"!==m){for(c=y.split(" "),h=w.split(" "),Z.setAttribute("src",m),i=2;--i>-1;)(d=-1!==(y=c[i]).indexOf("%"))!==(-1!==h[i].indexOf("%"))&&(f=0===i?e.offsetWidth-Z.width:e.offsetHeight-Z.height,c[i]=d?parseFloat(y)/100*f+"px":parseFloat(y)/f*100+"%");y=c.join(" ")}return this.parseComplex(e.style,y,w,o,l)},formatter:me}),Oe("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:me(-1===e.indexOf(" ")?e+" "+e:e)}}),Oe("perspective",{defaultValue:"0px",prefix:!0}),Oe("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Oe("transformStyle",{prefix:!0}),Oe("backfaceVisibility",{prefix:!0}),Oe("userSelect",{prefix:!0}),Oe("margin",{parser:Me("marginTop,marginRight,marginBottom,marginLeft")}),Oe("padding",{parser:Me("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Oe("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,p,r,o,l){var b,c,h;return x<9?(c=e.currentStyle,h=x<8?" ":",",b="rect("+c.clipTop+h+c.clipRight+h+c.clipBottom+h+c.clipLeft+")",t=this.format(t).split(",").join(h)):(b=this.format(se(e,this.p,n,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,b,t,o,l)}}),Oe("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Oe("autoRound,strictUnits",{parser:function(e,t,p,n,r){return r}}),Oe("border",{defaultValue:"0px solid #000",parser:function(e,t,p,r,o,l){var c=se(e,"borderTopWidth",n,!1,"0px"),h=this.format(t).split(" "),d=h[0].replace(k,"");return"px"!==d&&(c=parseFloat(c)/le(e,"borderTopWidth",1,d)+d),this.parseComplex(e.style,this.format(c+" "+se(e,"borderTopStyle",n,!1,"solid")+" "+se(e,"borderTopColor",n,!1,"#000")),h.join(" "),o,l)},color:!0,formatter:function(e){var a=e.split(" ");return a[0]+" "+(a[1]||"solid")+" "+(e.match(Te)||["#000"])[0]}}),Oe("borderWidth",{parser:Me("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Oe("float,cssFloat,styleFloat",{parser:function(e,t,p,n,r,o){var s=e.style,l="cssFloat"in s?"cssFloat":"styleFloat";return new Le(s,l,0,0,r,-1,p,!1,0,s[l],t)}});var tt=function(e){var t,n=this.t,r=n.filter||se(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(n.removeAttribute("filter"),t=!se(this.data,"filter")):(n.filter=r.replace(O,""),t=!0)),t||(this.xn1&&(n.filter=r=r||"alpha(opacity="+o+")"),-1===r.indexOf("pacity")?0===o&&this.xn1||(n.filter=r+" alpha(opacity="+o+")"):n.filter=r.replace(A,"opacity="+o))};Oe("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,p,r,o,l){var b=parseFloat(se(e,"opacity",n,!1,"1")),style=e.style,c="autoAlpha"===p;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+b),c&&1===b&&"hidden"===se(e,"visibility",n)&&0!==t&&(b=0),Q?o=new Le(style,"opacity",b,t-b,o):((o=new Le(style,"opacity",100*b,100*(t-b),o)).xn1=c?1:0,style.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=l,o.setRatio=tt),c&&((o=new Le(style,"visibility",0,0,o,-1,null,!1,0,0!==b?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(p)),o}});var it=function(s,p){p&&(s.removeProperty?("ms"!==p.substr(0,2)&&"webkit"!==p.substr(0,6)||(p="-"+p),s.removeProperty(p.replace(R,"-$1").toLowerCase())):s.removeAttribute(p))},nt=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,s=this.t.style;t;)t.v?s[t.p]=t.v:it(s,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Oe("className",{parser:function(t,r,p,o,l,c,h){var d,f,m,_,v,b=t.getAttribute("class")||"",y=t.style.cssText;if((l=o._classNamePT=new Le(t,p,0,0,l,2)).setRatio=nt,l.pr=-11,e=!0,l.b=b,f=he(t,n),m=t._gsClassPT){for(_={},v=m.data;v;)_[v.p]=1,v=v._next;m.setRatio(1)}return t._gsClassPT=l,l.e="="!==r.charAt(1)?r:b.replace(new RegExp("(?:\\s|^)"+r.substr(2)+"(?![\\w-])"),"")+("+"===r.charAt(0)?" "+r.substr(2):""),t.setAttribute("class",l.e),d=ue(t,f,he(t),h,_),t.setAttribute("class",b),l.data=d.firstMPT,t.style.cssText=y,l=l.xfirst=o.parse(t,d.difs,l,c)}});var at=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var a,p,i,t,n,s=this.t.style,r=d.transform.parse;if("all"===this.e)s.cssText="",t=!0;else for(i=(a=this.e.split(" ").join("").split(",")).length;--i>-1;)p=a[i],d[p]&&(d[p].parse===r?t=!0:p="transformOrigin"===p?Ge:d[p].p),it(s,p);t&&(it(s,ze),(n=this.t._gsTransform)&&(n.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Oe("clearProps",{parser:function(t,n,p,r,o){return(o=new Le(t,p,0,0,o,2)).setRatio=at,o.e=n,o.pr=-10,o.data=r._tween,e=!0,o}}),p="bezier,throwProps,physicsProps,physics2D".split(","),i=p.length;i--;)Ce(p[i]);(p=c.prototype)._firstPT=p._lastParsedTransform=p._transform=null,p._onInitTween=function(r,o,h,v){if(!r.nodeType)return!1;this._target=w=r,this._tween=h,this._vars=o,T=v,f=o.autoRound,e=!1,t=o.suffixMap||c.suffixMap,n=oe(r),l=this._overwriteProps;var x,S,M,E,L,k,A,O,C,style=r.style;if(m&&""===style.zIndex&&("auto"!==(x=se(r,"zIndex",n))&&""!==x||this._addLazySet(style,"zIndex",0)),"string"==typeof o&&(E=style.cssText,x=he(r,n),style.cssText=E+";"+o,x=ue(r,x,he(r)).difs,!Q&&P.test(o)&&(x.opacity=parseFloat(RegExp.$1)),o=x,style.cssText=E),o.className?this._firstPT=S=d.className.parse(r,o.className,"className",this,null,null,o):this._firstPT=S=this.parse(r,o,null),this._transformType){for(C=3===this._transformType,ze?_&&(m=!0,""===style.zIndex&&("auto"!==(A=se(r,"zIndex",n))&&""!==A||this._addLazySet(style,"zIndex",0)),y&&this._addLazySet(style,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(C?"visible":"hidden"))):style.zoom=1,M=S;M&&M._next;)M=M._next;O=new Le(r,"transform",0,0,null,2),this._linkCSSP(O,null,M),O.setRatio=ze?et:Qe,O.data=this._transform||Je(r,n,!0),O.tween=h,O.pr=-1,l.pop()}if(e){for(;S;){for(k=S._next,M=E;M&&M.pr>S.pr;)M=M._next;(S._prev=M?M._prev:L)?S._prev._next=S:E=S,(S._next=M)?M._prev=S:L=S,S=k}this._firstPT=E}return!0},p.parse=function(e,r,o,l){var p,c,h,m,_,v,y,x,S,M,style=e.style;for(p in r){if(v=r[p],c=d[p],"function"!=typeof v||c&&c.allowFunc||(v=v(T,w)),c)o=c.parse(e,v,p,this,o,l,r);else{if("--"===p.substr(0,2)){this._tween._propLookup[p]=this._addTween.call(this._tween,e.style,"setProperty",oe(e).getPropertyValue(p)+"",v+"",p,!1,p);continue}_=se(e,p,n)+"",S="string"==typeof v,"color"===p||"fill"===p||"stroke"===p||-1!==p.indexOf("Color")||S&&C.test(v)?(S||(v=((v=be(v)).length>3?"rgba(":"rgb(")+v.join(",")+")"),o=Ae(style,p,_,v,!0,"transparent",o,0,l)):S&&B.test(v)?o=Ae(style,p,_,v,!0,null,o,0,l):(y=(h=parseFloat(_))||0===h?_.substr((h+"").length):"",""!==_&&"auto"!==_||("width"===p||"height"===p?(h=fe(e,p,n),y="px"):"left"===p||"top"===p?(h=ce(e,p,n),y="px"):(h="opacity"!==p?0:1,y="")),(M=S&&"="===v.charAt(1))?(m=parseInt(v.charAt(0)+"1",10),v=v.substr(2),m*=parseFloat(v),x=v.replace(k,"")):(m=parseFloat(v),x=S?v.replace(k,""):""),""===x&&(x=p in t?t[p]:y),v=m||0===m?(M?m+h:m)+x:r[p],y!==x&&(""===x&&"lineHeight"!==p||(m||0===m)&&h&&(h=le(e,p,h,y),"%"===x?(h/=le(e,p,100,"%")/100,!0!==r.strictUnits&&(_=h+"%")):"em"===x||"rem"===x||"vw"===x||"vh"===x?h/=le(e,p,1,x):"px"!==x&&(m=le(e,p,m,x),x="px"),M&&(m||0===m)&&(v=m+h+x))),M&&(m+=h),!h&&0!==h||!m&&0!==m?void 0!==style[p]&&(v||v+""!="NaN"&&null!=v)?(o=new Le(style,p,m||h||0,0,o,-1,p,!1,0,_,v)).xs0="none"!==v||"display"!==p&&-1===p.indexOf("Style")?v:_:te("invalid "+p+" tween value: "+r[p]):(o=new Le(style,p,h,m-h,o,0,p,!1!==f&&("px"===x||"zIndex"===p),0,_,v)).xs0=x)}l&&o&&!o.plugin&&(o.plugin=l)}return o},p.setRatio=function(e){var t,n,i,r=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(t=r.c*e+r.s,r.r?t=r.r(t):t<1e-6&&t>-1e-6&&(t=0),r.type)if(1===r.type)if(2===(i=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===i)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(t=r.r(r.s+r.c),r.type){if(1===r.type){for(i=r.l,n=r.xs0+t+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.t[r.p]=n}}else r.t[r.p]=t+r.xs0;else r.t[r.p]=r.e;else r.setRatio(e);r=r._next}},p._enableTransforms=function(e){this._transform=this._transform||Je(this._target,n,!0),this._transformType=this._transform.svg&&Re||!e&&3!==this._transformType?2:3};var ot=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(e,p,t){var n=this._firstPT=new Le(e,p,0,0,this._firstPT,2);n.e=t,n.setRatio=ot,n.data=this},p._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,r=!0),n?n._next=e:r||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},p._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},p._kill=function(e){var t,p,n,r=e;if(e.autoAlpha||e.alpha){for(p in r={},e)r[p]=e[p];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(e.className&&(t=this._classNamePT)&&((n=t.xfirst)&&n._prev?this._linkCSSP(n._prev,t._next,n._prev._prev):n===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,n._prev),this._classNamePT=null),t=this._firstPT;t;)t.plugin&&t.plugin!==p&&t.plugin._kill&&(t.plugin._kill(e),p=t.plugin),t=t._next;return o.TweenPlugin.prototype._kill.call(this,r)};var st=function e(t,n,r){var o,i,l,c;if(t.slice)for(i=t.length;--i>-1;)e(t[i],n,r);else for(i=(o=t.childNodes).length;--i>-1;)c=(l=o[i]).type,l.style&&(n.push(he(l)),r&&r.push(l)),1!==c&&9!==c&&11!==c||!l.childNodes.length||e(l,n,r)};return c.cascadeTo=function(e,t,n){var i,r,p,l,c=o.default.to(e,t,n),h=[c],b=[],d=[],f=[],m=o.default._internals.reservedProps;for(e=c._targets||c.target,st(e,b,f),c.render(t,!0,!0),st(e,d),c.render(0,!0,!0),c._enabled(!0),i=f.length;--i>-1;)if((r=ue(f[i],b[i],d[i])).firstMPT){for(p in r=r.difs,n)m[p]&&(r[p]=n[p]);for(p in l={},r)l[p]=b[i][p];h.push(o.default.fromTo(f[i],t,l,r))}return h},o.TweenPlugin.activate([c]),c}),!0);var l=o.globals.CSSPlugin},function(e,t,n){"use strict";n.r(t),n.d(t,"ScrollToPlugin",(function(){return _})),n.d(t,"default",(function(){return _}));var r=n(7),o=n(1),l=(o._gsScope.document||{}).documentElement,c=o._gsScope,h=function(element,e){var t="x"===e?"Width":"Height",n="scroll"+t,r="client"+t,body=document.body;return element===c||element===l||element===body?Math.max(l[n],body[n])-(c["inner"+t]||l[r]||body[r]):element[n]-element["offset"+t]},d=function(e,t){var p="scroll"+("x"===t?"Left":"Top");return e===c&&(null!=e.pageXOffset?p="page"+t.toUpperCase()+"Offset":e=null!=l[p]?l:document.body),function(){return e[p]}},f=function(element,e){var t,rect=(t=element,"string"==typeof t&&(t=TweenLite.selector(t)),t.length&&t!==c&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===c||t.nodeType&&t.style?t:null).getBoundingClientRect(),b=document.body,n=!e||e===c||e===b,r=n?{top:l.clientTop-(window.pageYOffset||l.scrollTop||b.scrollTop||0),left:l.clientLeft-(window.pageXOffset||l.scrollLeft||b.scrollLeft||0)}:e.getBoundingClientRect(),o={x:rect.left-r.left,y:rect.top-r.top};return!n&&e&&(o.x+=d(e,"x")(),o.y+=d(e,"y")()),o},m=function(e,t,n,o){var l=Object(r.a)(e);return isNaN(e)?"string"===l&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+o:"max"===e?h(t,n):Math.min(h(t,n),f(e,t)[n]):parseFloat(e)},_=o._gsScope._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.2",init:function(e,t,n){return this._wdw=e===c,this._target=e,this._tween=n,"object"!==Object(r.a)(t)?"string"==typeof(t={y:t}).y&&"max"!==t.y&&"="!==t.y.charAt(1)&&(t.x=t.y):t.nodeType&&(t={y:t,x:t}),this.vars=t,this._autoKill=!1!==t.autoKill,this.getX=d(e,"x"),this.getY=d(e,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=t.x?(this._addTween(this,"x",this.x,m(t.x,e,"x",this.x)-(t.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=t.y?(this._addTween(this,"y",this.y,m(t.y,e,"y",this.y)-(t.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(e){this._super.setRatio.call(this,e);var t=this._wdw||!this.skipX?this.getX():this.xPrev,n=this._wdw||!this.skipY?this.getY():this.yPrev,r=n-this.yPrev,o=t-this.xPrev,l=_.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(o>l||o<-l)&&t<h(this._target,"x")&&(this.skipX=!0),!this.skipY&&(r>l||r<-l)&&n<h(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?c.scrollTo(this.skipX?t:this.x,this.skipY?n:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),p=_.prototype;_.max=h,_.getOffset=f,_.buildGetter=d,_.autoKillThreshold=7,p._kill=function(e){return e.scrollTo_x&&(this.skipX=!0),e.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"DrawSVGPlugin",(function(){return r})),n.d(t,"default",(function(){return r}));n(29);var r,o=n(1),l=o._gsScope.document,c="undefined"!=typeof window?window:l.defaultView||{getComputedStyle:function(){}},h=function(e){return c.getComputedStyle(e)},d=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,f=-1!==((o._gsScope.navigator||{}).userAgent||"").indexOf("Edge"),m={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]};function _(e,t,n,r,o,l){return n=(parseFloat(n||0)-parseFloat(e||0))*o,r=(parseFloat(r||0)-parseFloat(t||0))*l,Math.sqrt(n*n+r*r)}function v(element){return"string"!=typeof element&&element.nodeType||(element=o._gsScope.TweenLite.selector(element)).length&&(element=element[0]),element}function y(element){if(!element)return 0;var e,t,n,r,i,o,l,c=(element=v(element)).tagName.toLowerCase(),h=1,f=1;"non-scaling-stroke"===element.getAttribute("vector-effect")&&(f=element.getScreenCTM(),h=Math.sqrt(f.a*f.a+f.b*f.b),f=Math.sqrt(f.d*f.d+f.c*f.c));try{t=element.getBBox()}catch(e){console.log("Error: Some browsers like Firefox won't report measurements of invisible elements (like display:none or masks inside defs).")}if(t&&(t.width||t.height)||!m[c]||(t={width:parseFloat(element.getAttribute(m[c][0])),height:parseFloat(element.getAttribute(m[c][1]))},"rect"!==c&&"line"!==c&&(t.width*=2,t.height*=2),"line"===c&&(t.x=parseFloat(element.getAttribute("x1")),t.y=parseFloat(element.getAttribute("y1")),t.width=Math.abs(t.width-t.x),t.height=Math.abs(t.height-t.y))),"path"===c)r=element.style.strokeDasharray,element.style.strokeDasharray="none",e=element.getTotalLength()||0,h!==f&&console.log("Warning: <path> length cannot be measured accurately when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),e*=(h+f)/2,element.style.strokeDasharray=r;else if("rect"===c)e=2*t.width*h+2*t.height*f;else if("line"===c)e=_(t.x,t.y,t.x+t.width,t.y+t.height,h,f);else if("polyline"===c||"polygon"===c)for(n=element.getAttribute("points").match(d)||[],"polygon"===c&&n.push(n[0],n[1]),e=0,i=2;i<n.length;i+=2)e+=_(n[i-2],n[i-1],n[i],n[i+1],h,f)||0;else"circle"!==c&&"ellipse"!==c||(o=t.width/2*h,l=t.height/2*f,e=Math.PI*(3*(o+l)-Math.sqrt((3*o+l)*(o+3*l))));return e||0}function x(element,e){if(!element)return[0,0];element=v(element),e=e||y(element)+1;var t=h(element),n=t.strokeDasharray||"",r=parseFloat(t.strokeDashoffset),i=n.indexOf(",");return i<0&&(i=n.indexOf(" ")),(n=i<0?e:parseFloat(n.substr(0,i))||1e-5)>e&&(n=e),[Math.max(0,-r),Math.max(0,n-r)]}(r=o._gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.2.1",global:!0,overwriteProps:["drawSVG"],init:function(e,t,n,r){if(!e.getBBox)return!1;var o,l,c,d,m=y(e)+1;return this._style=e.style,this._target=e,"function"==typeof t&&(t=t(r,e)),!0===t||"true"===t?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",l=function(e,t,n){var s,r,i=e.indexOf(" ");return-1===i?(s=void 0!==n?n+"":e,r=e):(s=e.substr(0,i),r=e.substr(i+1)),(s=-1!==s.indexOf("%")?parseFloat(s)/100*t:parseFloat(s))>(r=-1!==r.indexOf("%")?parseFloat(r)/100*t:parseFloat(r))?[r,s]:[s,r]}(t,m,(o=x(e,m))[0]),this._length=m+10,0===o[0]&&0===l[0]?(c=Math.max(1e-5,l[1]-m),this._dash=m+c,this._offset=m-o[1]+c,this._offsetPT=this._addTween(this,"_offset",this._offset,m-l[1]+c,"drawSVG")):(this._dash=o[1]-o[0]||1e-6,this._offset=-o[0],this._dashPT=this._addTween(this,"_dash",this._dash,l[1]-l[0]||1e-5,"drawSVG"),this._offsetPT=this._addTween(this,"_offset",this._offset,-l[0],"drawSVG")),f&&(d=h(e)).strokeLinecap!==d.strokeLinejoin&&(l=parseFloat(d.strokeMiterlimit),this._addTween(e.style,"strokeMiterlimit",l,l+1e-4,"strokeMiterlimit")),this._live="non-scaling-stroke"===e.getAttribute("vector-effect")||-1!==(t+"").indexOf("live"),!0},set:function(e){if(this._firstPT){if(this._live){var t,n=y(this._target)+11;n!==this._length&&(t=n/this._length,this._length=n,this._offsetPT.s*=t,this._offsetPT.c*=t,this._dashPT?(this._dashPT.s*=t,this._dashPT.c*=t):this._dash*=t)}this._super.setRatio.call(this,e),this._style.strokeDashoffset=this._offset,this._style.strokeDasharray=1===e||0===e?this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._dash+"px,"+this._length+"px"}}})).getLength=y,r.getPosition=x},function(e,t,n){"use strict";n.r(t),n.d(t,"CustomEase",(function(){return o})),n.d(t,"default",(function(){return o}));n(22),n(29);var r=n(1);r._gsScope._gsDefine("easing.CustomEase",["easing.Ease"],(function(){var e=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,t=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,o=/[cLlsS]/g,l="CustomEase only accepts Cubic Bezier data.",c=function e(t,n,r,o,l,c,h,d,f,m,_){var v,y=(t+r)/2,x=(n+o)/2,w=(r+l)/2,T=(o+c)/2,S=(l+h)/2,M=(c+d)/2,E=(y+w)/2,L=(x+T)/2,k=(w+S)/2,A=(T+M)/2,P=(E+k)/2,O=(L+A)/2,C=h-t,R=d-n,I=Math.abs((r-h)*R-(o-d)*C),F=Math.abs((l-h)*R-(c-d)*C);return m||(m=[{x:t,y:n},{x:h,y:d}],_=1),m.splice(_||m.length-1,0,{x:P,y:O}),(I+F)*(I+F)>f*(C*C+R*R)&&(v=m.length,e(t,n,y,x,E,L,P,O,f,m,_),e(P,O,k,A,S,M,h,d,f,m,_+1+(m.length-v))),m},h=function(p){var e=this.lookup[p*this.l|0]||this.lookup[this.l-1];return e.nx<p&&(e=e.n),e.y+(p-e.x)/e.cx*e.cy},d=function(e,data,t){this._calcEnd=!0,this.id=e,e&&(r.Ease.map[e]=this),this.getRatio=h,this.setData(data,t)},p=d.prototype=new r.Ease;return p.constructor=d,p.setData=function(data,r){var h,d,f,i,m,_,v,y,p,x,w=(data=data||"0,0,1,1").match(e),T=1,S=[];if(x=(r=r||{}).precision||1,this.data=data,this.lookup=[],this.points=S,this.fast=x<=1,(o.test(data)||-1!==data.indexOf("M")&&-1===data.indexOf("C"))&&(w=function(e){var i,r,o,c,h,d,f,m,_,v,y,a=(e+"").replace(n,(function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t})).match(t)||[],path=[],x=0,w=0,T=a.length,S=2;for(i=0;i<T;i++)if(_=c,isNaN(a[i])?h=(c=a[i].toUpperCase())!==a[i]:i--,r=+a[i+1],o=+a[i+2],h&&(r+=x,o+=w),i||(f=r,m=o),"M"===c)d&&d.length<8&&(path.length-=1,S=0),x=f=r,w=m=o,d=[r,o],S=2,path.push(d),i+=2,c="L";else if("C"===c)d||(d=[0,0]),d[S++]=r,d[S++]=o,h||(x=w=0),d[S++]=x+1*a[i+3],d[S++]=w+1*a[i+4],d[S++]=x+=1*a[i+5],d[S++]=w+=1*a[i+6],i+=6;else if("S"===c)"C"===_||"S"===_?(v=x-d[S-4],y=w-d[S-3],d[S++]=x+v,d[S++]=w+y):(d[S++]=x,d[S++]=w),d[S++]=r,d[S++]=o,h||(x=w=0),d[S++]=x+=1*a[i+3],d[S++]=w+=1*a[i+4],i+=4;else{if("L"!==c&&"Z"!==c)throw l;"Z"===c&&(r=f,o=m,d.closed=!0),("L"===c||Math.abs(x-r)>.5||Math.abs(w-o)>.5)&&(d[S++]=x+(r-x)/3,d[S++]=w+(o-w)/3,d[S++]=x+2*(r-x)/3,d[S++]=w+2*(o-w)/3,d[S++]=r,d[S++]=o,"L"===c&&(i+=2)),x=r,w=o}return path[0]}(data)),4===(h=w.length))w.unshift(0,0),w.push(1,1),h=8;else if((h-2)%6)throw l;for(0==+w[0]&&1==+w[h-2]||function(e,t,n){n||0===n||(n=Math.max(+e[e.length-1],+e[1]));var i,r=-1*+e[0],o=-n,l=e.length,c=1/(+e[l-2]+r),h=-t||(Math.abs(+e[l-1]-+e[1])<.01*(+e[l-2]-+e[0])?function(e){var i,t=e.length,n=999999999999;for(i=1;i<t;i+=6)+e[i]<n&&(n=+e[i]);return n}(e)+o:+e[l-1]+o);for(h=h?1/h:-c,i=0;i<l;i+=2)e[i]=(+e[i]+r)*c,e[i+1]=(+e[i+1]+o)*h}(w,r.height,r.originY),this.rawBezier=w,i=2;i<h;i+=6)d={x:+w[i-2],y:+w[i-1]},f={x:+w[i+4],y:+w[i+5]},S.push(d,f),c(d.x,d.y,+w[i],+w[i+1],+w[i+2],+w[i+3],f.x,f.y,1/(2e5*x),S,S.length-1);for(h=S.length,i=0;i<h;i++)v=S[i],y=S[i-1]||v,v.x>y.x||y.y!==v.y&&y.x===v.x||v===y?(y.cx=v.x-y.x,y.cy=v.y-y.y,y.n=v,y.nx=v.x,this.fast&&i>1&&Math.abs(y.cy/y.cx-S[i-2].cy/S[i-2].cx)>2&&(this.fast=!1),y.cx<T&&(y.cx?T=y.cx:(y.cx=.001,i===h-1&&(y.x-=.001,T=Math.min(T,.001),this.fast=!1)))):(S.splice(i--,1),h--);if(h=1/T+1|0,this.l=h,m=1/h,_=0,v=S[0],this.fast){for(i=0;i<h;i++)p=i*m,v.nx<p&&(v=S[++_]),d=v.y+(p-v.x)/v.cx*v.cy,this.lookup[i]={x:p,cx:m,y:d,cy:0,nx:9},i&&(this.lookup[i-1].cy=d-this.lookup[i-1].y);this.lookup[h-1].cy=S[S.length-1].y-d}else{for(i=0;i<h;i++)v.nx<i*m&&(v=S[++_]),this.lookup[i]=v;_<S.length-1&&(this.lookup[i-1]=S[S.length-2])}return this._calcEnd=1!==S[S.length-1].y||0!==S[0].y,this},p.getRatio=h,p.getSVGData=function(e){return d.getSVGData(this,e)},d.create=function(e,data,t){return new d(e,data,t)},d.version="0.2.2",d.bezierToPoints=c,d.get=function(e){return r.Ease.map[e]},d.getSVGData=function(e,t){var a,n,i,o,l,c,h,d,f,m,_=(t=t||{}).width||100,v=t.height||100,y=t.x||0,x=(t.y||0)+v,w=t.path;if(t.invert&&(v=-v,x=0),(e=e.getRatio?e:r.Ease.map[e]||console.log("No ease found: ",e)).rawBezier){for(a=[],h=e.rawBezier.length,i=0;i<h;i+=2)a.push((1e3*(y+e.rawBezier[i]*_)|0)/1e3+","+(1e3*(x+e.rawBezier[i+1]*-v)|0)/1e3);a[0]="M"+a[0],a[1]="C"+a[1]}else for(a=["M"+y+","+x],o=1/(h=Math.max(5,200*(t.precision||1))),d=5/(h+=2),f=(1e3*(y+o*_)|0)/1e3,n=((m=(1e3*(x+e.getRatio(o)*-v)|0)/1e3)-x)/(f-y),i=2;i<h;i++)l=(1e3*(y+i*o*_)|0)/1e3,c=(1e3*(x+e.getRatio(i*o)*-v)|0)/1e3,(Math.abs((c-m)/(l-f)-n)>d||i===h-1)&&(a.push(f+","+m),n=(c-m)/(l-f)),f=l,m=c;return w&&("string"==typeof w?document.querySelector(w):w).setAttribute("d",a.join(" ")),a.join(" ")},d}),!0);var o=r.globals.CustomEase},,,function(e,t){window.__IS_RETINA__=!1,window.devicePixelRatio>1&&(__IS_RETINA__=!0),window.$html=document.querySelectorAll("html")[0],window.$body=document.querySelectorAll("body")[0],window.$video=document.getElementById("js--video"),window.__TODAY__=new Date,window.__QUERY__="?v=1.0.8",window.__ENV__={skip:!1,autojump:!0,mouse:!0,hole:!0},window.__ANIM__=.67,window.detectWebGLContext=function(){var canvas=document.createElement("canvas"),e=canvas.getContext("webgl")||canvas.getContext("experimental-webgl");return!!(e&&e instanceof WebGLRenderingContext)},window.__FONTS__={fontFamily:'"Neue", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", Meiryo, メイリオ, sans-serif',fontWeight:"700",lineGap:-.13,padding:10*window.devicePixelRatio,fontSize:{vw:6.7,vh:10.88,useVW:!0}},window.__RGB__={home:{opacity:.6,rgb:.05},single:{opacity:.9,rgb:.04},works:{opacity:.85,rgb:.04}},window.__COL_B__=6,window.__COL_BLACK__="rgb("+__COL_B__+","+__COL_B__+","+__COL_B__+")",window.__COL_M__=__COL_B__/2,window.__COL_MBLACK__="rgb("+__COL_M__+","+__COL_M__+","+__COL_M__+")",window.__COL_W__=250,window.__COL_WHITE__="rgb("+__COL_W__+","+__COL_W__+","+__COL_W__+")",window.__COL_STROKE_WHITE__="rgba("+__COL_W__+","+__COL_W__+","+__COL_W__+", 0.2 )",window.__COL_A__=.5,window.__PAGE_TYPE__=null,window.__EASE_1__=CustomEase.create("custom","M0,0 C0.212,0 0.247,0.014 0.326,0.09 0.402,0.164 0.414,0.196 0.44,0.376 0.44,0.376 0.478,0.536 0.498,0.64 0.536,0.84 0.63,0.978 1,1"),window.__WT__=0,window.__MT__=0,window.__WTP__=0,window.__WH__=window.innerHeight,window.__WW__=window.innerWidth,window.__WO__="yoko",window.__WIN__=0,window.__LEGACY__=!1,window.__LOWSPEC__=!1,window.__MIDSPEC__=!1,window.__BROWSER__="",window.__UA__=window.navigator.userAgent.toLowerCase(),window.__UA_VER__=window.navigator.appVersion.toLowerCase(),-1!=window.navigator.platform.indexOf("Win")&&(__WIN__=1),-1!==__UA__.indexOf("edge")?(__BROWSER__="Edge",__LEGACY__=!0,$html.classList.add("is-edge")):-1!==__UA__.indexOf("iemobile")?(__BROWSER__="ieMobile",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-iemobile")):-1!==__UA__.indexOf("trident/7")?(__BROWSER__="ie11",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA__.indexOf("msie")&&-1===__UA__.indexOf("opera")?-1!==__UA_VER__.indexOf("msie 6.")?(__BROWSER__="ie6",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 7.")?(__BROWSER__="ie7",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 8.")?(__BROWSER__="ie8",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 9.")?(__BROWSER__="ie9",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA_VER__.indexOf("msie 10.")&&(__BROWSER__="ie10",__LEGACY__=!0,__LOWSPEC__=!0,$html.classList.add("is-ie")):-1!==__UA__.indexOf("chrome")&&-1===__UA__.indexOf("edge")?(__BROWSER__="chrome",$html.classList.add("is-chrome")):-1!==__UA__.indexOf("safari")&&-1===__UA__.indexOf("chrome")?(__MIDSPEC__=!0,__BROWSER__="safari",$html.classList.add("is-safari")):-1!==__UA__.indexOf("opera")?(__BROWSER__="opera",$html.classList.add("is-opera")):-1!==__UA__.indexOf("firefox")?(__BROWSER__="firefox",$html.classList.add("is-firefox")):(__BROWSER__="unknown",$html.classList.add("is-unknown")),detectWebGLContext||(__LEGACY__=!0,__LOWSPEC__=!0),__LEGACY__&&$html.classList.add("is-legacy"),__LOWSPEC__&&$html.classList.add("is-low")},function(e,t,n){"use strict";n.r(t);var r=n(160),o=n.n(r),l=n(161),c=n.n(l);window.backGL={__Flag_ok__:!1,scale:1,width:0,height:0,firstview:null,effect:5,anim:{mag_power:{from:.5,to:2,value:0,power:1},mag_radius:{from:1,to:1.5,value:0,power:1},nz_power:{from:0,to:.3,value:0,power:1}},once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas=document.getElementById("js--gl-back"),this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!1,antialias:!1}),this.renderer.setSize(this.width*this.scale,this.height*this.scale),this.scene=new THREE.Scene,this.scene.background=new THREE.Color(__COL_BLACK__),this.camera=new THREE.PerspectiveCamera(90,this.width/this.height,.1,this.height/2),this.camera.position.z=this.height/2,this.stage=new THREE.Group,this.scene.add(this.stage),this.anim.mag_power.from=0,this.anim.mag_power.value=0,this.anim.mag_radius.from=1.5,this.anim.mag_radius.value=1.5},onLoadAssets:function(){},onLoaded:function(){switch(this.geometry=new THREE.PlaneBufferGeometry(1,1,1,1),this.material=new THREE.ShaderMaterial({visible:!0,transparent:!0,uniforms:{pixel_rario:{value:1/this.scale},tDiffuse:{type:"t",value:null},is_desktop:{value:0},fxaa:{type:"v2",value:new THREE.Vector2},resolution:{type:"v2",value:new THREE.Vector2},effect:{value:this.effect},wheel_power:{type:"f",value:0},mag_power:{type:"f",value:0},mag_radius:{type:"f",value:0},mouse:{type:"v2",value:new THREE.Vector2},pivot:{type:"v2",value:new THREE.Vector2},nz_position:{value:new THREE.Vector2},nz_time:{value:0},nz_power:{type:"f",value:0},rgb:{value:__COL_B__/255},is_subpages:{value:0},offsetX:{type:"f",value:0},offsetY:{type:"f",value:0},scale:{type:"f",value:1},opacity:{type:"f",value:1}},vertexShader:c.a,fragmentShader:o.a}),__PAGE_TYPE__){case"home":this.material.uniforms.tDiffuse.value=this.__HOME__.fbo.texture;break;case"single":__IS_PICKUP__?this.material.uniforms.tDiffuse.value=this.__HOME__.fbo.texture:this.material.uniforms.tDiffuse.value=this.__SINGLE__.fbo.texture;break;case"works":case"reel":this.material.uniforms.tDiffuse.value=null;break;case"about":case"contact":isMobileFixed.any||(this.material.uniforms.tDiffuse.value=this.__FOOTER__.fbo.texture)}this.material.uniforms.mouse.value.x=mouse.fx,this.material.uniforms.mouse.value.y=mouse.fy,this.material.uniforms.pivot.value.y=.5,this.material.uniforms.pivot.value.x=.5,this.material.uniforms.nz_position.value.x=3,this.material.uniforms.nz_position.value.y=1,this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.material.uniforms.fxaa.value.x=1/this.width,this.material.uniforms.fxaa.value.y=1/this.height,isMobileFixed.any?this.material.uniforms.is_desktop.value=0:this.material.uniforms.is_desktop.value=1,this.firstview=new THREE.Mesh(this.geometry,this.material),this.firstview.scale.set(this.width,this.height,1),this.firstview.position.z=2,this.scene.add(this.firstview)},normal:0,onUpdate:function(){switch(isMobileFixed.any?__WW__<__WH__?(this.material.uniforms.mag_power.value=1,this.material.uniforms.mag_radius.value=1):(this.material.uniforms.mag_power.value=0,this.material.uniforms.mag_radius.value=0):(this.material.uniforms.mag_radius.value=this.anim.mag_radius.value,this.material.uniforms.nz_power.value=(1-this.normal)*(this.anim.nz_power.power*this.anim.nz_power.value),this.material.uniforms.mag_power.value=this.anim.mag_power.value),__PAGE_TYPE__){case"home":this.material.visible=!0,this.material.uniforms.mouse.value.x=mouse.fx,this.material.uniforms.mouse.value.y=mouse.fy,this.firstview.position.y=0,this.material.uniforms.offsetY.value=0,__WIN__?this.material.uniforms.wheel_power.value=Math.abs(1.5*fakeWheel.speed.pow1)+.05:this.material.uniforms.wheel_power.value=Math.min(Math.abs(2*fakeWheel.speed.pow1),.36),this.material.uniforms.is_subpages.value=0;break;case"single":this.material.uniforms.is_subpages.value=0,this.material.uniforms.wheel_power.value=0,fakeScroll.body.y>=fakeScroll.total_height-2.5*__WH__||(this.firstview.position.y>__WH__?(this.material.visible=!1,this.firstview.position.y=0,this.material.uniforms.offsetY.value=0):(this.material.visible=!0,this.firstview.position.y=fakeScroll.body.y,this.material.uniforms.offsetY.value=-fakeScroll.body.y/__WH__*.9));break;case"about":case"contact":this.material.uniforms.mouse.value.x=mouse.sx,this.material.uniforms.mouse.value.y=mouse.sy,this.material.uniforms.mag_power.value=this.anim.mag_power.from,this.material.uniforms.mag_radius.value=this.anim.mag_radius.from,this.material.uniforms.nz_power.value=this.anim.nz_power.from,this.material.uniforms.offsetY.value=0,this.material.uniforms.is_subpages.value=1,this.material.visible=!0,this.firstview.position.y=0;break;case"works":case"reel":this.material.uniforms.mouse.value.x=mouse.sx,this.material.uniforms.mouse.value.y=mouse.sy,this.material.uniforms.mag_power.value=this.anim.mag_power.from,this.material.uniforms.mag_radius.value=this.anim.mag_radius.from,this.material.uniforms.nz_power.value=this.anim.nz_power.from,this.material.uniforms.offsetY.value=0,this.material.uniforms.is_subpages.value=0,this.material.visible=!1,this.firstview.position.y=0}isMobileFixed.any&&(this.material.uniforms.mouse.value.x=.5,this.material.uniforms.mouse.value.y=.5)},onResize:function(){this.width=__WW__,this.height=__WH__,this.renderer.setSize(this.width*this.scale,this.height*this.scale),this.camera.aspect=this.width/this.height,this.camera.position.z=this.height/2,this.camera.far=this.height/2,this.camera.updateProjectionMatrix(),this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.firstview.scale.set(this.width,this.height,1)},tweens:[],onZoomIn:function(e){var t;Power2;this.material.uniforms.nz_time.value=100*Math.random();for(var i=this.tweens.length-1;i>=0;i--)this.tweens[i]&&this.tweens[i].kill();this.tweens=[],(t=new TimelineLite).to(this.anim.mag_power,.5*e,{value:this.anim.mag_power.to,ease:Power2.easeIn}),t.to(this.anim.mag_power,e,{value:this.anim.mag_power.from,ease:Power2.easeOut}),this.tweens.push(t),t.to(this.anim.mag_radius,1.5*e,{value:this.anim.mag_radius.to,ease:Power2.easeInOut}),this.tweens.push(t),(t=new TimelineLite).to(this.anim.nz_power,.5*e,{value:this.anim.nz_power.to,ease:Power2.easeIn}),t.to(this.anim.nz_power,e,{value:this.anim.nz_power.from,ease:Power2.easeOut}),this.tweens.push(t)},onReset:function(){}}},function(e,t,n){"use strict";n.r(t);n(4);var r=n(162),o=n.n(r),l=n(163),c=n.n(l);backGL.__HOME__={__Flag_ok__:!1,__Flag_splash__:!1,default:{stage:{wrap:.7,x:0,y:.38,deg:.3,padding:{top:0},offset:{x:-.033}},planes:{x:1,y:1},offset:{x:0,y:.2},skew:{x:0,y:0},uniforms:{from:{scale:1.1,opacity:__RGB__.home.opacity,rgb:__RGB__.home.rgb,gradient:0},to:{scale:1,opacity:__RGB__.single.opacity,rgb:__RGB__.single.rgb,gradient:1}}},height:0,padding:0,total:0,scroll_ratio:1,total_height:0,total_width:0,max_width:0,align:"left",zoom:{ing:!1,tween:null,enable:!1,scale:.8,stage:{z:0,x:0},plane:{x:0,y:0,z:0},pow:0},slideTo:{y:0,py:0,ease:.3},once:function(){for(var i=0;i<__POSTS__.length;i++)__POSTS__[i].is_clone||this.total++;if(isMobileFixed.any)this.align="center",this.scroll_ratio=.33,this.default.stage.x=0,this.default.stage.y=1.1,this.default.stage.deg=0,this.default.stage.padding.top=0,this.default.uniforms.from.scale=1,this.default.uniforms.from.opacity=.55,this.default.uniforms.from.rgb=.08,this.default.uniforms.from.gradient=0,this.default.uniforms.to.scale=1,this.default.uniforms.to.opacity=.55,this.default.uniforms.to.rgb=.08,this.default.uniforms.to.gradient=0,this.default.planes.x=2*this.default.stage.deg*__WH__/__WW__,this.default.stage.offset.x=0,this.default.offset.y=.5,this.loop.enable=!1,this.center.index=3;else{var e=(2*Math.random()-1)/100;this.default.stage.y=this.default.stage.y+e,this.default.stage.padding.top=(this.default.stage.wrap-this.default.stage.y)/2}this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,backGL.width/backGL.height,.1,900),this.camera.position.z=backGL.height/2,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage),this.onResize();var t={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};this.fbo=new THREE.WebGLRenderTarget(backGL.width,backGL.height,t),this.fbo.texture.name="HOME"},onLoadAssets:function(){this.onLoadMesh()},onLoadMesh:function(){var e=this;__POSTS__.forEach((function(t,i){var n=getImageSrc(t.img.src.d1x,t.img.src.d2x),r=new THREE.TextureLoader(loading.contents);r.crossOrigin="anonymous",r.load(n,(function(n){var r=n.image.naturalWidth,o=n.image.naturalHeight;if(t.size.origin.w=r,t.size.origin.h=o,t.size.ratio=t.size.origin.w/t.size.origin.h,t.size.scaled.h=e.height,t.size.scaled.w=e.height*t.size.ratio,t.size.zoomed.h=__WH__,t.size.zoomed.w=__WH__*t.size.ratio,n.minFilter=THREE.LinearFilter,t.img.tex=n,"video"===t.type){if(!document.querySelectorAll("#post_id_"+t.post_id).length){var l="";t.video.mp4_2x&&(l='<source src="'+t.video.mp4_2x+'" type="video/mp4">');var c="";t.video.mp4_1x&&(c='<source src="'+t.video.mp4_1x+'" type="video/mp4">');var video=document.createElement("video");video.setAttribute("id","post_id_"+t.post_id),video.setAttribute("crossOrigin","anonymous"),video.setAttribute("preload","none"),video.setAttribute("class","type-a"),video.playsInline=!0,video.controls=!1,video.autoplay=!1,video.muted=!0,video.loop=!0,__IS_RETINA__&&!isMobileFixed.any?video.innerHTML=l:video.innerHTML=c,$video.appendChild(video)}t.video.el=document.getElementById("post_id_"+t.post_id),t.is_loaded_video=!1,t.video.el.addEventListener("loadeddata",(function(e){t.is_loaded_data=!0}));var h=new THREE.VideoTexture(t.video.el);h.minFilter=THREE.LinearFilter,t.video.tex=h,e.addTexture(t.img.tex,t.video.tex,i)}else e.addTexture(t.img.tex,t.img.tex,i)}))}))},addTexture:function(e,t,i){var n=new THREE.PlaneBufferGeometry(1,1,1);n.applyMatrix((new THREE.Matrix4).makeTranslation(.5,0,0));var r=new THREE.ShaderMaterial({visible:!0,transparent:!0,uniforms:{tDiffuse:{type:"t",value:e},tImage:{type:"t",value:e},tVideo:{type:"t",value:t},power:{type:"f",value:0},fade:{type:"f",value:0},alpha:{type:"f",value:0},gradient:{type:"f",value:this.default.uniforms.from.gradient},dir:{type:"f",value:0},is_video:{value:0},is_loaded_data:{value:0},offsetX:{type:"f",value:0},offsetY:{type:"f",value:0},scale:{type:"f",value:this.default.uniforms.from.scale},opacity:{type:"f",value:this.default.uniforms.from.opacity},rgb:{value:this.default.uniforms.from.rgb},rgb_shift:{value:0},reflection:{value:{x:1,y:1}},cy:{type:"f",value:0}},vertexShader:c.a,fragmentShader:o.a,side:THREE.DoubleSide});__POSTS__[i].video.el&&(r.uniforms.is_video.value=1),__POSTS__[i].plane.mesh=new THREE.Mesh(n,r),__POSTS__[i].plane.mesh.index=i,__POSTS__[i].plane.mesh.scale.set(__POSTS__[i].size.scaled.w,__POSTS__[i].size.scaled.h,1),this.stage.add(__POSTS__[i].plane.mesh)},onLoaded:function(){this.__Flag_ok__=!0,this.setPosition()},onResize:function(){this.camera.aspect=backGL.width/backGL.height,this.camera.position.z=backGL.height/2,this.camera.updateProjectionMatrix(),this.height=__WH__*this.default.stage.y,this.padding=__WH__*this.default.stage.padding.top;var e=this;__POSTS__.forEach((function(t,i){t.size.ratio=t.size.origin.w/t.size.origin.h,t.size.scaled.h=e.height,t.size.scaled.w=e.height*t.size.ratio,t.plane.mesh&&t.plane.mesh.scale.set(t.size.scaled.w,t.size.scaled.h,1)})),(this.__Flag_ok__&&"home"===__PAGE_TYPE__||this.__Flag_ok__&&"single"===__PAGE_TYPE__)&&(this.zoom.enable?this.setPositionZoomed():this.setPosition())},copy:{x1:0,x2:0,y1:0,y2:0},setPositionZoomed:function(){var e=this,t=this;__POSTS__.forEach((function(n,i){if(n.post_id!=t.center.post_id)return!1;var r=n.plane.mesh,o=r.scale.x,l=r.scale.y,c=(__WH__,__WH__*n.size.ratio),h=(1-2*t.default.stage.x)/2,d=-__WW__*h+__WW__/2-o/2,f=.5*(__WH__-l);c<__WW__&&(f=1.5*l>=o?.5*(__WH__-l):.5*(__WH__-l)*__WW__/c),e.zoom.plane.x=d,e.zoom.plane.z=f*e.zoom.scale}))},setPosition:function(){var e=this,t=this,n=[],r=0,o=0;this.total_width=0,this.total_height=0,__POSTS__.forEach((function(l,i){t.total_width+=l.size.scaled.w+t.padding,t.total_height+=e.height+t.padding,0!=i?(r+=__POSTS__[i-1].size.scaled.w+t.padding,o-=e.height+t.padding,l.plane.mesh&&(l.plane.mesh.position.y=o)):(r=0,o=0),l.plane.pos.px=r,l.plane.pos.py=o,n.push(__POSTS__[i].size.scaled.w)})),this.copy.y1=3*(this.height+this.padding),this.copy.y2=__WH__-2*this.copy.y1,this.max_width=Math.max.apply(null,n),isMobileFixed.any||(this.default.stage.x=this.max_width/__WW__*.5),this.stage.position.x=-__WW__*this.default.stage.x,this.stage.position.y=this.copy.y1,"home"===__PAGE_TYPE__&&(isMobileFixed.any?(this.total_height=this.total_height+this.copy.y2-(this.height+this.padding),fakeScroll.setHeight(this.total_height,this.scroll_ratio)):(this.total_height=this.total_height+this.copy.y2,fakeScroll.setHeight(this.total_height,this.scroll_ratio)))},start_index:2,center:{tween:[],index:0,arr:[],obj:[]},onScrollReset:function(){this.onResetTweens(),window.scrollTo(0,0),__WT__=0,fakeScroll.body.y=0,this.center.arr=[],this.center.obj=[],isMobileFixed.any?(this.center.index=3,this.center.post_id=__POSTS__[this.center.index].post_id):(this.center.index=0,this.center.post_id=__POSTS__[this.center.index].post_id)},onResetTweens:function(){this.zoom.tween&&this.zoom.tween.kill();for(var i=0;i<this.center.tween.length;i++)this.center.tween[i]&&this.center.tween[i].kill()},onScroll:function(){this.center.arr=[],this.center.obj=[];for(var i=0;i<__POSTS__.length;i++){var e=__POSTS__[i];if(e.plane.mesh&&e.plane.mesh.material.visible){var t=Math.abs(e.plane.mesh.position.y+this.copy.y1);this.center.arr.push(t),this.center.obj.push({y:t,index:i,post_id:e.post_id})}}for(var n=Math.min.apply(null,this.center.arr),r=0;r<this.center.obj.length;r++)this.center.obj[r].y===n&&(this.center.index=this.center.obj[r].index,this.center.post_id=this.center.obj[r].post_id);if(fakeScroll.ing&&!isMobileFixed.any)for(i=0;i<__POSTS__.length;i++)__POSTS__[i].video.el&&__POSTS__[i].video.el.pause()},onScrollStart:function(){if(!isMobileFixed.any)for(var i=__POSTS__.length-1;i>=0;i--)__POSTS__[i].video.el&&__POSTS__[i].video.el.pause()},onScrollIng:function(){},onScrollComplete:function(){if(!routeTransition.__Flag__start&&this.autoScroll){__WIN__?this.onScrollTo(this.center.index,2.8,Power2.easeOut):this.onScrollTo(this.center.index,1.4,Power2.easeOut);for(var i=__POSTS__.length-1;i>=0;i--)__POSTS__[i].post_id===this.center.post_id?(__POSTS__[i].video.el&&!__MIDSPEC__&&onPlayVideo(__POSTS__[i].video.el),__POSTS__[i].selected=!0):(__POSTS__[i].video.el&&__POSTS__[i].video.el.pause(),__POSTS__[i].selected=!1)}},onTouchStart:function(){for(var i=__POSTS__.length-1;i>=0;i--)__POSTS__[i].video.el&&__POSTS__[i].video.el.pause()},onTouchComplete:function(){this.onScrollTo(this.center.index,1,Power3.easeOut);for(var i=__POSTS__.length-1;i>=0;i--)__POSTS__[i].post_id===this.center.post_id?(__POSTS__[i].video.el&&onPlayVideo(__POSTS__[i].video.el),__POSTS__[i].selected=!0):(__POSTS__[i].video.el&&__POSTS__[i].video.el.pause(),__POSTS__[i].selected=!1)},onScrollTo:function(e,s,t){this.onResetTweens(),fakeScroll.onResetTweens();var n=(__POSTS__[e].plane.pos.py+this.copy.y1)/(this.total_height-__WH__)*(fakeScroll.total_height-__WH__);if(isMobileFixed.any){r=TweenLite.to(styleMobile.$body,s,{scrollTo:-n,ease:t,autoKill:!1});this.center.tween.push(r)}else{var r=TweenLite.to(window,s,{scrollTo:-n,ease:t});this.center.tween.push(r)}},loop:{enable:!0,flag:!1},onLoop:function(){var e=__WT__-(fakeScroll.total_height-__WH__);if(Math.abs(e)<=.5&&-1===mouse.dir)clearTimeout(fakeScroll.timer.end.t),this.loop.flag=!0,this.onResetTweens(),fakeScroll.onResetTweens(),fakeScroll.speed.arr[0]=0,fakeScroll.speed.arr[1]=0,__WIN__?(fakeScroll.body.y=-fakeScroll.speed.dist,fakeScroll.body.py=0):(fakeScroll.body.y=-fakeScroll.speed.dist,fakeScroll.body.py=fakeScroll.body.y/(fakeScroll.total_height-__WH__)),window.scrollTo(0,fakeScroll.body.py*(fakeScroll.total_height-__WH__)),__WT__=fakeScroll.body.py*(fakeScroll.total_height-__WH__);else if(0===__WT__&&1===mouse.dir){clearTimeout(fakeScroll.timer.end.t),this.loop.flag=!0,this.onResetTweens(),fakeScroll.onResetTweens(),fakeScroll.speed.arr[0]=0,fakeScroll.speed.arr[1]=0,__WIN__?(fakeScroll.body.y=fakeScroll.total_height-__WH__,fakeScroll.body.py=fakeScroll.body.y/(fakeScroll.total_height-__WH__)):(fakeScroll.body.y=fakeScroll.total_height-__WH__+fakeScroll.speed.dist,fakeScroll.body.py=fakeScroll.body.y/(fakeScroll.total_height-__WH__));var t=fakeScroll.body.py*(fakeScroll.total_height-__WH__);window.scrollTo(0,t),__WT__=t}else this.loop.flag=!1},splash:{position:{x:-__WH__,y:0,z:__WH__},rotation:{x:.25,y:.25,z:.25},opacity:0,power:0},onSplash:function(e,t,n,r){var o=this;this.__Flag_splash__=!1,this.splash.position.x=-__WH__*r,this.splash.position.y=0,this.splash.position.z=__WH__*r,this.splash.rotation.x=.45*r,this.splash.rotation.y=.45*r,this.splash.rotation.z=.45*r,this.splash.opacity=0,this.splash.power=0,TweenLite.to(this.splash.position,e,{x:0,y:0,z:0,delay:n,ease:t}),TweenLite.to(this.splash,e,{opacity:1,ease:t,delay:n}),TweenLite.to(this.splash,e,{power:1,ease:t,delay:n}),TweenLite.to(this.splash.rotation,e,{x:0,y:0,z:0,delay:n,ease:t,onComplete:function(){o.__Flag_splash__=!0}})},onUpdateForDesktop:function(){this.loop.enable&&!this.zoom.enable&&"home"===__PAGE_TYPE__&&this.onLoop();var e=1-this.zoom.pow;this.stage.position.x=e*(mouse.ax*mouse.back.x*__WW__+__WW__*this.default.stage.offset.x)+(-__WW__*this.default.stage.x+this.zoom.stage.x+this.splash.position.x),this.stage.position.y=e*(-mouse.ay*mouse.back.y*__WH__)+this.copy.y1,this.stage.rotation.y=e*mouse.ax*mouse.back.deg+this.splash.rotation.y,this.stage.position.z=-Math.abs(fakeWheel.speed.pow1*__WH__*.5)*(1-this.zoom.pow)+this.zoom.stage.z+this.splash.position.z,this.stage.rotation.x=this.splash.rotation.x,this.stage.rotation.z=this.splash.rotation.z;for(var i=0;i<__POSTS__.length;i++){var t=__POSTS__[i].plane.mesh,n=__POSTS__[i];if(!t)return!1;n.plane.pos.x=n.plane.pos.px-fakeScroll.body.py*(this.total_width-__WW__),n.plane.pos.y=n.plane.pos.py+fakeScroll.body.py*(this.total_height-__WH__),this.zoom.enable&&(n.plane.pos.x=n.plane.pos.px-this.slideTo.py*(this.total_width-__WW__),n.plane.pos.y=n.plane.pos.py+this.slideTo.py*(this.total_height-__WH__));var r=n.plane.pos.y+this.copy.y1+.5*__WH__+this.height/2+this.padding/2,o=r-__WH__-this.padding/2-this.height-this.padding/2;if(r>0&&o<0){t.material.visible=!0;var l=(n.plane.pos.y+this.copy.y1)/__WH__;t.material.uniforms.cy.value=-1*l*this.splash.power;var c=1-Math.abs(l);switch(__ENV__.mouse?(t.material.uniforms.offsetX.value=e*c*mouse.ax*.1,t.material.uniforms.offsetY.value=e*(l*this.default.offset.y-c*mouse.ay*.1)):t.material.uniforms.offsetY.value=l*this.default.offset.y,t.rotation.z=l*this.default.stage.deg*(1-this.zoom.pow),this.align){case"left":t.position.x=-Math.abs(Math.sin(l*l*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+this.zoom.plane.x;break;case"center":t.position.x=-Math.abs(Math.sin(l*l*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+-n.size.scaled.w/2*(1-this.zoom.pow)+this.zoom.plane.x;break;case"right":t.position.x=-Math.abs(Math.sin(l*l*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+(-n.size.scaled.w+__WW__/2)*(1-this.zoom.pow)+this.zoom.plane.x}t.position.z=this.zoom.plane.z,t.position.y=n.plane.pos.y+this.zoom.plane.y+this.splash.position.y,t.material.uniforms.rgb_shift.value=fakeWheel.speed.pow2*(1/this.height)*150}else t.material.visible=!1;"home"!=__PAGE_TYPE__&&n.post_id!=this.center.post_id&&(t.material.visible=!1)}this.zoom.enable?this.onUpdateZoomAfter():this.onUpdateZoomBefore()},onUpdateForMobile:function(){this.zoom.pow;this.stage.position.x=-__WW__*this.default.stage.x+this.zoom.stage.x,this.stage.position.y=this.copy.y1,this.stage.position.z=0,this.stage.rotation.x=0,this.stage.rotation.y=0,this.stage.rotation.z=0;for(var i=0;i<__POSTS__.length;i++){var e=__POSTS__[i].plane.mesh,t=__POSTS__[i];if(!e)return!1;t.plane.pos.x=t.plane.pos.px-fakeScroll.body.py*(this.total_width-__WW__),t.plane.pos.y=t.plane.pos.py+fakeScroll.body.py*(this.total_height-__WH__);var n=t.plane.pos.y+this.copy.y1+.5*__WH__+this.height/2+this.padding/2,r=n-__WH__-this.padding/2-this.height-this.padding/2;if(n>0&&r<0){e.material.visible=!0,t.is_clone&&(e.material.visible=!1);var o=(t.plane.pos.y+this.copy.y1)/__WH__;Math.abs(o);e.material.uniforms.offsetY.value=o*this.default.offset.y,e.position.x=-Math.abs(Math.sin(o*o*this.default.stage.deg)*(this.padding+this.height)*this.default.planes.x)+-t.size.scaled.w/2,e.position.z=0,e.position.y=t.plane.pos.y}else e.material.visible=!1;"home"!=__PAGE_TYPE__&&t.post_id!=this.center.post_id&&(e.material.visible=!1)}this.zoom.enable||this.onUpdateZoomBefore(),styleMobile.onUpdate()},play:{timer:null,s:100},onUpdateZoomBefore:function(){for(var i=0;i<__POSTS__.length;i++){var e=__POSTS__[i].plane.mesh;if(e.material.uniforms.alpha.value=this.splash.opacity,__POSTS__[i].video.el&&this.__Flag_splash__&&loading.__Flag_complete__)switch(__PAGE_TYPE__){case"home":if(__POSTS__[i].index===this.center.index){if(__POSTS__[i].is_load_meta||(__POSTS__[i].video.el.setAttribute("preload","auto"),__POSTS__[i].is_load_meta=!0),1!=e.material.uniforms.fade.value&&__POSTS__[i].is_loaded_data)for(var t=0;t<__POSTS__.length;t++)if(__POSTS__[i].post_id===__POSTS__[t].post_id){var n=__POSTS__[t].plane.mesh;n.material.uniforms.is_loaded_data.value=1,TweenLite.to(n.material.uniforms.fade,1,{value:1})}}else e.material.visible&&(__POSTS__[i].is_load_meta||(__POSTS__[i].video.el.setAttribute("preload","auto"),__POSTS__[i].is_load_meta=!0),__POSTS__[i].is_loaded_data&&(e.material.uniforms.is_loaded_data.value=1));break;case"single":__POSTS__[i].post_id===this.center.post_id&&fakeScroll.body.y<__WH__*this.zoom.scale?(__POSTS__[i].video.el.pause(),e.material.visible=!0):(__POSTS__[i].video.el.pause(),e.material.visible=!1),1!=e.material.uniforms.fade.value&&__POSTS__[i].is_loaded_data&&(e.material.uniforms.is_loaded_data.value=1,e.material.uniforms.fade.value=1)}}},onUpdateZoomAfter:function(){for(var i=0;i<__POSTS__.length;i++)if(__POSTS__[i].video.el&&this.__Flag_splash__&&loading.__Flag_complete__&&"single"===__PAGE_TYPE__){var e=__POSTS__[i].plane.mesh;__POSTS__[i].index===this.center.index?(fakeScroll.body.y<__WH__*this.zoom.scale?(__MIDSPEC__||this.zoom.ing||styleMenu.__Flag_open_before__||onPlayVideo(__POSTS__[i].video.el),e.material.visible=!0):(__POSTS__[i].video.el.pause(),e.material.visible=!1),1!=e.material.uniforms.fade.value&&__POSTS__[i].is_loaded_data&&(e.material.uniforms.is_loaded_data.value=1,e.material.uniforms.fade.value=1)):(__POSTS__[i].video.el.pause(),e.material.visible=!1)}},onZoomIn:function(e,t,n,r){var o=this,l=this;if(this.zoom.ing=!0,this.zoom.enable=!0,this.center.index=e,this.center.post_id=__POSTS__[e].post_id,r){this.center.post_id=r;for(var i=0;i<__POSTS__.length;i++)__POSTS__[i].post_id===this.center.post_id&&(this.center.index=__POSTS__[i].index)}this.onResetTweens(),fakeScroll.onResetTweens();var c=(__POSTS__[this.center.index].plane.pos.py+this.copy.y1)/(this.total_height-__WH__);this.slideTo.y=c*-(fakeScroll.total_height-__WH__),this.slideTo.py=this.slideTo.y/(fakeScroll.total_height-__WH__),TweenLite.to(this.zoom,t,{pow:1,ease:n,onComplete:function(){l.zoom.ing=!1}}),__POSTS__.forEach((function(e,i){if(e.selected=!1,e.post_id!=l.center.post_id)return!1;e.selected=!0;var r=e.plane.mesh,c=r.scale.x,h=r.scale.y,d=(__WH__,__WH__*e.size.ratio),f=(1-2*l.default.stage.x)/2,m=-__WW__*f+__WW__/2-c/2,_=.5*(__WH__-h);d<__WW__&&(_=1.5*h>=c?.5*(__WH__-h):.5*(__WH__-h)*__WW__/d),TweenLite.to(o.zoom.plane,t,{x:m,z:_*o.zoom.scale,ease:n}),TweenLite.to(r.material.uniforms.opacity,t,{value:l.default.uniforms.to.opacity,ease:n}),TweenLite.to(r.material.uniforms.rgb,t,{value:l.default.uniforms.to.rgb,ease:n}),TweenLite.to(r.material.uniforms.gradient,t,{value:l.default.uniforms.to.gradient,ease:n})}))},autoScroll:!0,autoScrollTimer:null,onZoomOut:function(e,t){var n=this;this.zoom.ing=!0,this.zoom.enable=!1,this.autoScroll=!1,this.onScrollReset(),fakeScroll.onResetTweens(),0===e?(this.zoom.pow=0,this.zoom.ing=!1,__POSTS__.forEach((function(e,i){var t=e.plane.mesh;n.zoom.plane.x=0,n.zoom.plane.z=0,t.material.uniforms.opacity.value=n.default.uniforms.from.opacity,t.material.uniforms.rgb.value=n.default.uniforms.from.rgb,t.material.uniforms.gradient.value=n.default.uniforms.from.gradient,t.material.uniforms.scale.value=n.default.uniforms.from.scale}))):(TweenLite.to(this.zoom,e,{pow:0,ease:t,onComplete:function(){n.zoom.ing=!1}}),__POSTS__.forEach((function(r,i){var o=r.plane.mesh;TweenLite.to(n.zoom.plane,e,{x:0,z:0,ease:t}),TweenLite.to(o.material.uniforms.opacity,e,{value:n.default.uniforms.from.opacity,ease:t}),TweenLite.to(o.material.uniforms.rgb,e,{value:n.default.uniforms.from.rgb,ease:t}),TweenLite.to(o.material.uniforms.gradient,e,{value:n.default.uniforms.from.gradient,ease:t}),TweenLite.to(o.material.uniforms.scale,e,{value:n.default.uniforms.from.scale,ease:t})}))),clearTimeout(n.autoScrollTimer),n.autoScrollTimer=setTimeout((function(){n.autoScroll=!0}),500)}}},function(e,t,n){"use strict";n.r(t);n(4);var r=n(164),o=n.n(r),l=n(165),c=n.n(l);backGL.__SINGLE__={__Flag_ok__:!1,frag:o.a,vert:c.a,once:function(){this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,backGL.width/backGL.height,.1,1e3),this.camera.position.z=backGL.height/2,this.scene.add(this.camera);var e={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};this.fbo=new THREE.WebGLRenderTarget(backGL.width,backGL.height,e),this.fbo.texture.name="SINGLE"},mesh:null,onLoadAssets:function(){},screen:{ratio:0},tFirstView:{el:null,type:"img",tex:null,ratio:0,w:0,h:0,width:0,height:0,d1x:null,d2x:null},onLoadSingleFv:function(){var e=this;if(this.bg_geometry=new THREE.PlaneBufferGeometry(1,1,1),this.bg_material=new THREE.MeshBasicMaterial({visible:!0,transparent:!0,color:"#000"}),this.bg=new THREE.Mesh(this.bg_geometry,this.bg_material),this.bg.scale.set(__WW__,__WH__,1),this.scene.add(this.bg),this.$resource=document.getElementById("js--resource"),this.tFirstView.w=parseInt(this.$resource.dataset.w),this.tFirstView.h=parseInt(this.$resource.dataset.h),this.tFirstView.d1x=this.$resource.dataset.d1x,this.tFirstView.d2x=this.$resource.dataset.d2x,this.tFirstView.el=document.getElementById("single-video"),this.tFirstView.type=this.$resource.dataset.type,this.geometry=new THREE.PlaneBufferGeometry(1,1,1),this.material=new THREE.ShaderMaterial({visible:!0,transparent:!0,uniforms:{tDiffuse:{type:"t",value:null},scale:{value:1},opacity:{value:0},rgb:{value:backGL.__HOME__.default.uniforms.to.rgb},rgb_shift:{value:0},gradient:{value:backGL.__HOME__.default.uniforms.to.gradient}},vertexShader:this.vert,fragmentShader:this.frag,side:THREE.DoubleSide}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.scale.set(__WW__,__WH__,1),this.scene.add(this.mesh),this.onResize(),this.__Fade_out__=!0,this.__Flag_ok__=!0,"video"===this.tFirstView.type)this.tFirstView.tex=new THREE.VideoTexture(this.tFirstView.el),this.tFirstView.tex.minFilter=THREE.LinearFilter,this.tFirstView.tex.needsUpdate=!0,this.mesh.material.uniforms.tDiffuse.value=this.tFirstView.tex,clearTimeout(e.timer),e.timer=setTimeout((function(){e.tFirstView.el.play(),e.onFadeIn(routeTransition.anim.tr.in.s,routeTransition.anim.tr.in.e)}),500);else{this.tFirstView.el=new Image,this.tFirstView.el.crossOrigin="anonymous";var t=getImageSrc(this.tFirstView.d1x,this.tFirstView.d2x);this.tFirstView.el.src=t,this.tFirstView.el.onload=function(t){e.tFirstView.tex=new THREE.Texture(this),e.tFirstView.tex.minFilter=THREE.LinearFilter,e.tFirstView.tex.needsUpdate=!0,e.mesh.material.uniforms.tDiffuse.value=e.tFirstView.tex,e.onFadeIn(routeTransition.anim.tr.in.s,routeTransition.anim.tr.in.e)}}backGL.onZoomIn()},timer:null,__Fade_out__:!0,onFadeIn:function(e,t){var n=this;this.mesh&&(n.__Fade_out__=!0,TweenLite.to(this.mesh.material.uniforms.opacity,3,{value:backGL.__HOME__.default.uniforms.to.opacity,ease:t,onComplete:function(){n.__Fade_out__=!1}}))},onFadeOut:function(e,t){this.mesh&&(this.__Fade_out__=!0,TweenLite.to(this.mesh.material.uniforms.opacity,e,{value:0,ease:t}))},onUpdate:function(){if(this.__Fade_out__)return!1;this.mesh&&(this.mesh.material.uniforms.rgb_shift.value=fakeWheel.speed.pow2*(1/backGL.height)*150,"video"===this.tFirstView.type&&this.tFirstView.el&&(fakeScroll.body.y<.8*__WH__?this.tFirstView.el.play():this.tFirstView.el.pause()),fakeScroll.body.y<__WH__?this.mesh.material.visible=!0:this.mesh.material.visible=!1)},onResize:function(){var e=backGL.height*backGL.__HOME__.zoom.scale;isMobileFixed.any&&(e=backGL.height),this.tFirstView.ratio=this.tFirstView.w/this.tFirstView.h,this.tFirstView.height=e,this.tFirstView.width=e*this.tFirstView.ratio,this.mesh&&this.mesh.scale.set(this.tFirstView.width,this.tFirstView.height,1),this.bg&&this.bg.scale.set(backGL.width,backGL.height,1),this.camera.aspect=backGL.width/backGL.height,this.camera.position.z=backGL.height/2,this.camera.updateProjectionMatrix()},onDestroy:function(){this.mesh&&(this.mesh.material.visible=!1,this.mesh.material.uniforms.tDiffuse.value=null,this.scene.remove(this.bg),this.bg.material.dispose(),this.bg.geometry.dispose(),this.bg_material.dispose(),this.bg_geometry.dispose(),this.bg.material=null,this.bg.geometry=null,this.bg_material=null,this.bg_geometry=null,this.bg=null,this.scene.remove(this.mesh),this.mesh.material.dispose(),this.mesh.geometry.dispose(),this.material.dispose(),this.geometry.dispose(),this.mesh.material=null,this.mesh.geometry=null,this.material=null,this.geometry=null,this.mesh=null),this.tFirstView.tex&&(this.tFirstView.tex.dispose(),this.tFirstView.tex=null),this.tFirstView.el=null,backGL.renderer.setRenderTarget(null),backGL.renderer.clear()}}},function(e,t,n){"use strict";n.r(t);n(4);var r=n(54);backGL.__FOOTER__={__Flag_ok__:!1,__Flag__stable:!0,__Flag__anim:!0,deer:{p:{x:0,y:0,z:0},r:{x:0,y:0,z:0},s:{x:.03,y:.03,z:.03},s2:3.3},origin:{src:r.a.awsBase+"assets/models/body/gz-deer-look.glb",stage:[new THREE.Group,new THREE.Group],object:[],mixer:[],animations:[],action_stable:[],clock:[new THREE.Clock,new THREE.Clock],__Flag__stable:!1,obj:[],scene:[]},far:900,far_scale:1,once:function(){this.scene=new THREE.Scene;var e=this.far*this.far_scale/30;this.camera=new THREE.PerspectiveCamera(30,backGL.width/backGL.height,.1,900),this.camera.position.z=e,this.scene.add(this.camera);for(var i=0;i<this.origin.stage.length;i++)this.scene.add(this.origin.stage[i]);this.deer.r.x=0,this.deer.r.y=125,this.deer.r.z=93,this.deer.p.x=-20*this.deer.s.x*this.far_scale,this.deer.p.y=-110*this.deer.s.y*this.far_scale,this.deer.p.z=0*this.deer.s.z*this.far_scale;for(i=0;i<this.origin.stage.length;i++)this.origin.stage[i].rotation.x=this.deer.r.x*(Math.PI/180),this.origin.stage[i].rotation.y=this.deer.r.y*(Math.PI/180),this.origin.stage[i].rotation.z=this.deer.r.z*(Math.PI/180),this.origin.stage[i].position.x=this.deer.p.x,this.origin.stage[i].position.y=this.deer.p.y,this.origin.stage[i].position.z=this.deer.p.z,0===i?(this.origin.stage[i].scale.x=this.deer.s.x,this.origin.stage[i].scale.y=this.deer.s.y,this.origin.stage[i].scale.z=this.deer.s.z):(this.origin.stage[i].scale.x=-this.deer.s.x,this.origin.stage[i].scale.y=this.deer.s.y,this.origin.stage[i].scale.z=this.deer.s.z);var t={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,stencilBuffer:!1};this.fbo=new THREE.WebGLRenderTarget(backGL.width,backGL.height,t),this.fbo.texture.name="FOOTER",this.addLight()},onResize:function(){},plane:[],materials:[],addLight:function(){var e=new THREE.AmbientLight(__COL_WHITE__,1.2);this.scene.add(e)},onLoadAssets:function(){if(__ENV__.skip)return!1;var e=this;new THREE.GLTFLoader(loading.footer).load(this.origin.src+__QUERY__,(function(t){var n=t.scene,r=n.children[0],o=t.animations,l=new THREE.AnimationMixer(r);e.origin.mixer.push(l),e.origin.animations.push(o),e.origin.action_stable.push(l.clipAction(o[0])),e.origin.action_stable[0].play(),e.origin.mixer[0].addEventListener("finished",(function(t){e.origin.action_stable[0].play(),e.__Flag__stable=!0})),e.scene.add(n),e.origin.scene.push(n),e.origin.obj.push(r),r.rotation.x=e.deer.r.x*(Math.PI/180),r.rotation.y=e.deer.r.y*(Math.PI/180),r.rotation.z=e.deer.r.z*(Math.PI/180),r.scale.x=e.deer.s2*e.far_scale,r.scale.y=e.deer.s2*e.far_scale,r.scale.z=e.deer.s2*e.far_scale,r.position.x=e.deer.p.x,r.position.y=e.deer.p.y,r.position.z=e.deer.p.z})),new THREE.GLTFLoader(loading.footer).load(this.origin.src+__QUERY__,(function(t){var n=t.scene,r=n.children[0],o=t.animations,l=new THREE.AnimationMixer(r);e.origin.mixer.push(l),e.origin.animations.push(o),e.origin.action_stable.push(l.clipAction(o[0])),e.origin.action_stable[1].play(),e.origin.mixer[1].addEventListener("finished",(function(t){e.origin.action_stable[1].play(),e.__Flag__stable=!0})),e.scene.add(n),e.origin.scene.push(n),e.origin.obj.push(r),r.traverse((function(e){if(e.isMesh){var t=e.material;t.color.r=.03,t.color.g=.03,t.color.b=.03}})),r.rotation.x=e.deer.r.x*(Math.PI/180),r.rotation.y=e.deer.r.y*(Math.PI/180),r.rotation.z=e.deer.r.z*(Math.PI/180),r.scale.x=-e.deer.s2*e.far_scale,r.scale.y=e.deer.s2*e.far_scale,r.scale.z=e.deer.s2*e.far_scale,r.position.x=e.deer.p.x,r.position.y=e.deer.p.y,r.position.z=e.deer.p.z}))},onLoaded:function(){this.__Flag_ok__=!0},onUpdate:function(){for(var e=fakeScroll.total_height/__WH__,t=this.deer.p.y-(1-fakeScroll.body.py)*(.02*__WH__*e),i=0;i<this.origin.stage.length;i++)this.origin.mixer[i]&&(this.origin.mixer[i].update(this.origin.clock[i].getDelta()),this.origin.obj[i].position.x=this.pos.origin.x,this.origin.obj[i].position.y=this.pos.origin.y+t,this.origin.obj[i].position.z=this.pos.origin.z)},chengeAnim:function(e,t,n){if(this.__Flag__stable&&this.__Flag__anim)for(var i=0;i<this.origin.mixer.length;i++)if(this.origin.mixer[i]){this.origin.mixer[i].stopAllAction();var r=this.origin.animations[i],o=this.origin.mixer[i].clipAction(r[e]);n||(o.setLoop(THREE.LoopOnce),o.clampWhenFinished=!0),o.weight=0,TweenLite.to(o,t,{weight:1}),o.play()}this.__Flag__stable=!1},onMouseEnter:function(){this.chengeAnim(1,.7,!1)},onLookAround:function(){this.chengeAnim(1,.7,!1)},onMouseLeave:function(){},pos:{origin:{x:0,y:0,z:0},from:{x:0,y:0,z:0},to:{x:20,y:-5,z:-5}}}},function(e,t,n){"use strict";n.r(t);n(256),n(257);window.frontGL={scene:null,screen:null,__Flag_ok__:!1,__Flag_loaded__:!1,scale:window.devicePixelRatio,once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas=document.getElementById("js--gl-front"),this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,alpha:!0,antialias:!0}),this.renderer.setSize(this.width*this.scale,this.height*this.scale),this.renderer.autoClearColor=!1,this.__Flag_ok__=!0},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.renderer.setSize(this.width*this.scale,this.height*this.scale),this.screen&&(this.screen.material.uniforms.resolution.value.x=this.width,this.screen.material.uniforms.resolution.value.y=this.height,this.screen.scale.set(this.width,this.height,1),this.camera.left=-this.width/2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=-this.height/2,this.camera.updateProjectionMatrix())},onLoaded:function(){},onUpdate:function(){this.screen.material.uniforms.wheel_power.value=Math.abs(fakeWheel.speed.pow1)}}},function(e,t){e.exports='#define GLSLIFY 1\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n//To save 9 dependent texture reads, you can compute\n//these in the vertex shader and use the optimized\n//frag.glsl function in your frag shader. \n\n//This is best suited for mobile devices, like iOS.\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvec4 apply(sampler2D tex, vec2 fragCoord, vec2 resolution) {\n\tmediump vec2 v_rgbNW;\n\tmediump vec2 v_rgbNE;\n\tmediump vec2 v_rgbSW;\n\tmediump vec2 v_rgbSE;\n\tmediump vec2 v_rgbM;\n\n\t//compute the texture coords\n\ttexcoords(fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\t\n\t//compute FXAA\n\treturn fxaa(tex, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n\nvarying vec2 vUv;\nuniform sampler2D tLogo;\nuniform vec2 resolution;\n\n//\nuniform float wheel_power;\n\nvoid main() {\n\n\tvec2 fragCoord = vUv * resolution;\n\tvec4 _fxaa = apply( tLogo , fragCoord, resolution );\n\n\t// //\n\t// float _py = sin( vUv.x - 0.5 ) * pow( 1.0 - vUv.y , 2.0 ) * abs(wheel_power) * 2.0;\n\n\t// float uv_mag_x = -_py;\n\t// float uv_mag_y = 0.0;\n\t// float _dx = vUv.x + uv_mag_x;\n\t// float _dy = vUv.y + uv_mag_y;\n\n\t// vec2 uv_displaced = vec2( _dx, _dy );\n\t// vec4 _home = texture2D( tLogo, uv_displaced );\n\n\tgl_FragColor = _fxaa;\n\n}'},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main(){\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n}\n\n"},function(e,t,n){"use strict";n.r(t);var r=n(17),o=n(166),l=n.n(o),c=n(167),h=n.n(c);frontGL.__HOME__={frag:l.a,vert:h.a,__Flag_ok__:!1,once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,backGL.width/backGL.height,.1,backGL.height),this.camera.position.z=backGL.height/2,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage)},texts:[],fontSize:120,anim:{zoom:{origin:{pow:0,deg:0},from:{pow:0,deg:0},to:{pow:1,deg:.05}},offset:{origin:0,from:0,to:1.5},opacity:{origin:0,from:1,to:0}},wheel_power:8,default:{stage:{x:0,y:.5,deg:.25,padding_top:.11,padding_right:.1},title:{radius_vh:12.5,radius_pow:40}},$slides:[],onInit:function(){this.$slides=document.querySelectorAll(".page-title"),styleCounter.onInit(this.$slides.length)},onLoaded:function(){for(var i=0;i<__POSTS__.length;i++){var title=Object(r.a)(__POSTS__[i].post_title_array).join("\n");__FONTS__.fontSize.useVW?this.fontSize=this.width/100*__FONTS__.fontSize.vw*window.devicePixelRatio:this.fontSize=this.height/100*__FONTS__.fontSize.vh*window.devicePixelRatio;var e=new getCanvas(title.toUpperCase(),"front",this.fontSize,__COL_WHITE__,__FONTS__.fontWeight,__FONTS__.fontFamily,__COL_STROKE_WHITE__);__POSTS__[i].title.fillText={canvas:e,tex:new THREE.Texture(e.canvas)},__POSTS__[i].title.fillText.tex.magFilter=THREE.LinearFilter,__POSTS__[i].title.fillText.tex.minFilter=THREE.LinearFilter;var t=new getCanvas(title.toUpperCase(),"back",this.fontSize,__COL_WHITE__,__FONTS__.fontWeight,__FONTS__.fontFamily,__COL_STROKE_WHITE__);__POSTS__[i].title.strokeText={canvas:t,tex:new THREE.Texture(t.canvas)},__POSTS__[i].title.strokeText.tex.magFilter=THREE.LinearFilter,__POSTS__[i].title.strokeText.tex.minFilter=THREE.LinearFilter;var n=new THREE.ShaderMaterial({transparent:!0,uniforms:{fillText:{type:"t",value:__POSTS__[i].title.fillText.tex},strokeText:{type:"t",value:__POSTS__[i].title.strokeText.tex},resolution:{type:"v2",value:new THREE.Vector2},right:{value:2},left:{value:3},height:{value:15},offset:{value:{x:0,y:0}},pivot:{value:{x:0,y:0}},opacity:{value:1},hole:{value:1},radius:{value:0},radius_pow:{value:this.default.title.radius_pow}},vertexShader:this.vert,fragmentShader:this.frag}),o=new THREE.PlaneBufferGeometry(1,1,1),l=new THREE.Mesh(o,n);__ENV__.hole?n.uniforms.hole.value=1:n.uniforms.hole.value=0,n.uniforms.radius.value=this.default.title.radius_vh/100*__WH__*window.devicePixelRatio,n.uniforms.resolution.value.x=this.width*window.devicePixelRatio,n.uniforms.resolution.value.y=this.height*window.devicePixelRatio;var c=Math.tan(this.default.stage.deg)*__WW__/__WH__;n.uniforms.right.value=0,n.uniforms.left.value=c,this.stage.add(l),__POSTS__[i].title.mesh=l}this.__Flag_ok__=!0,this.onResize()},copy:{y1:0,y2:0},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=backGL.width/backGL.height,this.camera.position.z=backGL.height/2,this.camera.updateProjectionMatrix(),this.mesh_height=__WH__*this.default.stage.y,this.mesh_padding=__WH__*this.default.stage.padding_top,this.total_height=0;for(var e=0,i=0;i<__POSTS__.length;i++)this.total_height+=this.mesh_height+this.mesh_padding,0!=i?(e-=this.mesh_height+this.mesh_padding,__POSTS__[i].title.mesh.position.y=e):e=0,__POSTS__[i].title.pos.py=e;this.copy.y1=3*(this.mesh_height+this.mesh_padding),this.copy.y2=__WH__-2*this.copy.y1,this.stage.position.y=this.copy.y1,isMobileFixed.any?this.total_height=this.total_height+this.copy.y2-(this.mesh_height+this.mesh_padding):this.total_height=this.total_height+this.copy.y2,__FONTS__.fontSize.useVW?this.fontSize=this.width/100*__FONTS__.fontSize.vw*window.devicePixelRatio:this.fontSize=this.height/100*__FONTS__.fontSize.vh*window.devicePixelRatio;for(i=0;i<__POSTS__.length;i++)__POSTS__[i].title.fillText&&(__POSTS__[i].title.mesh.material.uniforms.resolution.value.x=this.width*window.devicePixelRatio,__POSTS__[i].title.mesh.material.uniforms.resolution.value.y=this.height*window.devicePixelRatio,__POSTS__[i].title.fillText.fontSize=this.fontSize,__POSTS__[i].title.fillText.tex.needsUpdate=!0,__POSTS__[i].title.fillText.canvas.draw(),__POSTS__[i].title.fillText.tex.needsUpdate=!1,__POSTS__[i].title.strokeText.fontSize=this.fontSize,__POSTS__[i].title.strokeText.tex.needsUpdate=!0,__POSTS__[i].title.strokeText.canvas.draw(),__POSTS__[i].title.strokeText.tex.needsUpdate=!1)},onUpdate:function(){var e=(1-backGL.__HOME__.zoom.pow)*(1-Math.abs(frontGL.__LOGO__.anim.power));__ENV__.mouse?(this.stage.position.x=e*(mouse.ax*mouse.front.x*__WW__),this.stage.position.y=e*(-mouse.ay*mouse.front.y*__WH__)+this.copy.y1,this.stage.rotation.y=mouse.ax*mouse.front.deg):this.stage.position.y=this.copy.y1,this.stage.position.z=-Math.abs(fakeWheel.speed.pow1*__WH__*.25)*e;for(var i=0;i<__POSTS__.length;i++){var t=__POSTS__[i];if(t.title.fillText){t.title.pos.y=t.title.pos.py+fakeScroll.body.py*(this.total_height-__WH__),backGL.__HOME__.zoom.enable&&(t.title.pos.y=t.title.pos.py+backGL.__HOME__.slideTo.py*(this.total_height-__WH__));var n=t.title.pos.y+this.copy.y1+.5*__WH__+this.mesh_height/2+this.mesh_padding/2,r=n-__WH__-this.mesh_padding/2-this.mesh_height-this.mesh_padding/2;if(loading.__Flag_after__&&loading.__Flag_font_loaded__)if(n>0&&r<0){var o=t.title.fillText.canvas.width/window.devicePixelRatio,l=t.title.fillText.canvas.height/window.devicePixelRatio;t.title.mesh.scale.set(o,l,1);var c=__WW__/2-o/2-__WW__*this.default.stage.padding_right;t.title.mesh.material.uniforms.pivot.value.x=this.width*window.devicePixelRatio*mouse.fx,t.title.mesh.material.uniforms.pivot.value.y=this.height*window.devicePixelRatio*mouse.fy;var h=Math.max(Math.abs(fakeWheel.speed.pow1*(this.default.title.radius_vh/100)*__WH__),0)*this.wheel_power;if(t.title.mesh.material.uniforms.radius.value=(this.default.title.radius_vh/100*__WH__-h)*window.devicePixelRatio*(1-this.anim.zoom.origin.pow),t.title.mesh.material.uniforms.radius_pow.value=(this.default.title.radius_pow-h*this.default.title.radius_pow/(this.default.title.radius_vh/100*__WH__))*(1-this.anim.zoom.origin.pow),t.title.mesh.material.visible=!0,isMobileFixed.any&&t.is_clone&&(t.title.mesh.material.visible=!1),t.title.mesh.material.visible){var d=(t.title.pos.y+this.copy.y1)/__WH__,f=Math.abs((1-d*d)*fakeWheel.speed.pow1*__WW__*.25);t.title.mesh.rotation.z=d*this.default.stage.deg+this.anim.zoom.origin.deg,t.title.mesh.position.x=f+c-Math.abs(Math.sin(d*d*this.default.stage.deg*.5)*(this.mesh_padding+this.mesh_height)),t.title.mesh.position.y=t.title.pos.y}}else t.title.mesh.material.visible=!1;else t.title.mesh.material.visible=!1}}if(timestep%8==0&&(styleCounter.onCount(backGL.__HOME__.center.index-2),this.$slides.length))for(i=0;i<this.$slides.length;i++)parseInt(this.$slides[i].dataset.id)===backGL.__HOME__.center.post_id?this.$slides[i].classList.add("_active"):this.$slides[i].classList.remove("_active")},onScroll:function(){},onZoomIn:function(e,t){var n=this;__POSTS__.forEach((function(r,i){var o=r.title.mesh;o&&(r.selected?(TweenLite.to(o.material.uniforms.offset.value,e,{y:n.anim.offset.to,ease:t}),TweenLite.to(n.anim.zoom.origin,e,{deg:n.anim.zoom.to.deg,ease:t}),__ENV__.hole&&TweenLite.to(n.anim.zoom.origin,e/2,{pow:n.anim.zoom.to.pow,ease:t})):TweenLite.to(o.material.uniforms.opacity,e,{value:n.anim.opacity.to,ease:t}))}))},onZoomOut:function(e,t){var n=this;__POSTS__.forEach((function(r,i){var o=r.title.mesh;o&&(o.material.uniforms.opacity.value=n.anim.opacity.from,o.material.uniforms.offset.value.y=-1*n.anim.offset.to,TweenLite.to(o.material.uniforms.offset.value,e,{y:n.anim.offset.from,ease:t}),TweenLite.to(n.anim.zoom.origin,e,{deg:n.anim.zoom.from.deg,ease:t}),__ENV__.hole&&TweenLite.to(n.anim.zoom.origin,e/2,{pow:n.anim.zoom.from.pow,ease:t}))}))}}},function(e,t,n){"use strict";n.r(t);n(25);var r=n(17),o=n(168),l=n.n(o),c=n(169),h=n.n(c),d=n(170),f=n.n(d),m=n(171),_=n.n(m);frontGL.__CONTENTS__={__Flag_ok__:!1,planes:[],stacks:{mesh:[],index:0,total:0,depth:0,depth_max:80,deg:.15},title:{fontSize:0,array:[],align:null,fillText:null,strokeText:null,mesh:null,w:0,h:0,padding_right:.1,padding_bottom:.2,translate:{x:.5,y:.5}},once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(90,this.width/this.height,.1,this.height),this.camera.position.z=this.height/2,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage),this.stage_title=new THREE.Group,this.scene.add(this.stage_title)},onDestroy:function(){var e=this;if(this.planes.length&&this.planes.forEach((function(t,i){var n=t.mesh;n.material.dispose(),n.geometry.dispose(),e.stage.remove(n),t.tex&&(t.tex.dispose(),t.tex=null),n.material=null,n.geometry=null,t.mesh=null})),this.planes=[],this.stacks.mesh.length)for(var i=0;i<this.stacks.mesh.length;i++){var t=this.stacks.mesh[i];t.material&&t.material.dispose(),t.geometry&&t.geometry.dispose(),e.stage.remove(t),this.stacks.mesh[i]=null}if(this.stacks.mesh=[],this.stacks.index=0,this.stacks.total=0,"reel"===__PAGE_TYPE__&&(this.title.array=[]),this.stage_title.children.length)for(i=0;i<this.stage_title.children.length;i++)this.stage_title.children[i]&&(this.stage_title.children[i].material.dispose(),this.stage_title.children[i].geometry.dispose(),this.stage_title.remove(this.stage_title.children[i])),this.title.fillText&&(this.title.fillText.tex.dispose(),this.title.fillText.tex=null,this.title.fillText.canvas=null,this.title.fillText=null),this.title.strokeText&&(this.title.strokeText.tex.dispose(),this.title.strokeText.tex=null,this.title.strokeText.canvas=null,this.title.strokeText=null)},onLoadTitlesBefore:function(e,t){if(__LEGACY__)return!1;this.title.array=e,this.title.align=t,this.title.mesh=null,this.title.fillText=null,this.title.w=0,this.title.h=0},onLoadedFonts:function(){},onLoadTitlesAfter:function(){if(__LEGACY__)return!1;__FONTS__.fontSize.useVW?this.title.fontSize=this.width/100*__FONTS__.fontSize.vw*window.devicePixelRatio:this.title.fontSize=this.height/100*__FONTS__.fontSize.vh*window.devicePixelRatio;var title=Object(r.a)(this.title.array).join("\n"),e=new getCanvas(title.toUpperCase(),"front",this.title.fontSize,__COL_WHITE__,__FONTS__.fontWeight,__FONTS__.fontFamily,__COL_STROKE_WHITE__);this.title.fillText={canvas:e,tex:new THREE.Texture(e.canvas)},this.title.fillText.tex.needsUpdate=!0,this.title.fillText.tex.magFilter=THREE.LinearFilter,this.title.fillText.tex.minFilter=THREE.LinearFilter;var t=new THREE.ShaderMaterial({transparent:!0,uniforms:{fillText:{type:"t",value:this.title.fillText.tex},offset:{value:{x:0,y:-1.5}}},vertexShader:_.a,fragmentShader:f.a}),n=new THREE.PlaneBufferGeometry(1,1,1);this.title.mesh=new THREE.Mesh(n,t),this.title.w=this.title.fillText.canvas.width/window.devicePixelRatio,this.title.h=this.title.fillText.canvas.height/window.devicePixelRatio,n.translate(.5,-.5,0),this.stage_title.add(this.title.mesh),frontGL.__CONTENTS__.onFlipIn(routeTransition.anim.tr.in.s,routeTransition.anim.tr.in.e)},onFlipOut:function(e,t){this.title.mesh&&(TweenLite.to(this.title.mesh.material.uniforms.offset.value,e,{y:frontGL.__HOME__.anim.offset.to,ease:t}),TweenLite.to(this.title.mesh.rotation,2*e,{z:frontGL.__HOME__.anim.zoom.to.deg,ease:t}))},onFlipIn:function(e,t){this.title.mesh&&(this.title.mesh.material.uniforms.offset.value.y=-1*frontGL.__HOME__.anim.offset.to,TweenLite.to(this.title.mesh.material.uniforms.offset.value,e,{y:frontGL.__HOME__.anim.offset.from,ease:t}),this.title.mesh.rotation.z=-1*frontGL.__HOME__.anim.zoom.to.deg,TweenLite.to(this.title.mesh.rotation,2*e,{z:0,ease:t}))},onLoadContents:function(){var e=this,t=0;pageBodyScroll.sections.length&&pageBodyScroll.sections.forEach((function(n,i){if(n.status){"stack"===n.status.layout&&0===e.stacks.index&&(e.stacks.index=t);var r=new THREE.PlaneBufferGeometry(1,1,1),o=new THREE.ShaderMaterial({transparent:!0,visible:!1,uniforms:{tDiffuse:{type:"t",value:null},offsetX:{type:"f",value:0},offsetY:{type:"f",value:0},scaleX:{type:"f",value:1.1},scaleY:{type:"f",value:1.1},rgb:{type:"f",value:0},rgb_shift:{value:0},opacity:{type:"f",value:0},alpha:{type:"f",value:1},resolution:{type:"v2",value:{x:0,y:0}},rect:{type:"v2",value:{x:0,y:0}},gradient:{type:"f",value:0},is_fullscreen:{type:"f",value:0},is_win:{type:"f",value:__WIN__},wheel_power:{type:"f",value:0},scroll_power:{type:"f",value:0}},vertexShader:h.a,fragmentShader:l.a}),c=new THREE.Mesh(r,o);c.scale.set(n.rw,n.rh,1),c.index=i,c.layout=n.status.layout,c.type=n.status.type,e.planes.push({index:i,mesh:c,el:null,tex:null,once:!1,hover:!1,uid:n.status.uid,cx:0,cy:0,layout:n.status.layout}),o.uniforms.resolution.value.x=n.rw*window.devicePixelRatio,o.uniforms.resolution.value.y=n.rh*window.devicePixelRatio,o.uniforms.rect.value.x=n.status.w,o.uniforms.rect.value.y=n.status.h,"fullscreen"!==n.status.layout&&"iframe"!==n.status.layout||(o.uniforms.is_fullscreen.value=1),"stack"===n.status.layout&&e.stacks.mesh.push(c),"works"===n.status.layout&&(o.uniforms.scaleX.value=pageWorks.anim.scale.from,o.uniforms.scaleY.value=pageWorks.anim.scale.from,o.uniforms.alpha.value=__RGB__.works.opacity,o.uniforms.rgb.value=__RGB__.works.rgb),"reel"===n.status.layout&&(o.uniforms.scaleX.value=1,o.uniforms.scaleY.value=1),"mobile"===n.status.layout&&(o.uniforms.scaleX.value=1,o.uniforms.scaleY.value=1,c.rotation.x=-.05),"tablet"===n.status.layout&&(o.uniforms.scaleX.value=1,o.uniforms.scaleY.value=1,c.rotation.x=-.05),e.stage.add(c),t++}})),this.scene.add(this.stage),this.stacks.total=this.stacks.mesh.length-1,this.stacks.depth=18,this.title.array&&!isMobileFixed.any&&this.onLoadTitlesAfter(),this.__Flag_ok__=!0,this.onResize()},onUpdate:function(){if(this.title.fillText&&fakeScroll.body.y<__WH__)switch(this.title.w=this.title.fillText.canvas.width/window.devicePixelRatio,this.title.h=this.title.fillText.canvas.height/window.devicePixelRatio,this.title.mesh.scale.x=this.title.w,this.title.mesh.scale.y=this.title.h,this.title.align){case"center":this.title.mesh.position.x=-this.title.w/2,this.title.mesh.position.y=1.2*fakeScroll.body.y+this.title.h/2;break;default:var e=this.width/2-this.title.w/2-this.width*this.title.padding_right-this.title.w/2,t=-this.height/2+this.title.h/2+this.height*this.title.padding_bottom+this.title.h/2;this.title.mesh.position.x=e,this.title.mesh.position.y=t+1.2*fakeScroll.body.y}this.planes.length&&(this.onUpdateRepeat(),this.onUpdateOnce())},is_video_playing:0,onUpdateRepeat:function(){for(var e=[],i=this.planes.length-1;i>=0;i--){var t=this.planes[i],n=t.index,r=pageBodyScroll.sections[n],o=r.visible,l=t.mesh,c=l.layout,h=l.type,rect=void 0;if(t.cy=1e3,1===o){switch(t.cy=l.position.y/__WH__,l.material.visible=!0,isMobileFixed.any||(l.material.uniforms.wheel_power.value=.5*Math.abs(fakeWheel.speed.pow1),l.material.uniforms.rgb_shift.value=fakeScroll.speed.pow2*(1/r.rh)*200),c){case"works":l.material.uniforms.offsetY.value=t.cy*__WH__/r.rh*.03,l.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"normal":l.material.uniforms.offsetY.value=.1*t.cy+.025,l.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"looper":rect=r.el.getBoundingClientRect(),t.cx=l.position.x/__WW__,r.rx=rect.left,r.rw=rect.width,l.material.uniforms.offsetX.value=.1*t.cx,l.material.uniforms.offsetY.value=.1*t.cy+.025,l.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2),l.position.x=r.rx-__WW__/2+r.rw/2;break;case"slide":rect=r.el.getBoundingClientRect(),t.cx=l.position.x/__WW__,r.rx=rect.left,r.rw=rect.width,l.material.uniforms.offsetX.value=.1*t.cx,l.material.uniforms.offsetY.value=.1*t.cy+.025,l.position.x=r.rx-__WW__/2+r.rw/2,l.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"fullscreen":case"iframe":"404"===__PAGE_TYPE__?(l.material.uniforms.scaleX.value=.1,l.material.uniforms.scaleY.value=.1,l.material.uniforms.offsetX.value=.125*mouse.ax,l.material.uniforms.offsetY.value=.125*-mouse.ay):l.material.uniforms.offsetY.value=.1*t.cy+.025,l.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2);break;case"tablet":case"mobile":default:l.position.y=-r.ry+fakeScroll.body.y+(__WH__/2-r.rh/2)}"video"===h&&t.el&&"reel"!=c&&e.push(Math.abs(t.cy))}else"video"===h&&t.el&&t.el.pause(),l.material.visible=!1}var d=Math.min.apply(Math,e);this.is_video_playing=0;for(i=this.planes.length-1;i>=0;i--){var f=this.planes[i],m=f.mesh,_=m.layout,v=m.type;"works"!=_&&"video"===v&&f.el&&(d===Math.abs(f.cy)?(onPlayVideo(f.el),this.is_video_playing=1):"reel"!=_&&f.el.pause())}},pass:!1,onUpdateOnce:function(){var e=this;this.planes.forEach((function(t,i){var n=t.index,r=pageBodyScroll.sections[n],o=t.mesh,l=r.visible,c=o.layout,h=o.type;if(t.once||1!=l)return!1;switch(t.once=!0,o.position.x=r.rx-__WW__/2+r.rw/2,h){case"video":o.material&&(TweenLite.to(o.material.uniforms.gradient,1.3,{value:1,ease:Power2.easeOut}),t.el=r.el.querySelectorAll(".source")[0],t.tex=new THREE.VideoTexture(t.el),t.tex.needsUpdate=!0,t.tex.minFilter=THREE.LinearFilter,o.material.uniforms.tDiffuse.value=t.tex,"404"===__PAGE_TYPE__?(TweenLite.to(o.material.uniforms.opacity,1,{value:.5}),TweenLite.to(o.material.uniforms.rgb,1,{value:.01})):TweenLite.to(o.material.uniforms.opacity,1,{value:1}));break;case"img":t.el=r.el.querySelectorAll(".source")[0],TweenLite.to(o.material.uniforms.gradient,1,{value:1,ease:Power2.easeOut}),t.el.onload=function(n){if(t.tex=new THREE.Texture(this),t.tex.needsUpdate=!0,t.tex.minFilter=THREE.LinearFilter,o.material&&o.material.uniforms)if(o.material.uniforms.tDiffuse.value=t.tex,"stack"===c){var r=.2*(i-e.stacks.index);TweenLite.to(o.material.uniforms.opacity,1,{value:1}),o.position.z=1.6*e.stacks.depth_max+i,TweenLite.to(o.position,1,{z:(i-e.stacks.index)*e.stacks.depth,delay:r,ease:Power2.easeInOut}),TweenLite.to(o.rotation,1,{z:-(i-e.stacks.index)*e.stacks.deg+.5*e.stacks.total*e.stacks.deg,delay:r,ease:Power2.easeInOut})}else"mobile"===c||"tablet"===c?(o.position.z=80,TweenLite.to(o.position,1.3,{z:0,ease:Power2.easeOut}),TweenLite.to(o.material.uniforms.opacity,1,{value:1})):"works"===c?(isMobileFixed.any||(o.position.z=80,TweenLite.to(o.position,1,{z:0})),TweenLite.to(o.material.uniforms.opacity,1,{value:1})):(isMobileFixed.any||(o.position.z=80,TweenLite.to(o.position,1.3,{z:0,ease:Power2.easeOut})),TweenLite.to(o.material.uniforms.opacity,1,{value:1}))},t.el.src=getImageSrc(r.status.src1x,r.status.src2x)}}))},onResize:function(){if(this.camera.aspect=this.width/this.height,this.camera.position.z=this.height/2,this.camera.far=this.height,this.camera.updateProjectionMatrix(),this.width=window.innerWidth,this.height=window.innerHeight,this.planes.length)for(var i=0;i<this.planes.length;i++){var e=pageBodyScroll.sections[this.planes[i].index],t=this.planes[i].mesh,n=e.status.layout;t.position.x=e.rx-__WW__/2+e.rw/2,"fullscreen"===n||"iframe"===n?(t.material.uniforms.resolution.value.x=e.rw*window.devicePixelRatio,t.material.uniforms.resolution.value.y=e.rh*window.devicePixelRatio,t.scale.set(e.rw,e.rh,1)):(t.material.uniforms.resolution.value.x=__WW__*window.devicePixelRatio,t.material.uniforms.resolution.value.y=__WH__*window.devicePixelRatio,t.scale.set(e.rw,e.rh,1))}this.title.fillText&&(__FONTS__.fontSize.useVW?this.title.fontSize=this.width/100*__FONTS__.fontSize.vw*window.devicePixelRatio:this.title.fontSize=this.height/100*__FONTS__.fontSize.vh*window.devicePixelRatio,"works"===__PAGE_TYPE__?this.title.fillText.canvas.fontSize=1.2*this.title.fontSize:this.title.fillText.canvas.fontSize=this.title.fontSize,this.title.fillText.tex.needsUpdate=!0,this.title.fillText.canvas.draw())},onLoadIframe:function(e){for(var iframe=e.dataset.iframe,t=e.nextElementSibling,n=getParents(e,"iframe-fullscreen-body"),r=Number(n.dataset.index),i=0;i<this.planes.length;i++)if(r===this.planes[i].index){var o=this.planes[i].mesh;o&&TweenLite.to(o.material.uniforms.opacity,1,{value:0})}t.innerHTML=iframe,n.classList.add("iframe-loaded")},onFadeOut:function(e){var t=this;this.planes.length&&this.planes.forEach((function(n,i){var r=n.index,o=(pageBodyScroll.sections[r].visible,n.mesh);o.layout,o.type;0===i?TweenLite.to(o.material.uniforms.opacity,e,{value:0,onComplete:function(){t.onFadeOutComplete()}}):TweenLite.to(o.material.uniforms.opacity,e,{value:0})}))},onFadeOutComplete:function(){this.onDestroy()}}},function(e,t,n){"use strict";n.r(t);var r=n(172),o=n.n(r),l=n(173),c=n.n(l),h=n(54);frontGL.__LOGO__={scale:{s:6,l:42},origin:{pow:0,opacity:1,rotation:{x:0,y:0},head:{pos:{x:0,y:0,z:0},offset:{x:0,y:0},scale:{x:0,y:0,z:0},rgb:__COL_M__/255}},transform:{contact:{pow:1,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},404:{pow:1,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},about:{pow:1,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},hover:{pow:0,opacity:1,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.4,z:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},normal:{pow:0,opacity:1,rotation:{x:0,y:0},head:{pos:{x:0,y:.4,z:0},offset:{x:0,y:0},scale:{x:0,y:0,z:0},rgb:__COL_W__/255}},zoom_before_normal:{pow:0,opacity:0,rotation:{x:0,y:0},head:{pos:{x:0,y:.4,z:0},offset:{x:0,y:0},scale:{x:0,y:0,z:0},rgb:__COL_B__/255}},zoom_before_pages:{pow:1,opacity:0,rotation:{x:0,y:0},head:{offset:{x:0,y:0},pos:{x:0,y:.05,z:0},scale:{x:0,y:0,z:0},rgb:__COL_B__/255}}},__Flag_ok__:!0,head:{obj:null,mesh:null,src:h.a.awsBase+"assets/models/head/gz-logo.glb",pow:0,pos:{x:[],y:[],z:[],origin:[],scaled:[],max:{x:0,y:0,z:0}}},label:{mesh:null,src:"assets/img/label.png",tex:null},bg:{mesh:null,px:85},anim:{twist:0,twistTween:null,power:0,s:1,e:Power2.easeOut,touch:{x:0,y:0},position:{x:0,y:0,s:1,e:Power2.easeOut},rotation:{x:0,y:0,z:0,in:{s:1,e:Power2.easeOut},out:{s:1.5,e:Power2.easeOut}},transform:{s:1,e:Power2.easeOut},mouse:{s:1,ax:0,ay:0}},fbo:null,once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.aspect=this.width/this.height,this.camera=new THREE.OrthographicCamera(-this.height*this.aspect/2,this.height*this.aspect/2,this.height/2,-this.height/2,-600,600),this.camera.position.z=200,this.scene.add(this.camera),this.stage=new THREE.Group,this.scene.add(this.stage)},onLoadAssets:function(){var e=this;new THREE.GLTFLoader(loading.contents).load(this.head.src+__QUERY__,(function(t){var n=t.scene.children[0];e.head.obj=n}))},onLoaded:function(){var e=new THREE.ShaderMaterial({transparent:!0,visible:!0,uniforms:{rgb:{type:"f",value:__COL_W__/255},a:{type:"f",value:1},twistTime:{type:"f",value:0},twistHeight:{type:"f",value:1},twistAngleDegMax:{type:"f",value:15}},vertexShader:c.a,fragmentShader:o.a}),t=this.head.obj.geometry;this.head.mesh=new THREE.Mesh(t,e),this.head.mesh.scale.set(24,24,24),this.head.mesh.updateMatrix(),this.head.mesh.geometry.applyMatrix(this.head.mesh.matrix),this.head.mesh.matrix.identity(),this.head.mesh.position.z=0,this.scene.add(this.head.mesh),this.onResize(),this.__Flag_ok__=!0},now:null,onInit:function(){this.now=this.transform[__PAGE_TYPE__],this.now||(this.now=this.transform.normal),"home"===__PAGE_TYPE__?TweenLite.to(this.anim.position,this.anim.position.s,{y:0,ease:this.anim.position.e}):TweenLite.to(this.anim.position,this.anim.position.s,{y:1,ease:this.anim.position.e})},onSplashBefore:function(){var e=this.transform[__PAGE_TYPE__];e||(e=this.transform.normal),this.now=e,"about"===__PAGE_TYPE__||"contact"===__PAGE_TYPE__||"404"===__PAGE_TYPE__?(this.origin.head.pos.y=.05*__WH__,this.origin.head.scale.x=1.025*this.transform.about.head.scale.x,this.origin.head.scale.y=1.025*this.transform.about.head.scale.y,this.origin.head.scale.z=1.025*this.transform.about.head.scale.z):(this.origin.head.pos.y=.55*__WH__,this.origin.head.scale.x=1.2*this.transform.normal.head.scale.x,this.origin.head.scale.y=1.2*this.transform.normal.head.scale.y,this.origin.head.scale.z=1.2*this.transform.normal.head.scale.z)},onUpdate:function(){if(!this.head.mesh)return!1;var e=this.origin.pow*mouse.ay*.5,t=this.origin.pow*mouse.ax*.5,n=(1-this.origin.pow)*(.25*this.anim.mouse.ay*this.anim.power),r=(1-this.origin.pow)*(.5*this.anim.mouse.ax*this.anim.power),o=e+n+this.origin.rotation.x*(Math.PI/180)+loading.anim.rotation.x,l=t+r+this.origin.rotation.y*(Math.PI/180)+loading.anim.rotation.y,c=this.origin.pow*fakeScroll.body.y*1.1+(1-this.origin.pow)*fakeScroll.body.y*this.anim.position.y;"home"===__PAGE_TYPE__&&(c=0);var h=this.origin.pow*mouse.ax*__WW__*.05,d=this.origin.pow*mouse.ay*__WH__*-.05,f=(1-this.origin.pow)*(5*this.anim.mouse.ax),m=(1-this.origin.pow)*(-5*this.anim.mouse.ay),_=this.origin.head.pos.x+h+f,v=this.origin.head.pos.y+d+m+c;this.head.mesh.rotation.x=o+(1-this.origin.pow)*this.anim.rotation.x,this.head.mesh.rotation.y=l+(1-this.origin.pow)*this.anim.rotation.y,this.head.mesh.position.x=_,this.head.mesh.position.y=v,this.head.mesh.position.z=this.origin.head.pos.z,this.head.mesh.scale.x=this.origin.head.scale.x*loading.anim.scale,this.head.mesh.scale.y=this.origin.head.scale.y*loading.anim.scale,this.head.mesh.scale.z=this.origin.head.scale.z*loading.anim.scale,this.head.mesh.material.uniforms.a.value=this.origin.opacity,this.head.mesh.material.uniforms.rgb.value=this.origin.head.rgb,this.head.mesh.material.uniforms.twistTime.value=this.anim.twist,this.bg.mesh&&(this.bg.mesh.position.x=_,this.bg.mesh.position.y=v)},onMouseLoEnter:function(){TweenLite.to(this.head,1,{pow:1})},onUpdateForMobile:function(){if(!this.head.mesh)return!1;var e=this.origin.head.pos.x,t=this.origin.head.pos.y,n=this.origin.pow*fakeScroll.body.y*1.1+(1-this.origin.pow)*fakeScroll.body.y*this.anim.position.y;"home"===__PAGE_TYPE__&&(n=0),this.head.mesh.rotation.x=30*styleMenu.anim.pow*(Math.PI/180),this.head.mesh.rotation.y=-30*styleMenu.anim.pow*(Math.PI/180),this.head.mesh.position.x=e,this.head.mesh.position.y=t+n,this.head.mesh.scale.x=this.origin.head.scale.x,this.head.mesh.scale.y=this.origin.head.scale.y,this.head.mesh.scale.z=this.origin.head.scale.z,this.head.mesh.material.uniforms.a.value=this.origin.opacity,this.head.mesh.material.uniforms.rgb.value=this.origin.head.rgb,this.bg.mesh&&(this.bg.mesh.position.x=e,this.bg.mesh.position.y=t)},colorChange:function(e){},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.left=-this.width/2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var e=__WH__/1050;__WW__;this.transform.normal.head.scale.x=this.scale.s*e,this.transform.normal.head.scale.y=this.scale.s*e,this.transform.normal.head.scale.z=this.scale.s*e,this.transform.hover.head.scale.x=1.2*this.scale.s*e,this.transform.hover.head.scale.y=1.2*this.scale.s*e,this.transform.hover.head.scale.z=1.2*this.scale.s*e,this.transform.contact.head.scale.x=this.transform[404].head.scale.x=this.transform.about.head.scale.x=this.scale.l*e,this.transform.contact.head.scale.y=this.transform[404].head.scale.y=this.transform.about.head.scale.y=this.scale.l*e,this.transform.contact.head.scale.z=this.transform[404].head.scale.z=this.transform.about.head.scale.z=this.scale.l*e,this.transform.zoom_before_normal.head.scale.x=1.2*this.transform.normal.head.scale.x,this.transform.zoom_before_normal.head.scale.y=1.2*this.transform.normal.head.scale.y,this.transform.zoom_before_normal.head.scale.z=1.2*this.transform.normal.head.scale.z,this.transform.zoom_before_pages.head.scale.x=1.2*this.transform.about.head.scale.x,this.transform.zoom_before_pages.head.scale.y=1.2*this.transform.about.head.scale.y,this.transform.zoom_before_pages.head.scale.z=1.2*this.transform.about.head.scale.z},onResizeAfter:function(){this.__Flag_ok__&&("about"===__PAGE_TYPE__||"contact"===__PAGE_TYPE__||"404"===__PAGE_TYPE__?(this.origin.head.pos.x=this.transform.about.head.pos.x*__WW__,this.origin.head.pos.y=this.transform.about.head.pos.y*__WH__,this.origin.head.scale.x=this.transform.about.head.scale.x,this.origin.head.scale.y=this.transform.about.head.scale.y):(this.origin.head.pos.x=this.transform.normal.head.pos.x*__WW__,this.origin.head.pos.y=this.transform.normal.head.pos.y*__WH__,this.origin.head.scale.x=this.transform.normal.head.scale.x,this.origin.head.scale.y=this.transform.normal.head.scale.y))},tweens:[],onResetTweens:function(){if(this.tweens.length)for(var i=this.tweens.length-1;i>=0;i--)this.tweens[i]&&this.tweens[i].kill()},setTransForm:function(e){this.onResetTweens(),this.origin.pow=e.pow,this.origin.opacity=e.opacity,this.origin.head.pos.x=e.head.pos.x*__WW__,this.origin.head.pos.y=e.head.pos.y*__WH__,this.origin.rotation.x=e.rotation.x,this.origin.rotation.y=e.rotation.y,this.origin.head.scale.x=e.head.scale.x,this.origin.head.scale.y=e.head.scale.y,this.origin.head.scale.z=e.head.scale.z,this.origin.head.rgb=e.head.rgb},onTransForm:function(e,t,n){this.onResetTweens(),this.origin.opacity=n.opacity;var r=TweenLite.to(this.origin,e,{pow:n.pow,ease:t});this.tweens.push(r);r=TweenLite.to(this.origin.head.pos,e,{x:n.head.pos.x*__WW__,y:n.head.pos.y*__WH__,ease:t});this.tweens.push(r);r=TweenLite.to(this.origin.rotation,e,{x:n.rotation.x,y:n.rotation.y,ease:t});this.tweens.push(r);r=TweenLite.to(this.origin.head.scale,e,{x:n.head.scale.x,y:n.head.scale.y,z:n.head.scale.z,ease:t});this.tweens.push(r);r=TweenLite.to(this.origin.head,e,{rgb:n.head.rgb,ease:t});this.tweens.push(r)},onMouseMove:function(e,t){if(!loading.__Flag_ing__&&"about"!=__PAGE_TYPE__&&"contact"!=__PAGE_TYPE__&&"404"!=__PAGE_TYPE__){var rect=t.getBoundingClientRect(),n=e.clientX,r=e.clientY,o=2*((n-rect.left)/rect.width-.5),l=2*((r-rect.top)/rect.height-.5);TweenLite.to(this.anim.mouse,this.anim.mouse.s,{ax:o,ay:l})}},onMouseEnter:function(){loading.__Flag_ing__||"about"==__PAGE_TYPE__||"contact"==__PAGE_TYPE__||"404"==__PAGE_TYPE__||(TweenLite.to(this.anim,this.anim.rotation.in.s,{power:-1,ease:this.anim.rotation.in.e}),this.onTransForm(.6,Power2.easeOut,this.transform.hover),this.doTwist())},doTwist:function(){var e=180,t=1;mouse.cx<0&&(e=-180,t=-1);this.anim.rotation.y=0;var n=e*(Math.PI/180);TweenLite.to(this.anim.rotation,.8,{y:n,ease:Power2.easeInOut}),this.anim.twistTween&&this.anim.twistTween.kill(),this.anim.twistTween=new TimelineLite,this.anim.twistTween.to(this.anim,.4,{twist:t,ease:Power1.easeIn}),this.anim.twistTween.to(this.anim,.8*.8,{twist:0,ease:Back.easeOut.config(1.1)})},onMouseLeave:function(){loading.__Flag_ing__||"about"==__PAGE_TYPE__||"contact"==__PAGE_TYPE__||"404"==__PAGE_TYPE__||(TweenLite.to(this.anim,this.anim.rotation.out.s,{power:0,ease:this.anim.rotation.out.e}),this.onTransForm(.6,Power2.easeOut,this.transform.normal))},onClick:function(){}}},function(e,t,n){"use strict";n.r(t);var r=n(11),o=n(174),l=n.n(o),c=n(175),h=n.n(c);frontGL.__MASK__={__Flag_ok__:!1,__Flag_ing__:!1,frag:l.a,vert:h.a,bg:{plane:{mesh:null}},once:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new THREE.Scene,this.aspect=this.width/this.height,this.camera=new THREE.OrthographicCamera(-this.height*this.aspect/2,this.height*this.aspect/2,this.height/2,-this.height/2,0,10),this.camera.position.z=10,this.scene.add(this.camera)},onLoadAssets:function(){},onLoaded:function(){this.geometry=new THREE.PlaneBufferGeometry(1,1,1),this.material=new THREE.ShaderMaterial(Object(r.a)({visible:!0,transparent:!0,side:THREE.DoubleSide,uniforms:{power:{value:1},x:{value:1},y:{value:1},type:{value:1},dir:{value:1},rgb:{value:__COL_M__/255},resolution:{type:"v2",value:new THREE.Vector2},mouse:{type:"v2",value:new THREE.Vector2},radius:{value:2},hole:{value:0}},vertexShader:this.vert,fragmentShader:this.frag},"side",THREE.DoubleSide)),this.bg.plane.mesh=new THREE.Mesh(this.geometry,this.material),this.bg.plane.mesh.scale.x=this.width,this.bg.plane.mesh.scale.y=this.height,this.bg.plane.mesh.position.z=0,this.scene.add(this.bg.plane.mesh),this.material.uniforms.mouse.value.x=mouse.sx,this.material.uniforms.mouse.value.y=mouse.sy,this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.onResize(),this.__Flag_ok__=!0},__Flag__slideIn__:!1,type:0,tweens:[],onResetTweens:function(){if(this.tweens.length)for(var i=this.tweens.length-1;i>=0;i--)this.tweens[i]&&this.tweens[i].kill()},fade_in_mouse:function(e,t){this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!0,this.material.uniforms.type.value=2,this.material.uniforms.radius.value=0,this.material.uniforms.power.value=0,this.material.uniforms.hole.value=0,this.type=3;var n=TweenLite.to(this.material.uniforms.radius,e,{value:2});this.tweens.push(n);n=TweenLite.to(this.material.uniforms.power,e,{value:1,ease:t});this.tweens.push(n)},fade_out_mouse:function(e,t){this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.type.value=2,this.material.uniforms.radius.value=2,this.material.uniforms.power.value=1,this.type=3;var n=TweenLite.to(this.material.uniforms.radius,e,{value:0});this.tweens.push(n);n=TweenLite.to(this.material.uniforms.power,e,{value:0,ease:t});this.tweens.push(n)},fade_donut_out_mouse:function(e,t){this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.type.value=2,this.material.uniforms.radius.value=3,this.material.uniforms.power.value=1,this.material.uniforms.hole.value=0,this.type=3;var n=TweenLite.to(this.material.uniforms.hole,e,{value:3});this.tweens.push(n);n=TweenLite.to(this.material.uniforms.power,e,{value:0,ease:t});this.tweens.push(n)},bottom_to_center:function(e,t){this.__Flag_ing__=!0;var n=this;this.onResetTweens(),this.type=0,this.__Flag__slideIn__=!0,this.material.uniforms.dir.value=0,this.material.uniforms.type.value=0,this.material.uniforms.x.value=0,this.material.uniforms.y.value=0;var r=TweenLite.to(this.material.uniforms.power,e,{value:1,ease:t,onComplete:function(){n.onCompleteToCenter()}});this.tweens.push(r);r=TweenLite.to(this.material.uniforms.y,e,{value:1,ease:t});this.tweens.push(r)},left_to_center:function(e,t){this.__Flag_ing__=!0;var n=this;this.onResetTweens(),this.__Flag__slideIn__=!0,this.type=1,this.material.uniforms.dir.value=1,this.material.uniforms.type.value=1,this.material.uniforms.x.value=0,this.material.uniforms.y.value=0;var r=TweenLite.to(this.material.uniforms.power,e,{value:1,ease:t,onComplete:function(){n.onCompleteToCenter()}});this.tweens.push(r);r=TweenLite.to(this.material.uniforms.x,e,{value:1,ease:t});this.tweens.push(r)},right_to_center:function(e,t){this.__Flag_ing__=!0;var n=this;this.onResetTweens(),this.type=2,this.__Flag__slideIn__=!0,this.material.uniforms.dir.value=0,this.material.uniforms.type.value=1,this.material.uniforms.x.value=0,this.material.uniforms.y.value=0;var r=TweenLite.to(this.material.uniforms.power,e,{value:1,ease:t,onComplete:function(){n.onCompleteToCenter()}});this.tweens.push(r);r=TweenLite.to(this.material.uniforms.x,e,{value:1,ease:t});this.tweens.push(r)},center_to_top:function(e,t){var n=this;this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.dir.value=1,this.material.uniforms.type.value=0,this.material.uniforms.x.value=0,this.material.uniforms.y.value=1;var r=TweenLite.to(this.material.uniforms.power,e,{value:0,ease:t});this.tweens.push(r);r=TweenLite.to(this.material.uniforms.y,e,{value:0,ease:t,onComplete:function(){n.onComplete()}});this.tweens.push(r)},center_to_right:function(e,t){var n=this;this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.dir.value=0,this.material.uniforms.type.value=1,this.material.uniforms.x.value=1,this.material.uniforms.y.value=0;var r=TweenLite.to(this.material.uniforms.power,e,{value:0,ease:t});this.tweens.push(r);r=TweenLite.to(this.material.uniforms.x,e,{value:0,ease:t,onComplete:function(){n.onComplete()}});this.tweens.push(r)},center_to_left:function(e,t){var n=this;this.__Flag_ing__=!0,this.onResetTweens(),this.__Flag__slideIn__=!1,this.material.uniforms.dir.value=1,this.material.uniforms.type.value=1,this.material.uniforms.x.value=1,this.material.uniforms.y.value=0;var r=TweenLite.to(this.material.uniforms.power,e,{value:0,ease:t});this.tweens.push(r);r=TweenLite.to(this.material.uniforms.x,e,{value:0,ease:t,onComplete:function(){n.onComplete()}});this.tweens.push(r)},onComplete:function(){this.__Flag_ing__=!1},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.left=-this.width/2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=-this.height/2,this.camera.updateProjectionMatrix(),this.bg.plane.mesh.scale.x=this.width,this.bg.plane.mesh.scale.y=this.height,this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height},onUpdate:function(){this.material.uniforms.mouse.value.x=mouse.fx,this.material.uniforms.mouse.value.y=mouse.fy},onCompleteToCenter:function(){}}},function(e,t){window.styleCounter={$arr:[],n:0,max:0,once:function(){},onInit:function(e){this.$max=document.querySelectorAll(".ui-num .max")[0],this.$min=document.querySelectorAll(".ui-num .min")[0],this.max=e,this.$max&&(this.$max.innerText=this.max)},onCount:function(e){this.$min&&(e<=this.max&&e>0?this.$min.innerText=Math.round(e):this.$min.innerText=1)}},window.pageWorks={total:0,anim:{s:1.33*__ANIM__,e:Power2.easeOut,scale:{from:1.5,to:1.2}},onInit:function(){this.$li=document.querySelectorAll(".works-li"),this.total=this.$li.length,this.total&&styleCounter.onInit(this.total)},onMouseEnter:function(e){var t=parseInt(e.target.dataset.index);if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.planes.length)for(var i=0;i<frontGL.__CONTENTS__.planes.length;i++){if(frontGL.__CONTENTS__.planes[i].index===t){frontGL.__CONTENTS__.planes[i].hover=!0;var n=frontGL.__CONTENTS__.planes[i].mesh;TweenLite.to(n.material.uniforms.scaleX,this.anim.s,{value:this.anim.scale.to,ease:this.anim.e}),TweenLite.to(n.material.uniforms.scaleY,this.anim.s,{value:this.anim.scale.to,ease:this.anim.e})}}},onMouseLeave:function(e){if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.planes.length)for(var i=0;i<frontGL.__CONTENTS__.planes.length;i++){if(frontGL.__CONTENTS__.planes[i].hover){var t=frontGL.__CONTENTS__.planes[i].mesh;TweenLite.to(t.material.uniforms.scaleX,this.anim.s,{value:this.anim.scale.from,ease:this.anim.e}),TweenLite.to(t.material.uniforms.scaleY,this.anim.s,{value:this.anim.scale.from,ease:this.anim.e})}}}}},function(e,t){window.document.createEvent("UIEvents").initUIEvent("resize",!0,!1,window,0),window.pageReel={__Flag_fullscreen__:!1,__Flag_ok__:!1,__Flag_muted__:!1,__Flag_seek__:!1,__Flag_ui__:!1,volume:.5,onInit:function(){this.$video=document.getElementById("js--video-target"),this.$progress=document.querySelectorAll(".ui-video-progress-body .bar")[0],$html.classList.add("js--state-reel-paused"),this.$video?(this.$bar=document.querySelectorAll(".ui-audio .b"),this.onReady(.6),this.__Flag_muted__=!0,this.__Flag_ok__=!0,this.__Flag_seek__=!1,this.__Flag_ui__=!1):(this.$video=null,this.$bar=null,this.__Flag_muted__=!0,this.__Flag_ok__=!1,this.__Flag_seek__=!1,this.__Flag_ui__=!1)},onReady:function(e){var t=this;this.$bar.forEach((function(n,i){var r=.05*i;t.tween=new TimelineLite,t.tween.to(n,e,{y:"0%",delay:r,ease:Power2.easeIn}),t.tween.to(n,.6*e,{y:"-100%",ease:Power2.easeOut}),t.tween.set(n,{y:"100%"}),t.tween.to(n,e,{y:100-20*(i+1)+"%",ease:Power2.easeOut})}))},onWaveOff:function(e){this.$bar.forEach((function(t,i){TweenLite.to(t,e,{y:"80%",ease:Power2.easeOut})}))},onWaveOn:function(e){this.$bar.forEach((function(t,i){TweenLite.to(t,e,{y:100-20*(i+1)+"%",ease:Power2.easeOut})}))},onToggleAudio:function(){this.$video.muted||0===this.$video.volume?(this.audioOn(),this.onWaveOn(.6)):(this.audioOff(),this.onWaveOff(.6))},audioOff:function(){var e=this;$html.classList.remove("js--state-sound-on"),TweenLite.to(this.$video,.6,{volume:0,onComplete:function(){e.$video.muted=!0}})},audioOn:function(){$html.classList.add("js--state-sound-on"),this.$video.muted=!1,this.$video.volume=0,TweenLite.to(this.$video,.6,{volume:this.volume})},onTogglePlay:function(){this.$video&&(this.$video.paused?($html.classList.remove("js--state-reel-paused"),this.$video.play()):($html.classList.add("js--state-reel-paused"),this.$video.pause(),this.__Flag_ui__=!0))},onUpdate:function(){if(this.$video){var e=this.$video.paused,t=this.$video.duration,p=this.$video.currentTime/t;e?($html.classList.remove("js--state-reel-playing"),TweenLite.to(frontGL.__LOGO__.origin.head.pos,1,{y:frontGL.__LOGO__.transform.normal.head.pos.y*__WH__})):($html.classList.add("js--state-reel-playing"),mouse.paused?TweenLite.to(frontGL.__LOGO__.origin.head.pos,1,{y:.55*__WH__}):TweenLite.to(frontGL.__LOGO__.origin.head.pos,1,{y:frontGL.__LOGO__.transform.normal.head.pos.y*__WH__})),p&&(this.$progress.style.transform="scale("+p+",1)")}},onPlaying:function(){},onSeekStart:function(e){this.__Flag_seek__=!0,$html.classList.add("js--state-reel-paused","js--state-reel-seeking"),this.$video.pause();var t=e.clientX,n=(e.clientY,t/__WW__);if(this.$video){var s=this.$video.duration*n;this.$video.currentTime=s}},onSeekTo:function(){var e=mouse.x,t=(mouse.y,e/__WW__);if(this.$video){var s=this.$video.duration*t;this.$video.currentTime=s}},onSeekEnd:function(){this.__Flag_seek__=!1,$html.classList.remove("js--state-reel-paused","js--state-reel-seeking"),this.$video.play();var e=mouse.x,t=(mouse.y,e/__WW__);if(this.$video){var s=this.$video.duration*t;this.$video.currentTime=s}},timer:null,toggleFullscreen:function(){this.$video&&(isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():this.$video.requestFullscreen?this.$video.requestFullscreen():elem.mozRequestFullScreen?this.$video.mozRequestFullScreen():elem.webkitRequestFullscreen?this.$video.webkitRequestFullscreen():elem.msRequestFullscreen&&this.$video.msRequestFullscreen(),resizeControl.onResize())}},window.isFullscreen=function(){return 1>=outerHeight-innerHeight}},function(e,t,n){"use strict";n.r(t);n(25);window.pageSingle={total_height:1e3,onInit:function(){"single"!==__PAGE_TYPE__||isMobileFixed.any||(__IS_PICKUP__?this.isSinglePickUp():this.isSingleNotPickUp()),"home"!=__PAGE_TYPE__&&(fakeScroll.setHeight(this.total_height,1),frontGL.__CONTENTS__.onLoadContents())},isSinglePickUp:function(){for(var e=0,i=__POSTS__.length-1;i>=0;i--)__POSTS__[i].post_id===__POST_ID__&&(e=__POSTS__[i].index);var t=Expo.easeInOut;backGL.__HOME__.onZoomIn(e,1.6,t)},isSingleNotPickUp:function(){backGL.__SINGLE__.onLoadSingleFv()}},window.frontGLSlider={__Flag_ok__:!1,total_width:0,content_width:0,content_padding:0,index:0,ing:!1,slides:[],onInit:function(){var e=this;this.$wraps=document.querySelectorAll('.section-layout[data-layout="slide"]'),this.$wraps.length?(this.__Flag_ok__=!0,this.$wraps.forEach((function(t,i){var n=t.dataset.index,r=t.querySelectorAll(".img-slide-ul"),o=t.querySelectorAll(".img-slide-body"),l=o[o.length-1];e.slides.push({index:n,el:t,slideMoveElem:r,slideElem:o,lastElem:l,total_width:0,x:0,sx:0,ex:0,lx:0})})),this.onResize()):this.__Flag_ok__=!1},lx:0,sx:0,x:0,ex:0,onResize:function(){this.content_width=__WW__-.4*__WH__,this.content_padding=(__WW__-this.content_width)/2,this.slide_padding=.05*__WW__;for(var i=0;i<this.slides.length;i++){this.total_width=0;for(var e=0;e<this.slides[i].slideElem.length;e++){var t=this.slides[i].slideElem[e].getBoundingClientRect().width;this.total_width+=t+this.slide_padding}this.slides[i].total_width=this.total_width-this.slide_padding}},onDragStart:function(e){var t=getParents(e.target,"section-layout");if(t){this.ing=!0,this.index=t.dataset.index;for(var i=0;i<this.slides.length;i++)this.slides[i].index===this.index&&(this.slides[i].sx=e.clientX);$html.classList.add("js-dragging")}},onDragging:function(e){for(var i=0;i<this.slides.length;i++)this.slides[i].index===this.index&&(this.slides[i].x=this.slides[i].ex+1.1*(e.x-this.slides[i].sx),this.slides[i].lx=this.slides[i].x+this.slides[i].total_width-this.content_width,this.slides[i].x>0?this.slides[i].x=0:this.slides[i].lx<0&&(this.slides[i].x=-this.slides[i].total_width+this.content_width),TweenLite.to(this.slides[i].slideMoveElem,1.2,{x:this.slides[i].x,ease:Power3.easeOut}))},onDragEnd:function(){this.ing=!1;for(var i=0;i<this.slides.length;i++)this.slides[i].index===this.index&&(this.slides[i].ex=this.slides[i].x);$html.classList.remove("js-dragging")}},window.frontGLStack={__Flag_ok__:!1,width:0,onInit:function(){this.$dot=document.querySelectorAll(".dot-wrap"),this.$body=document.querySelectorAll(".img-stack-body"),this.$body.length?(this.__Flag_ok__=!0,this.onResize()):this.__Flag_ok__=!1},onResize:function(){var rect=this.$body[0].getBoundingClientRect();this.rx=rect.left,this.rw=rect.width},onMouseEnter:function(e){if(isMobileFixed.any)return!1;this.index=parseInt(e.target.dataset.index);for(var i=0;i<this.$dot.length;i++)this.$dot[i].classList.remove("active");if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.stacks.mesh.length)for(i=0;i<frontGL.__CONTENTS__.stacks.mesh.length;i++){var t=frontGL.__CONTENTS__.stacks.mesh[i];i===this.index?(TweenLite.to(t.material.uniforms.opacity,.3,{value:1}),this.$dot[i].classList.add("active")):TweenLite.to(t.material.uniforms.opacity,.3,{value:0})}},onMouseLeave:function(){if(isMobileFixed.any)return!1;if(frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.stacks.mesh.length)for(var i=0;i<frontGL.__CONTENTS__.stacks.mesh.length;i++){var e=frontGL.__CONTENTS__.stacks.mesh[i];TweenLite.to(e.material.uniforms.opacity,.6,{value:1})}},onClick:function(e){if(!isMobileFixed.any)return!1;var t=e.target.dataset.index;if(t){for(var n=getParents(e.target,"img-stack-wrap"),r=n.querySelectorAll(".dot-wrap"),i=0;i<r.length;i++)i===Number(t)?r[i].classList.add("active"):r[i].classList.remove("active");var o=n.querySelectorAll(".img-stack-li");for(i=0;i<o.length;i++)i===Number(t)?o[i].classList.add("active"):o[i].classList.remove("active")}}},window.getParents=function(e,t){var n=[];n.prevObject=e,function e(t){t.parentNode&&(n.push(t.parentNode),e(t.parentNode))}(e);for(var i=0;i<n.length;i++)if(null!=n[i].classList&&n[i].classList.contains(t))return n[i];return!1}},function(e,t,n){"use strict";n.r(t);n(25),n(266);window.fakeScroll={total_height:0,total_width:0,scroll_ratio:1,__Flag_ok__:!1,__Flag_dom__:!1,timer:{start:{t:null,s:5},ing:{t:null,s:50},end:{t:null,s:100}},body:{y:0,py:0,sy:0,ty:0,ease:.5},speed:{tween:[],pow1:0,pow2:0,pow3:0,dist:0,arr:[]},rect:null,ing:!1,once:function(){},onInit:function(){this.$height=document.querySelectorAll(".js--scroll-height")},setHeight:function(e,t){var n=t;pageBodyScroll.__Flag_ok__&&"home"!=__PAGE_TYPE__?__WIN__?(this.total_height=pageBodyScroll.total_height,this.body.ease=.18):(this.total_height=pageBodyScroll.total_height,this.body.ease=.2):__WIN__?(this.total_height=e*n*1.2,this.body.ease=.3):(this.total_height=e*n,this.body.ease=.3),this.scroll_ratio=n,this.$height=document.querySelectorAll(".js--scroll-height");for(var i=0;i<this.$height.length;i++)this.$height[i].style.height=this.total_height+"px"},onScroll:function(){if(this.anim.ing)return!1;backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&backGL.__HOME__.onScroll(),clearTimeout(this.timer.start.t),clearTimeout(this.timer.end.t),!touch.ing&&backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&loading.__Flag_complete__&&!isMobileFixed.any&&(this.timer.start.t=setTimeout((function(){backGL.__HOME__.onScrollStart()}),this.timer.start.s),this.timer.end.t=setTimeout((function(){backGL.__HOME__.onScrollComplete()}),this.timer.end.s)),this.ing=!0,"home"!==__PAGE_TYPE__||isMobileFixed.any||!loading.__Flag_complete__||styleProgress.__Flag_leaving__||styleProgress.onRotate(this.body.py)},onUpdateForDesktop:function(){if(__WTP__=Math.round(__WT__/(this.total_height-__WH__)*1e4)/1e4,!loading.__Flag_ing__)switch(__PAGE_TYPE__){case"home":break;case"works":styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1;break;default:this.body.y<this.total_height-1.5*__WH__?(styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1):styleProgress.__Flag_count__||styleProgress.onCountStart()}if(this.body.y+=(__WT__-this.body.y)*this.body.ease,.001>=this.body.y&&(this.body.y=0),this.body.py=this.body.y/(this.total_height-__WH__),this.speed.arr.length>1?(this.speed.arr.shift(),this.speed.arr.push(this.body.y)):this.speed.arr.push(this.body.y),this.ing&&2===this.speed.arr.length&&timestep%3){this.speed.dist=Math.abs(this.speed.arr[1]-this.speed.arr[0]);var e=.001*this.speed.dist*-mouse.dir;e>.2&&(e=.2);var t=TweenLite.to(this.speed,.2,{pow2:e});this.speed.tween.push(t)}},onUpdateForMobile:function(){if(__WTP__=Math.round(__WT__/(this.total_height-__WH__)*1e4)/1e4,!loading.__Flag_ing__)switch(__PAGE_TYPE__){case"home":loading.__Flag_splash_complete__&&styleProgress.onProgress(this.body.py);break;case"works":styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1;break;default:this.body.y<this.total_height-1.01*__WH__?(styleProgress.onProgress(this.body.py),styleProgress.__Flag_count__=!1):styleProgress.__Flag_count__||styleProgress.onCountStart()}this.body.y=__WT__,this.body.py=this.body.y/(this.total_height-__WH__)},onResetTweens:function(){for(var i=0;i<this.speed.tween.length;i++)this.speed.tween[i]&&this.speed.tween[i].kill()},anim:{ing:!1,tween:null,y:0,timer:null},onSplashIn:function(e,t,n,r){var o=this;this.anim.tween&&this.anim.tween.kill(),this.anim.ing=!0,isMobileFixed.any?this.anim.tween=TweenLite.from(".site-body",e,{scrollTo:r,ease:t,delay:n,onComplete:function(){o.anim.ing=!1,loading.__Flag_splash_complete__=!0}}):(__WT__=r,this.body.y=r,this.body.py=r/(this.total_height-__WH__),this.anim.y=r,window.scroll(0,r),this.anim.tween=TweenLite.to(this.anim,e,{y:5,ease:t,delay:n,onUpdate:function(){window.scroll(0,this.target.y)},onComplete:function(){o.anim.ing=!1,loading.__Flag_splash_complete__=!0}}),clearTimeout(this.anim.timer),this.anim.timer=setTimeout((function(){o.anim.ing=!1}),1e3*e))},onScrollFrom:function(e,t,n,r){var o=this;this.anim.ing=!0,clearTimeout(this.anim.timer),this.anim.tween&&this.anim.tween.kill(),backGL.__HOME__.onScrollReset(),__WT__=r,this.body.y=r,this.body.py=r/(this.total_height-__WH__),this.anim.y=r,window.scroll(0,r),this.anim.tween=TweenLite.to(this.anim,e,{y:5,ease:t,delay:n,onUpdate:function(){backGL.__HOME__.onScroll(),window.scroll(0,this.target.y)},onComplete:function(){o.anim.ing=!1}}),this.anim.timer=setTimeout((function(){o.anim.ing=!1}),1e3*e)},onScrollTo:function(e,t,n){var r=this;this.anim.ing=!0,clearTimeout(this.anim.timer),this.anim.tween&&this.anim.tween.kill(),__WT__=0,this.body.y=0,this.body.py=0,this.anim.y=0,window.scroll(0,0),this.anim.tween=TweenLite.to(this.anim,e,{y:n,ease:t,onUpdate:function(){window.scroll(0,this.target.y)},onComplete:function(){r.anim.ing=!1}}),this.anim.timer=setTimeout((function(){r.anim.ing=!1}),1e3*e)}},window.pageBodyScroll={__Flag_ok__:!1,sections:[],statics:[],total_height:0,$body:null,rect:null,$scroll:null,targets:[],header:{height:0,y1:0,y2:0,pow:0,hitory:[],dir:"down"},once:function(){this.$toggle=document.querySelectorAll(".ui-toggle")[0],this.$logo=document.querySelectorAll(".logo-wrap")[0];var rect=this.$toggle.getBoundingClientRect();this.header.height=rect.height},onAnchorScroll:function(){isMobileFixed.any?TweenLite.to(".site-body",1.2,{scrollTo:__WH__,ease:Power3.easeOut}):TweenLite.to(window,1.2,{scrollTo:__WH__,ease:Power3.easeOut})},anchor:null,onAnchorEnter:function(){this.anchor&&(this.anchor.kill(),this.anchor=null),this.anchor=new TimelineLite,this.anchor.to(".site-control-arrow-body",.4,{y:"100%",ease:Power2.easeIn}),this.anchor.set(".site-control-arrow-body",{y:"-100%"}),this.anchor.to(".site-control-arrow-body",.6,{y:"0%",ease:Power2.easeOut})},onInit:function(){(this.$header=document.querySelectorAll(".page-header"),this.$body=document.querySelectorAll(".page-inner"),this.$scroll=document.querySelectorAll(".js--scroll"),document.querySelectorAll(".section-layout").length)&&document.querySelectorAll(".section-layout").forEach((function(e,i){e.dataset.layout;var t=getPrevElement(e),n=getNextElement(e);if(t){var r=t.dataset.layout;e.setAttribute("data-prev",r),"fullscreen"!=r&&e.classList.add("is-not-prev-fullscreen")}if(n){var o=n.dataset.layout;e.setAttribute("data-next",o),"fullscreen"!=o&&e.classList.add("is-not-next-fullscreen")}}));if(this.total_height=0,this.$body.length){if(this.rect=this.$body[0].getBoundingClientRect(),this.total_height=this.rect.height,this.__Flag_ok__=!0,this.statics=[],this.sections=[],isMobileFixed.any){for(var i=0;i<this.$scroll.length;i++){var e=this.$scroll[i];if("img"===e.dataset.type)e.classList.add("js--bg-img-inview");else if("video"===e.dataset.type){if("reel"!=__PAGE_TYPE__)getParents(e,"section").classList.add("section-bg-video"),e.classList.add("js--bg-video","js--ratio-by-w");e.querySelectorAll(".bg-img").length&&e.classList.add("js--bg-img-inview")}this.statics.push({el:e,type:e.dataset.type})}styleRatio.onResize()}for(i=0;i<this.$scroll.length;i++){var t=this.$scroll[i],rect=t.getBoundingClientRect(),n=rect.left,r=rect.top,o=rect.height,l=rect.width,c=null;t.classList.contains("plane")&&(c={src2x:t.dataset.src2x,src1x:t.dataset.src1x,type:t.dataset.type,layout:t.dataset.layout,uid:t.dataset.uid,w:parseInt(t.dataset.w),h:parseInt(t.dataset.h)});var h=!1;t.dataset.pow&&(h=Number(t.dataset.pow));var d=!1;if(t.dataset.bg&&(d=!0),isMobileFixed.any){0}else this.sections.push({el:t,y:0,rx:n,ry:r,rh:o,rw:l,rect:rect,tween:null,visible:!1,over:!1,pow:h,bg:d,status:c});t.dataset.index=i}}else this.__Flag_ok__=!1;this.onResize()},onResize:function(){var rect=this.$toggle.getBoundingClientRect();if(this.header.height=rect.height,this.sections.length&&isMobileFixed.desktop)for(var i=0;i<this.sections.length;i++)this.sections[i].y=0,this.sections[i].el.style.transform="translate3d(0, 0, 0)",rect=this.sections[i].el.getBoundingClientRect(),this.sections[i].rx=rect.left,this.sections[i].ry=rect.top,this.sections[i].rh=rect.height,this.sections[i].rw=rect.width,this.sections[i].y=__WT__,this.sections[i].el.style.transform="translate3d(0, "+__WT__+"px, 0)";this.rect=this.$body[0].getBoundingClientRect(),this.total_height=this.rect.height,fakeScroll.setHeight(this.total_height,1)},isBgWhite:0,onUpdate:function(){for(var i=0;i<this.sections.length;i++){var e=this.sections[i],t=fakeScroll.body.y;if(e.pow&&(t=fakeScroll.body.y*e.pow),__LEGACY__){if(isMobileFixed.desktop){var n=.1*__WH__,r=e.ry-n<fakeScroll.body.y+__WH__,o=e.ry+e.rh+n+-fakeScroll.body.y>0;r&&o?(e.el.style.transform="translate3d(0px, "+-t+"px, 0)",e.visible=1):e.visible=0}}else if(e.visible=parseInt(e.el.dataset.visible),isMobileFixed.desktop){var l=e.ry<fakeScroll.body.y+__WH__,c=e.ry+e.rh+-fakeScroll.body.y>0;(l&&c||e.visible)&&(e.el.style.transform="translate3d(0px, "+-t+"px, 0)")}e.over=!1,e.ry<fakeScroll.body.y+__WH__&&e.status&&(e.over=!0)}if("works"===__PAGE_TYPE__){var h=0;for(i=0;i<this.sections.length;i++)this.sections[i].over&&h++;styleCounter.onCount(h)}}}},,function(e,t,n){"use strict";n.r(t);n(4);window.timestep=0,window.fps={t:0,frame:0,start:0,end:0,step:8,onLoop:function(){}},window.renderForDesktop=function(){if(timestep<1e4?timestep++:timestep=0,__LOWSPEC__)return!1;if(requestAnimationFrame(renderForDesktop),!styleMenu.__Flag_open_before__||routeTransition.__Flag__start){switch(__PAGE_TYPE__){case"home":routeTransition.__Flag__Back||frontGL.__HOME__.onUpdate();break;default:frontGL.__CONTENTS__.onUpdate()}frontGL.__LOGO__.onUpdate()}switch(__PAGE_TYPE__){case"home":frontGL.renderer.render(frontGL.__HOME__.scene,frontGL.__HOME__.camera);break;default:frontGL.renderer.render(frontGL.__CONTENTS__.scene,frontGL.__CONTENTS__.camera)}if(frontGL.renderer.render(frontGL.__LOGO__.scene,frontGL.__LOGO__.camera),frontGL.__MASK__.__Flag_ing__&&(frontGL.__MASK__.onUpdate(),frontGL.renderer.render(frontGL.__MASK__.scene,frontGL.__MASK__.camera)),styleMenu.__Flag_open_before__||!routeTransition.render||"menu"===routeTransition.type)return!1;if(routeTransition.__Flag__Back||(fakeScroll.onUpdateForDesktop(),pageBodyScroll.__Flag_ok__&&"home"!=__PAGE_TYPE__&&pageBodyScroll.onUpdate()),backGL.material.uniforms.tDiffuse.value)switch(backGL.material.uniforms.tDiffuse.value.name){case"HOME":routeTransition.__Flag__Back||backGL.__HOME__.onUpdateForDesktop(),backGL.renderer.setRenderTarget(backGL.__HOME__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__HOME__.scene,backGL.__HOME__.camera);break;case"SINGLE":backGL.__SINGLE__.onUpdate(),backGL.renderer.setRenderTarget(backGL.__SINGLE__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__SINGLE__.scene,backGL.__SINGLE__.camera);break;case"FOOTER":backGL.__FOOTER__.__Flag_ok__&&(backGL.__FOOTER__.onUpdate(),backGL.renderer.setRenderTarget(backGL.__FOOTER__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__FOOTER__.scene,backGL.__FOOTER__.camera))}backGL.onUpdate(),backGL.renderer.setRenderTarget(null),backGL.renderer.clear(),backGL.renderer.render(backGL.scene,backGL.camera),"reel"===__PAGE_TYPE__&&pageReel.onUpdate()},window.renderForMobile=function(){if(timestep<1e4?timestep++:timestep=0,requestAnimationFrame(renderForMobile),frontGL.__MASK__.__Flag_ing__&&(frontGL.__MASK__.onUpdate(),frontGL.renderer.render(frontGL.__MASK__.scene,frontGL.__MASK__.camera)),styleMenu.__Flag_open_before__||!routeTransition.render||"menu"===routeTransition.type)return!1;if(routeTransition.__Flag__Back||fakeScroll.onUpdateForMobile(),backGL.material&&backGL.material.uniforms.tDiffuse.value)switch(__PAGE_TYPE__){case"home":routeTransition.__Flag__Back||backGL.__HOME__.onUpdateForMobile(),backGL.renderer.setRenderTarget(backGL.__HOME__.fbo),backGL.renderer.clear(),backGL.renderer.render(backGL.__HOME__.scene,backGL.__HOME__.camera)}backGL.onUpdate(),backGL.renderer.setRenderTarget(null),backGL.renderer.clear(),backGL.renderer.render(backGL.scene,backGL.camera)}},function(e,t){var n,r;window.mouse={paused:!0,dir:-1,x:0,y:0,cx:0,cy:0,ax:0,ay:0,fx:0,fy:0,sx:0,sy:0,front:{x:.05,y:.05,deg:.04},back:{x:.025,y:.025,deg:.04},power:{rotation:0,position:1},ray:{x:0,y:0},speed:{delta:0,hitory:[],pow:0,tween:null},timer:null,wait:100,onMove:function(e){var t=this;this.paused=!1,$html.classList.remove("js--state-mouse-paused"),this.x=e.clientX,this.y=e.clientY,this.cx=(this.x-__WW__/2)/__WW__,this.cy=(this.y-__WH__/2)/__WH__,TweenLite.to(this,1.2,{ax:this.cx*loading.anim.power,ay:this.cy*loading.anim.power,sx:this.x/__WW__,sy:1-(this.y+fakeScroll.body.y)/__WH__}),TweenLite.to(this,.6,{fx:this.x/__WW__,fy:1-this.y/__WH__}),clearTimeout(this.timer),this.timer=setTimeout((function(){$html.classList.add("js--state-mouse-paused"),t.paused=!0}),2e3)},drag:{ing:!1,tween:null,el:null,deg:0,p:0,y:0,start_y:0,start_scroll_y:0},onDragStart:function(e){},onDragging:function(){},onDragEnd:function(){}},window.fakeWheel={timer:null,wait:30,ing:!1,x:0,y:0,speed:{delta:0,hitory:[],tween:[null,null],pow0:0,pow1:0,pow2:0,pow3:0},onStart:function(){},onWheel:function(e){if(this.wheelDistance(e),0===__WT__||Math.abs(this.x)>5)return!1;var t=this;this.y<0?mouse.dir=-1:mouse.dir=1,this.ing=!0,this.speed.delta+=Math.abs(this.y),this.speed.hitory.length>2?(this.speed.hitory.shift(),this.speed.hitory.push(this.speed.delta)):this.speed.hitory.push(this.speed.delta),this.speed.hitory.length>2&&(this.speed.pow0=Math.abs(.175*(Math.abs(this.speed.hitory[0])-Math.abs(this.speed.hitory[2]))),Math.abs(this.speed.pow0)>.4&&(this.speed.pow0=.4),this.speed.tween[0]=TweenLite.to(this.speed,3,{pow1:this.speed.pow0})),clearTimeout(this.timer),this.timer=setTimeout((function(){t.onComplete()}),this.wait),fakeScroll.anim.tween&&(fakeScroll.anim.tween.kill(),fakeScroll.anim.ing=!1)},onComplete:function(){this.onResetTweens(),this.speed.tween[0]=TweenLite.to(this.speed,1.3,{pow1:0}),this.ing=!1},onResetTweens:function(){for(var i=0;i<this.speed.tween.length;i++)this.speed.tween[i]&&this.speed.tween[i].kill()},wheelDistance:function(e){var t=e.deltaY?-e.deltaY:e.wheelDelta?e.wheelDelta:-e.detail,n=e.detail;this.y=n?t?t/n/40*n>0?1:-1:-n/3:t/120,this.x=e.deltaX}},window.addEventListener("wheel",(function(e){fakeWheel.onWheel(e)}),!1),window.addEventListener("mousemove",(function(e){mouse.onMove(e),frontGLSlider.__Flag_ok__&&frontGLSlider.ing&&frontGLSlider.onDragging(mouse),pageReel.__Flag_ok__&&pageReel.__Flag_seek__&&!isMobileFixed.any&&"reel"===__PAGE_TYPE__&&pageReel.onSeekTo()}),!1),window.addEventListener("mouseup",(function(e){frontGLSlider.__Flag_ok__&&frontGLSlider.ing&&frontGLSlider.onDragEnd(),pageReel.__Flag_ok__&&pageReel.__Flag_seek__&&!isMobileFixed.any&&"reel"===__PAGE_TYPE__&&pageReel.onSeekEnd()}),!1),window.touch={ing:!1,timer:null,onStart:function(e){var t=e.clientX,n=e.clientY;e.touches&&e.touches[0]&&(t=e.touches[0].clientX,n=e.touches[0].clientY),mouse.x=t,mouse.y=n,mouse.cx=(t-__WW__/2)/__WW__/2,mouse.cy=(n-__WH__/2)/__WH__/2,e.touches.length>1&&e.preventDefault(),backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&backGL.__HOME__.onTouchStart(),fakeScroll.anim.tween&&(fakeScroll.anim.tween.kill(),fakeScroll.anim.ing=!1,loading.__Flag_splash_complete__=!0),this.ing=!0},onComplete:function(e){backGL.__HOME__.__Flag_ok__&&"home"===__PAGE_TYPE__&&backGL.__HOME__.onTouchComplete(),this.ing=!1},dir:"down",history:[],onMove:function(e){var t=e.clientX,n=e.clientY;e.touches&&e.touches[0]?(t=e.touches[0].clientX,n=e.touches[0].clientY):e.originalEvent&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].clientX,n=e.originalEvent.changedTouches[0].clientY),mouse.x=t,mouse.y=n,mouse.cx=(t-__WW__/2)/__WW__/2,mouse.cy=(n-__WH__/2)/__WH__/2,TweenLite.to(mouse,1.2,{ax:mouse.cx,ay:mouse.cy})},onUpdate:function(){}},document.addEventListener("touchstart",(function(e){!e.target.classList.contains("no-events")&&isMobileFixed.any&&touch.onStart(e)}),{passive:!1}),document.addEventListener("touchend",(function(e){touch.onComplete()}),{passive:!1}),window.__IS_WINDOW_SCROLL__=!1,window.addEventListener("scroll",(function(e){loading.tween&&loading.tween.kill(),__IS_WINDOW_SCROLL__=!0,isMobileFixed.any||(__WT__=window.scrollY||window.pageYOffset,fakeScroll.onScroll())}),!1),window.addEventListener("keydown",(function(e){71===e.keyCode&&$html.classList.add("is-k")}),!1),window.addEventListener("keyup",(function(e){$html.classList.remove("is-k")}),!1),window.directionCheck=function(){var e=Math.abs(window.orientation);__WO__=90==e?"yoko":"tate"},window.resizeControl={interval:null,timer:{dom:null,gl:null},history:[],onInit:function(){var e=this;clearInterval(this.interval),this.interval=setInterval((function(){(e.history.length>=2?(e.history.shift(),e.history.push(__WW__)):e.history.push(__WW__),e.history.length>1)&&(0!=Math.abs(e.history[0]-e.history[1])&&e.onResize())}),1e3)},onResizeDOM:function(){__WW__=window.innerWidth,__WH__=window.innerHeight,styleRatio.onResize()},onResizeGL:function(){backGL.__Flag_ok__&&backGL.onResize(),backGL.__HOME__.__Flag_ok__&&backGL.__HOME__.onResize(),backGL.__SINGLE__.__Flag_ok__&&backGL.__SINGLE__.onResize(),pageBodyScroll.__Flag_ok__&&pageBodyScroll.onResize(),frontGL.__Flag_ok__&&frontGL.onResize(),frontGL.__HOME__.__Flag_ok__&&frontGL.__HOME__.onResize(),frontGL.__CONTENTS__.__Flag_ok__&&frontGL.__CONTENTS__.onResize(),frontGL.__LOGO__.__Flag_ok__&&(frontGL.__LOGO__.onResize(),frontGL.__LOGO__.onResizeAfter()),frontGLSlider.__Flag_ok__&&frontGLSlider.onResize(),frontGL.__MASK__.__Flag_ok__&&frontGL.__MASK__.onResize(),styleProgress.onResize()},onResize:function(){var e=this;if(isMobileFixed.any)return!1;clearTimeout(this.timer.dom),clearTimeout(this.timer.gl),this.timer.dom=setTimeout((function(){e.onResizeDOM()}),101),this.timer.gl=setTimeout((function(){e.onResizeGL()}),301)},orientationChange:function(){if(!isMobileFixed.any)return!1;clearTimeout(this.timer.dom),this.timer.dom=setTimeout((function(){location.reload()}),400)}},window.addEventListener("resize",(function(e){resizeControl.onResize()}),!1),window.addEventListener("orientationchange",(function(e){resizeControl.orientationChange()}),!1),void 0!==document.hidden?(n="hidden",r="visibilitychange"):void 0!==document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):void 0!==document.msHidden?(n="msHidden",r="msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange"),window.handleVisibilityChange=function(){document[n]&&pageReel.__Flag_ok__&&pageReel.$video&&($html.classList.add("js--state-reel-paused"),pageReel.$video.pause())},void 0===document.addEventListener||void 0===n||document.addEventListener(r,handleVisibilityChange,!1),window.key={__Flag_down__:!1},document.addEventListener("keydown",(function(e){key.__Flag_down__=!0})),document.addEventListener("keyup",(function(e){key.__Flag_down__=!1}))},function(e,t){window.loading={__Flag_ing__:!0,__Flag_after__:!1,__Flag_complete__:!1,__Flag_splash_complete__:!1,__Flag_font_loaded__:!1,anim:{scale:1.4,power:0,twist:-1,rgb:__COL_B__/255,rotation:{x:0,y:0},progress:{f:{s:.5,e:Power2.easeOut},b:{s:.2,e:Power0.easeNone}},scroll:{x:0,y:0}},p:0,ready:function(){window.scroll(0,0),__WT__=0,fakeScroll.body.py=0,__ENV__.skip&&($html.classList.remove("is-loading-before"),$html.classList.add("is-loading-after"),$html.classList.add("is-splash-in"))},once:function(){var e=this;this.footer=new THREE.LoadingManager,this.footer.onLoad=function(){backGL.__FOOTER__.onLoaded()},this.onProgressStart(),this.contents=new THREE.LoadingManager,this.contents.onProgress=function(t,n,r){e.p=Math.floor(n/r*100),e.onProgress()},this.contents.onLoad=function(){}},body:{y:0,ease:.1},onetime:!1,onProgressStart:function(){this.__f=new TimelineMax({repeat:-1})},onProgress:function(){var e=this;e.p<99?TweenLite.to(".progress-f",this.anim.progress.b.s,{drawSVG:"0% "+e.p+"%",ease:this.anim.progress.b.e}):this.__Flag_ing__&&TweenLite.to(".progress-f",this.anim.progress.f.s,{drawSVG:"0% 100%",ease:this.anim.progress.f.e,onComplete:function(){$html.classList.add("is-progress-complete"),e.onProgressComplete(),e.__Flag_ing__=!1}})},onProgressComplete:function(){this.__f&&this.__f.kill(),this.__b&&this.__b.kill(),this.onLoadedBefore()},onLoadedBefore:function(){var e=Power1.easeInOut,t=this;TweenLite.set(".progress-f",{drawSVG:"0% 100%"}),TweenLite.to(".progress-f",1.1,{drawSVG:"100% 100%",ease:e}),TweenLite.to(".progress-svg",1.1,{rotation:360,ease:e,onComplete:function(){t.onSplashBefore(),t.onSplash()}}),onInitBefore()},onSplashBefore:function(){var e=this;TweenLite.set(".progress-svg",{rotation:0}),TweenLite.set(".progress-f",{drawSVG:"0% 0%"}),window.scroll(0,0),__WT__=0,fakeScroll.body.py=0,backGL.onLoaded(),backGL.__Flag_ok__=!0,backGL.__HOME__.__Flag_ok__=!0,backGL.__HOME__.onLoaded(),backGL.__SINGLE__.__Flag_ok__=!0,pageSingle.onInit(),frontGL.onLoaded(),isMobileFixed.any||frontGL.__LOGO__.onLoaded(),frontGL.__MASK__.onLoaded(),$html.classList.remove("is-loading-before"),$html.classList.add("is-loading-after","is-load-fonts"),isMobileFixed.any||WebFont.load({classes:!1,custom:{families:["Neue"],urls:["/assets/css/fonts.css"+__QUERY__]},active:function(){__LEGACY__||(frontGL.__HOME__.onLoaded(),frontGL.__CONTENTS__.title.fillText&&(frontGL.__CONTENTS__.title.fillText.canvas.draw(),frontGL.__CONTENTS__.title.fillText.tex.needsUpdate=!0)),e.__Flag_font_loaded__=!0}}),onInitAfter()},tween:null,onSplash:function(){var e=this,t=Power4.easeOut,n=Power4.easeInOut,r=Power3.easeInOut;"home"===__PAGE_TYPE__&&($html.classList.add("is-splash-before"),fakeScroll.onSplashIn(2.3,t,.6,1.5*__WH__)),backGL.__HOME__.onSplash(2.3,t,.6,1.5),isMobileFixed.any||(frontGL.__LOGO__.onSplashBefore(),frontGL.__LOGO__.onTransForm(2.3,n,frontGL.__LOGO__.now)),TweenLite.to(this.anim,2.3,{scale:1,ease:n,onComplete:function(){e.onLoadComplete(),e.__Flag_splash_complete__=!0}}),TweenLite.to(this.anim.rotation,2.3,{x:0,y:0,ease:n}),frontGL.__MASK__.center_to_top(2.48,r),setTimeout((function(){$html.classList.remove("is-loading-after"),$html.classList.add("is-loading-complete"),$html.style.backgroundColor=__COL_BLACK__,isMobileFixed.any||backGL.__FOOTER__.onLoadAssets(),isMobileFixed.any&&WebFont.load({classes:!1,custom:{families:["Neue"],urls:["/assets/css/fonts.css"+__QUERY__]}})}),600),"about"!==__PAGE_TYPE__&&"contact"!==__PAGE_TYPE__||TweenLite.to(".section-page-lead",1.8,{opacity:1,ease:t}),TweenLite.to(".js--slide-leave",1.8,{y:"110%",scale:.85,ease:r}),"home"===__PAGE_TYPE__&&styleProgress.onProgressTo(100/backGL.__HOME__.total,1.8,r),TweenLite.to(this.anim,2.3,{power:1}),isMobileFixed.any&&styleMobile.onEnter(),this.__Flag_after__=!0,isMobileFixed.any?renderForMobile():renderForDesktop()},onLoadComplete:function(){this.__Flag_complete__=!0,pageBodyScroll.__Flag_ok__&&pageBodyScroll.onResize()}},loading.ready()},function(e,t){window.styleProgress={tween:{f:null,b:null,c:null},count:{s:1100,timer:null},__Flag_count__:!1,__Flag_count_complete__:!1,once:function(){this.$progress_svg=document.querySelectorAll(".progress-svg")[0],this.$progress_f=document.querySelectorAll(".progress-f")[0],this.$progress_b=document.querySelectorAll(".progress-b")[0],this.$progress_c=document.querySelectorAll(".site-control-counter-move")[0]},onResize:function(){var e=Power2.easeInOut;if("home"===__PAGE_TYPE__){var t=100/backGL.__HOME__.total;TweenLite.to(this.$progress_f,1,{drawSVG:"0% "+t+"%",ease:e})}else TweenLite.to(this.$progress_f,1,{drawSVG:"100% 100%",ease:e})},progress:0,onHide:function(){var e=Power2.easeInOut;TweenLite.to(this.$progress_f,.5,{drawSVG:"100% 100%",ease:e}),TweenLite.to(this.$progress_b,.5,{drawSVG:"100% 100%",ease:e})},onReset:function(){this.__Flag_count__=!1,clearInterval(this.count.timer),$html.classList.remove("js--control-type-counter"),this.tween.f&&this.tween.f.kill(),this.tween.c&&this.tween.c.kill(),TweenLite.set(this.$progress_c,{y:"0%"})},onResetByMenu:function(){clearInterval(this.count.timer),$html.classList.remove("js--control-type-counter"),this.tween.f&&this.tween.f.kill(),this.tween.c&&this.tween.c.kill(),TweenLite.set(this.$progress_c,{y:"0%"}),this.__Flag_count__&&(this.__Flag_count__=!1,TweenLite.to(this.$progress_f,.6,{drawSVG:"0% 100%",ease:Power2.easeInOut}))},onRotate:function(e){this.onReset(),this.tween.f=TweenLite.set(this.$progress_svg,{rotation:360*e})},onRotateTo:function(e,t,n){this.tween.f=TweenLite.to(this.$progress_svg,t,{rotation:e,ease:n})},onProgress:function(e){if(this.__Flag_leaving__)return!1;this.onReset();this.tween.f=TweenLite.to(this.$progress_f,.1,{drawSVG:"0 "+100*e+"%"})},setProgress:function(e){if(this.__Flag_leaving__)return!1;this.onReset(),TweenLite.set(this.$progress_f,{drawSVG:"-0.1 "+e+"%"})},onProgressTo:function(e,t,n){TweenLite.to(this.$progress_f,t,{drawSVG:"-0.1 "+e+"%",ease:n})},onResetProgress:function(e){this.onReset();this.tween.f=TweenLite.to(this.$progress_f,1,{drawSVG:"0% "+100*e+"%"})},onCountStart:function(){var e=this;if(this.tween.f&&!styleMenu.__Flag_clicked__){this.onReset(),this.__Flag_count_complete__=!1,this.__Flag_count__=!0,$html.classList.add("js--control-type-counter"),this.tween.f=null,this.tween.f=new TimelineLite,this.tween.f.to(this.$progress_f,.1,{drawSVG:"0% 100%"}),this.tween.f.to(this.$progress_f,this.count.s/1e3*5,{drawSVG:"100% 100%",ease:Power0.easeNone,onComplete:function(){e.onCountComplete()}});var t=0;this.onCounting(t),this.count.timer=setInterval((function(){t++,e.onCounting(t)}),this.count.s)}},onCounting:function(e){var t=Power2.easeInOut;this.tween.c=TweenLite.to(this.$progress_c,this.count.s/1e3,{y:20*-e+"%",ease:t})},onCountComplete:function(){if(!__ENV__.autojump)return!1;clearTimeout(this.count.timer),this.__Flag_count_complete__=!0,this.onGotoNextPage();var e=new TimelineLite;e.to(this.$progress_b,this.count.s/2e3,{drawSVG:"100% 100%",ease:Power2.easeIn}),e.set(this.$progress_b,{drawSVG:"0% 0%"}),e.to(this.$progress_b,this.count.s/1e3,{drawSVG:"0% 100%",ease:Power2.easeOut})},onGotoNextPage:function(){$html.classList.remove("js--control-type-counter"),document.getElementsByClassName("js--goto-next-page-timer").length&&document.getElementsByClassName("js--goto-next-page-timer")[0].click()},__Flag_leaving__:!1,onLeave:function(){var e,t=this;t.__Flag_leaving__=!0,$html.classList.remove("js--control-type-counter"),clearInterval(this.count.timer),this.tween.f&&this.tween.f.kill(),this.tween.c&&this.tween.c.kill(),(e=new TimelineLite).to(this.$progress_f,1*routeTransition.anim.tr.out.s,{drawSVG:"100% 100%",ease:Power2.easeOut,onComplete:function(){__WT__=0,fakeScroll.body.y=0,fakeScroll.body.py=0,window.scroll(0,0),t.__Flag_leaving__=!1}}),e.set(this.$progress_f,{drawSVG:"-0.1% 0%"}),(e=new TimelineLite).to(this.$progress_b,.4*routeTransition.anim.tr.out.s,{drawSVG:"100% 100%",ease:Power2.easeIn}),e.set(this.$progress_b,{drawSVG:"0% 0%"}),e.to(this.$progress_b,.6*routeTransition.anim.tr.in.s,{drawSVG:"0% 100%",ease:Power2.easeOut})}},window.getNextElement=function(e,t){return t&&document.querySelector(t)!==e.nextElementSibling?null:e.nextElementSibling},window.getPrevElement=function(e,t){return t&&document.querySelector(t)!==e.previousElementSibling?null:e.previousElementSibling}},function(e,t){window.styleMenu={power:0,anim:{pow:0,tween:null},__Flag_open_before__:!1,__Flag_open__:!1,__Flag_clicked__:!1,once:function(){},onOpen:function(){if($html.classList.contains("is-page-tr-start"))return!1;var e=Power2.easeInOut,t=this;this.anim.tween&&this.anim.tween.kill(),this.anim.tween=TweenLite.to(this.anim,1.2,{pow:1,ease:e}),this.__Flag_clicked__||($html.classList.remove("js--menu-open-leave"),$html.classList.add("js--menu-open-enter"),styleProgress.__Flag_count__&&styleProgress.onResetByMenu(),isMobileFixed.any?styleMobile.onOpen():frontGL.__MASK__.fade_in_mouse(.7,e)),this.__Flag_open_before__=!0,this.__Flag_clicked__=!0,document.querySelectorAll(".site-nav-a").forEach((function(e,i){var t=e.querySelectorAll(".t");e.classList.contains("nuxt-link-exact-active")?TweenLite.set(t,{y:"-50%"}):TweenLite.set(t,{clearProps:"all"})})),clearTimeout(this.timer_after),clearTimeout(this.timer_before),this.timer_before=setTimeout((function(){t.__Flag_open__=!0,t.__Flag_clicked__=!1}),700)},timer_before:null,timer_after:null,onClose:function(){Power2.easeInOut;var e=this;this.anim.tween&&this.anim.tween.kill(),this.anim.tween=TweenLite.to(this.anim,1,{pow:0,ease:Power2.easeOut}),this.__Flag_clicked__||($html.classList.remove("js--menu-open-enter"),$html.classList.add("js--menu-open-leave"),isMobileFixed.any?styleMobile.onClose():frontGL.__MASK__.center_to_top(.8,Power2.easeInOut)),this.__Flag_clicked__=!0,clearTimeout(this.timer_after),clearTimeout(this.timer_before),this.timer_before=setTimeout((function(){e.__Flag_open_before__=!1}),300),this.timer_after=setTimeout((function(){$html.classList.remove("js--menu-open-leave"),e.__Flag_open__=!1,e.__Flag_clicked__=!1}),600)},onMouseEnter:function(e){if("menu"!=routeTransition.type){e.target.classList.add("_hover");var t=e.target.querySelectorAll(".t");TweenLite.set(t,{y:"-50%"})}},onMouseLeave:function(e){if("menu"!=routeTransition.type){e.target.classList.remove("_hover");var t=e.target.querySelectorAll(".t");TweenLite.set(t,{y:"0%"})}}}},function(e,t){window.styleMobile={$body:null,y:0,move:{enable:!1,$title:null,$body:null,h:0,y:0,total_height:0},onInit:function(){if(this.y=0,this.move.y=0,this.move.h=0,this.$body=document.querySelectorAll(".site-body")[0],this.$body.style.height=__WH__+"px",this.move.$body=document.querySelectorAll(".page-title-move"),this.move.$title=document.querySelectorAll(".page-title"),this.move.$title_ghost=document.querySelectorAll(".page-title-ghost"),this.move.$body.length){var rect=this.move.$body[0].getBoundingClientRect();this.move.h=rect.height,this.move.enable=!0;var e=this.move.$title.length-1;this.move.total_height=e*this.move.h}else this.move.enable=!1},onScroll:function(e){if(!isMobileFixed.any)return!1;if(__WT__=e.target.scrollTop,fakeScroll.onScroll(),"home"===__PAGE_TYPE__)for(var t=Math.round(fakeScroll.body.py*(this.move.$title.length-1)),i=0;i<this.move.$title.length;i++)t===i?this.move.$title[i].classList.add("_active"):this.move.$title[i].classList.remove("_active")},onScrollTo:function(e,t,n){TweenLite.to(".site-body",e,{scrollTo:n,ease:t,autoKill:!1})},onResize:function(){if(this.$body.style.height=__WH__+"px",this.move.$body.length){var rect=this.move.$body[0].getBoundingClientRect();this.move.h=rect.height,this.move.enable=!0;var e=this.move.$title.length-1;this.move.total_height=e*this.move.h}},onLeave:function(e){},onEnter:function(){},onOpen:function(e,t){},onClose:function(e,t){},onUpdate:function(){if(!this.move.enable)return!1;"home"===__PAGE_TYPE__&&(this.move.y=fakeScroll.body.py*this.move.total_height,TweenLite.to(this.move.$body,.2,{y:-this.move.y}))}}},function(e,t,n){"use strict";n.r(t);n(4);window.addEventListener("popstate",(function(e){routeTransition.__Flag__Back=!0,routeTransition.onChangeType()})),window.routeTransition={__Flag__Back:!1,__Flag__Menu:!1,type:"normal",render:!0,anim:{tr:{in:{s:2*__ANIM__,e:Power3.easeOut},out:{s:__ANIM__,e:Power3.easeInOut}},zoom:{in:{s:2.335*__ANIM__,e:Power4.easeInOut},out:{s:2.335*__ANIM__,e:Power4.easeOut}},mask:{timer:null,in:{s:__ANIM__,e:Power2.easeIn},out:{s:2.335*__ANIM__,e:Power2.easeOut}},mouse:{in:{s:__ANIM__,e:Power2.easeInOut},out:{s:__ANIM__,e:Power2.easeInOut}},donuts:{in:{s:__ANIM__,e:Power2.easeIn},out:{s:2.335*__ANIM__,e:Power2.easeOut}},scroll:{in:{s:2.335*__ANIM__,e:Power3.easeOut}},progress:{in:{s:2*__ANIM__,e:Power1.easeOut}},logo:{in:{s:2.335*__ANIM__,e:Power3.easeInOut},out:{s:2.335*__ANIM__,e:Power3.easeOut}}},name:null,slug:null,__Flag__start:!1,onInit:function(e){this.name=e.name,this.slug=e.slug,$html.classList.add("is-page-tr-start")},old:null,new:null,onChangeType:function(e){"home"===e||"index___ja"===e||"index___en"===e?__PAGE_TYPE__="home":"works"===e||"works___ja"===e||"works-category-slug___ja"===e||"works___en"===e||"works-category-slug___en"===e?__PAGE_TYPE__="works":"reel"===e||"reel___ja"===e||"reel___en"===e?__PAGE_TYPE__="reel":"about"===e||"about___ja"===e||"about___en"===e?__PAGE_TYPE__="about":"contact"===e||"contact___ja"===e||"contact___en"===e?__PAGE_TYPE__="contact":"single"===e||"works-slug___ja"===e||"works-slug___en"===e?__PAGE_TYPE__="single":"404"!==e&&"404___ja"!==e&&"404___en"!==e||(__PAGE_TYPE__="404")},onMountedBefore:function(){this.onDestroy(),removeClass($body,["is-page-in-"]),removeClass($html,["is-tr-type-","js--state-"]),$body.classList.add("is-page-in-"+__PAGE_TYPE__),styleRatio.onResize()},onMounted:function(e,t){var n=this;if(this.old=__PAGE_TYPE__,this.onChangeType(e),this.new=__PAGE_TYPE__,loading.__Flag_after__){this.onMountedBefore();var r=frontGL.__LOGO__.transform[this.new];switch(r||(r=frontGL.__LOGO__.transform.normal),this.new){case"single":if(onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),isMobileFixed.any)backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture;else if(__IS_PICKUP__){if(__IS_PICKUP__)switch(this.old){case"home":backGL.__HOME__.zoom.enable||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,this.anim.zoom.in.s,this.anim.zoom.in.e,t),backGL.onZoomIn(this.anim.zoom.in.s),frontGL.__HOME__.onZoomIn(this.anim.zoom.in.s,this.anim.zoom.in.e));break;case"single":case"works":backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,backGL.__SINGLE__.onLoadSingleFv()}}else backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,backGL.__SINGLE__.onLoadSingleFv();"home"!=this.old&&"single"!=this.old?(frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,r)):frontGL.__LOGO__.setTransForm(r),1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize());break;case"home":if(backGL.material.uniforms.tDiffuse.value=backGL.__HOME__.fbo.texture,1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),backGL.__HOME__.onZoomOut(this.anim.zoom.out.s,this.anim.zoom.out.e),frontGL.__HOME__.onZoomOut(this.anim.zoom.out.s,this.anim.zoom.out.e),backGL.__HOME__.onScrollReset(),onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),backGL.__HOME__.onResize(),"single"!=this.old?(frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,r)):frontGL.__LOGO__.setTransForm(r),!isMobileFixed.any){var o=Power4.easeOut;backGL.__HOME__.onSplash(2.3,o,.1,1),fakeScroll.onScrollFrom(2.3,o,.1,1.5*__WH__)}break;case"works":backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,r),this.type="normal";break;case"contact":case"about":backGL.scale!=window.devicePixelRatio&&(backGL.scale=window.devicePixelRatio,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),isMobileFixed.any||backGL.__FOOTER__.__Flag_ok__||backGL.__FOOTER__.onLoadAssets(),isMobileFixed.any?backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture:backGL.material.uniforms.tDiffuse.value=backGL.__FOOTER__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents();var l=2.2,c=Power3.easeOut;frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_pages),frontGL.__LOGO__.onTransForm(l,c,r),this.type="normal";break;case"reel":1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform.zoom_before_normal),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,r);break;case"404":1!=backGL.scale&&(backGL.scale=1,backGL.material.uniforms.pixel_rario.value=1/backGL.scale,backGL.onResize()),backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,onInitBefore(),onInitAfter(),isMobileFixed.any&&styleMobile.onInit(),fakeScroll.setHeight(__WH__,1),frontGL.__CONTENTS__.onLoadContents(),frontGL.__LOGO__.setTransForm(frontGL.__LOGO__.transform[404]),frontGL.__LOGO__.onTransForm(this.anim.logo.out.s,this.anim.logo.out.e,r)}}clearTimeout(this.timer.type),this.timer.type=setTimeout((function(){n.type="normal",removeClass($html,["is-tr-to-"])}),1e3*this.anim.mask.out.s),this.__Flag__start=!1,key.__Flag_down__=!1},onDestroy:function(){frontGL.__CONTENTS__.onDestroy(),backGL.__SINGLE__.onDestroy(),styleInview.onDestroy()},onBeforeEnter:function(e){this.onResetScroll()},onAfterEnter:function(e){Power3.easeOut;this.tween.enter&&this.tween.enter.kill(),TweenLite.set(".js--slide-up",{y:"120%"}),this.tween.enter=TweenLite.to(".js--slide-up",this.anim.tr.in.s,{y:"0%",ease:this.anim.tr.in.e}),TweenLite.to(".section-page-lead",this.anim.tr.in.s+.416666667*this.anim.tr.in.s,{opacity:1,ease:this.anim.tr.in.e})},onResetScroll:function(){__WT__=0,fakeScroll.body.y=0,fakeScroll.body.py=0,window.scroll(0,0)},onEnter:function(e,t){if(this.__Flag__Back,this.new,this.__Flag__Back=!1,"single"===this.new&&("single"!=this.old&&"works"!=this.old&&(isMobileFixed.any?styleMobile.onScrollTo(1.4*this.anim.scroll.in.s,Power3.easeInOut,80):fakeScroll.onScrollTo(this.anim.scroll.in.s,Power2.easeInOut,.25*__WH__)),"home"==this.old||isMobileFixed.any||(backGL.material.uniforms.tDiffuse.value=backGL.__SINGLE__.fbo.texture,backGL.__SINGLE__.onLoadSingleFv())),isMobileFixed.any&&styleMobile.onEnter(),frontGL.__MASK__.__Flag__slideIn__&&!isMobileFixed.any)switch(frontGL.__MASK__.type){case 0:frontGL.__MASK__.center_to_top(1.3*this.anim.mask.out.s,this.anim.mask.out.e);break;case 1:frontGL.__MASK__.center_to_right(1.3*this.anim.mask.out.s,this.anim.mask.out.e);break;case 2:frontGL.__MASK__.center_to_left(1.3*this.anim.mask.out.s,this.anim.mask.out.e);break;case 3:frontGL.__MASK__.center_to_top(1.3*this.anim.mask.out.s,this.anim.mask.out.e)}t(),this.render=!0,loading.__Flag_complete__&&("home"!=this.new?(styleProgress.onRotate(0),styleProgress.setProgress(0)):styleProgress.onProgressTo(100/backGL.__HOME__.total,this.anim.progress.in.s,this.anim.progress.in.e)),clearTimeout(this.anim.mask.timer),this.anim.mask.timer=setTimeout((function(){$html.classList.remove("is-page-tr-start")}),1e3*this.anim.mask.in.s)},timer:{leave:null,native:null,type:null},tween:{enter:null,leave:null},onBeforeLeave:function(e){if(key.__Flag_down__)return!1;"single"===__PAGE_TYPE__&&backGL.__SINGLE__.onFadeOut(this.anim.tr.out.s,this.anim.tr.out.e)},onLeave:function(e,t){if(key.__Flag_down__)return!1;this.__Flag__start=!0,this.tween.leave&&this.tween.leave.kill(),this.tween.leave=TweenLite.to(".js--slide-up",this.anim.tr.out.s,{y:"-130%",ease:this.anim.tr.out.e}),this.__Flag__Back&&this.onHistoryBackTransition(),isMobileFixed.any?(clearTimeout(this.timer.leave),this.timer.leave=setTimeout((function(){t()}),1e3*this.anim.tr.out.s)):"footer"===this.type||"menu"===this.type?t():(clearTimeout(this.timer.leave),this.timer.leave=setTimeout((function(){t()}),1e3*this.anim.tr.out.s)),styleMenu.__Flag_open__&&styleMenu.onClose(),styleProgress.__Flag_count__&&styleProgress.onReset()},onHistoryBackTransition:function(){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.onProgressTo(0,this.anim.mask.in.s,Power2.easeInOut),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e))))},onHomeToSingleTransition:function(){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),void(backGL.__HOME__.zoom.enable||isMobileFixed.any||"home"!==__PAGE_TYPE__||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,this.anim.zoom.in.s,this.anim.zoom.in.e),backGL.onZoomIn(this.anim.zoom.in.s),frontGL.__HOME__.onZoomIn(this.anim.zoom.in.s,this.anim.zoom.in.e)))))},onHomeToSingleTransitionByLink:function(e){if(key.__Flag_down__)return!1;if(!loading.__Flag_complete__)return!1;var t=document.querySelectorAll(".page-title._active");if(t.length||(t=document.querySelectorAll(".page-title")),t.length){var path=t[0].querySelectorAll("a")[0].getAttribute("href");e.push({path:path}),styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),isMobileFixed.any&&(this.render=!1),backGL.__HOME__.zoom.enable||isMobileFixed.any||"home"!==__PAGE_TYPE__||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,this.anim.zoom.in.s,this.anim.zoom.in.e),backGL.onZoomIn(this.anim.zoom.in.s),frontGL.__HOME__.onZoomIn(this.anim.zoom.in.s,this.anim.zoom.in.e))}},onNormalTransition:function(e){if(key.__Flag_down__)return!1;if(!loading.__Flag_complete__)return!1;if("home"===__PAGE_TYPE__&&"home"===e)location.reload();else if(styleMenu.__Flag_open__){this.onDestroy();var t=frontGL.__LOGO__.transform.zoom_before_normal;"about"!==e&&"contact"!==e||(t=frontGL.__LOGO__.transform.zoom_before_pages),frontGL.__LOGO__.setTransForm(t),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,isMobileFixed.any||frontGL.__MASK__.bottom_to_center(0,this.anim.mask.in.e)}else this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e)},onListTransition:function(e){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e))))},onMenuTransition:function(e){if(key.__Flag_down__)return!1;if(!loading.__Flag_complete__)return!1;styleProgress.onLeave(),this.onDestroy();var t=frontGL.__LOGO__.transform.zoom_before_normal;"about"!==e&&"contact"!==e||(t=frontGL.__LOGO__.transform.zoom_before_pages,$html.classList.add("is-tr-to-subpages")),frontGL.__LOGO__.setTransForm(t),this.type="menu",$html.classList.add("is-tr-type-"+this.type),backGL.__HOME__.zoom.enable||isMobileFixed.any||"home"!==__PAGE_TYPE__||(backGL.__HOME__.zoom.enable=!0,backGL.__HOME__.onZoomIn(backGL.__HOME__.center.index,0,this.anim.zoom.in.e),backGL.onZoomIn(0),frontGL.__HOME__.onZoomIn(0,this.anim.zoom.in.e)),styleMenu.__Flag_open__&&styleMenu.onClose()},onFooterTransition:function(e){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.__Flag_count_complete__||styleProgress.onLeave(),this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e))))},onFooterTransitionWithAnimation:function(e,path){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.onLeave(),this.type="footer",$html.classList.add("is-tr-type-"+this.type),void(isMobileFixed.any?e.push({path:path}):(frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e),backGL.__FOOTER__.chengeAnim(1,.5,!1),clearTimeout(this.timer.native),this.timer.native=setTimeout((function(){e.push({path:path})}),1e3)))))},onNextToTransition:function(){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.onProgressTo(0,this.anim.mask.in.s,this.anim.mask.in.e),this.type="pagging",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.left_to_center(this.anim.mask.in.s,this.anim.mask.in.e))))},onPrevToTransition:function(){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(styleProgress.onProgressTo(0,this.anim.mask.in.s,this.anim.mask.in.e),this.type="pagging",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any||frontGL.__MASK__.right_to_center(this.anim.mask.in.s,this.anim.mask.in.e))))},onSelectTransition:function(e,path){if(!loading.__Flag_complete__)return!1;this.type="normal",$html.classList.add("is-tr-type-"+this.type),this.render=!1,isMobileFixed.any||frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e),e.push({path:path})},onLangTransition:function(e,path){return!key.__Flag_down__&&(!!loading.__Flag_complete__&&(this.type="lang",$html.classList.add("is-tr-type-"+this.type),this.render=!1,void(isMobileFixed.any?e.push({path:path}):styleMenu.__Flag_open__?e.push({path:path}):(frontGL.__MASK__.bottom_to_center(this.anim.mask.in.s,this.anim.mask.in.e),clearTimeout(this.timer.native),this.timer.native=setTimeout((function(){e.push({path:path})}),1e3*this.anim.mask.in.s)))))}}},,function(e,t,n){"use strict";n.r(t);n(4),n(25),n(60);var r=n(1),o=n(7);r._gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],(function(){var e=function(e){r.SimpleTimeline.call(this,e);var t,p,n=this.vars;for(p in this._labels={},this.autoRemoveChildren=!!n.autoRemoveChildren,this.smoothChildTiming=!!n.smoothChildTiming,this._sortChildren=!0,this._onUpdate=n.onUpdate,n)t=n[p],c(t)&&-1!==t.join("").indexOf("{self}")&&(n[p]=this._swapSelfInParams(t));c(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},t=r.default._internals,n=e._internals={},l=t.isSelector,c=t.isArray,h=t.lazyTweens,d=t.lazyRender,f=r._gsScope._gsDefine.globals,m=function(e){var p,t={};for(p in e)t[p]=e[p];return t},_=function(e,t,i){var p,n,r=e.cycle;for(p in r)n=r[p],e[p]="function"==typeof n?n(i,t[i],t):n[i%n.length];delete e.cycle},v=n.pauseCallback=function(){},y=function(e,t,n,r){var o="immediateRender";return o in t||(t[o]=!(n&&!1===n[o]||r)),t},x=function(e){if("function"==typeof e)return e;var t="object"===Object(o.a)(e)?e:{each:e},n=t.ease,r=t.from||0,base=t.base||0,l={},c=isNaN(r),h=t.axis,d={center:.5,end:1}[r]||0;return function(i,e,a){var o,f,m,_,v,y,x,w,T,S=(a||t).length,M=l[S];if(!M){if(!(T="auto"===t.grid?0:(t.grid||[1/0])[0])){for(x=-1/0;x<(x=a[T++].getBoundingClientRect().left)&&T<S;);T--}for(M=l[S]=[],o=c?Math.min(T,S)*d-.5:r%T,f=c?S*d/T-.5:r/T|0,x=0,w=1/0,y=0;y<S;y++)m=y%T-o,_=f-(y/T|0),M[y]=v=h?Math.abs("y"===h?_:m):Math.sqrt(m*m+_*_),v>x&&(x=v),v<w&&(w=v);M.max=x-w,M.min=w,M.v=S=t.amount||t.each*(T>S?S:h?"y"===h?S/T:T:Math.max(T,S/T))||0,M.b=S<0?base-S:base}return S=(M[i]-M.min)/M.max,M.b+(n?n.getRatio(S):S)*M.v}},p=e.prototype=new r.SimpleTimeline;return e.version="2.1.2",e.distribute=x,p.constructor=e,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(e,t,n,o){var l=n.repeat&&f.TweenMax||r.default;return t?this.add(new l(e,t,n),o):this.set(e,n,o)},p.from=function(e,t,n,o){return this.add((n.repeat&&f.TweenMax||r.default).from(e,t,y(0,n)),o)},p.fromTo=function(e,t,n,o,l){var c=o.repeat&&f.TweenMax||r.default;return o=y(0,o,n),t?this.add(c.fromTo(e,t,n,o),l):this.set(e,o,l)},p.staggerTo=function(t,n,o,c,h,d,f,v){var y,i,w=new e({onComplete:d,onCompleteParams:f,callbackScope:v,smoothChildTiming:this.smoothChildTiming}),T=x(o.stagger||c),S=o.startAt,M=o.cycle;for("string"==typeof t&&(t=r.default.selector(t)||t),l(t=t||[])&&(t=function(a){var i,b=[],e=a.length;for(i=0;i!==e;b.push(a[i++]));return b}(t)),i=0;i<t.length;i++)y=m(o),S&&(y.startAt=m(S),S.cycle&&_(y.startAt,t,i)),M&&(_(y,t,i),null!=y.duration&&(n=y.duration,delete y.duration)),w.to(t[i],n,y,T(i,t[i],t));return this.add(w,h)},p.staggerFrom=function(e,t,n,r,o,l,c,h){return n.runBackwards=!0,this.staggerTo(e,t,y(0,n),r,o,l,c,h)},p.staggerFromTo=function(e,t,n,r,o,l,c,h,d){return r.startAt=n,this.staggerTo(e,t,y(0,r,n),o,l,c,h,d)},p.call=function(e,t,n,o){return this.add(r.default.delayedCall(0,e,t,n),o)},p.set=function(e,t,n){return this.add(new r.default(e,0,y(0,t,null,!0)),n)},e.exportRoot=function(t,n){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var o,time,l,c,h=new e(t),d=h._timeline;for(null==n&&(n=!0),d._remove(h,!0),h._startTime=0,h._rawPrevTime=h._time=h._totalTime=d._time,l=d._first;l;)c=l._next,n&&l instanceof r.default&&l.target===l.vars.onComplete||((time=l._startTime-l._delay)<0&&(o=1),h.add(l,time)),l=c;return d.add(h,0),o&&h.totalDuration(),h},p.add=function(t,n,o,l){var h,d,i,f,m,_;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,t)),!(t instanceof r.Animation)){if(t instanceof Array||t&&t.push&&c(t)){for(o=o||"normal",l=l||0,h=n,d=t.length,i=0;i<d;i++)c(f=t[i])&&(f=new e({tweens:f})),this.add(f,h),"string"!=typeof f&&"function"!=typeof f&&("sequence"===o?h=f._startTime+f.totalDuration()/f._timeScale:"start"===o&&(f._startTime-=f.delay())),h+=l;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,n);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=r.default.delayedCall(0,t)}if(r.SimpleTimeline.prototype.add.call(this,t,n),(t._time||!t._duration&&t._initted)&&(h=(this.rawTime()-t._startTime)*t._timeScale,(!t._duration||Math.abs(Math.max(0,Math.min(t.totalDuration(),h)))-t._totalTime>1e-5)&&t.render(h,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(_=(m=this).rawTime()>t._startTime;m._timeline;)_&&m._timeline.smoothChildTiming?m.totalTime(m._totalTime,!0):m._gc&&m._enabled(!0,!1),m=m._timeline;return this},p.remove=function(e){if(e instanceof r.Animation){this._remove(e,!1);var t=e._timeline=e.vars.useFrames?r.Animation._rootFramesTimeline:r.Animation._rootTimeline;return e._startTime=(e._paused?e._pauseTime:t._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&c(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},p._remove=function(e,t){return r.SimpleTimeline.prototype._remove.call(this,e,t),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},p.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},p.addLabel=function(label,e){return this._labels[label]=this._parseTimeOrLabel(e),this},p.addPause=function(e,t,n,o){var l=r.default.delayedCall(0,v,n,o||this);return l.vars.onComplete=l.vars.onReverseComplete=t,l.data="isPause",this._hasPause=!0,this.add(l,e)},p.removeLabel=function(label){return delete this._labels[label],this},p.getLabelTime=function(label){return null!=this._labels[label]?this._labels[label]:-1},p._parseTimeOrLabel=function(e,t,n,o){var l,i;if(o instanceof r.Animation&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&c(o)))for(i=o.length;--i>-1;)o[i]instanceof r.Animation&&o[i].timeline===this&&this.remove(o[i]);if(l="number"!=typeof e||t?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof t)return this._parseTimeOrLabel(t,n&&"number"==typeof e&&null==this._labels[t]?e-l:0,n);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=l);else{if(-1===(i=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=l+t:t:this._labels[e]+t;t=parseInt(e.charAt(i-1)+"1",10)*Number(e.substr(i+1)),e=i>1?this._parseTimeOrLabel(e.substr(0,i-1),0,n):l}return Number(e)+t},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(time,e,t){this._gc&&this._enabled(!0,!1);var n,r,o,l,c,f,m,_,v=this._time,y=this._dirty?this.totalDuration():this._totalDuration,x=this._startTime,w=this._timeScale,T=this._paused;if(v!==this._time&&(time+=this._time-v),time>=y-1e-8&&time>=0)this._totalTime=this._time=y,this._reversed||this._hasPausedChild()||(r=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(time<=0&&time>=-1e-8||this._rawPrevTime<0||1e-8===this._rawPrevTime)&&this._rawPrevTime!==time&&this._first&&(c=!0,this._rawPrevTime>1e-8&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||time||this._rawPrevTime===time?time:1e-8,time=y+1e-4;else if(time<1e-8)if(this._totalTime=this._time=0,time>-1e-8&&(time=0),(0!==v||0===this._duration&&1e-8!==this._rawPrevTime&&(this._rawPrevTime>0||time<0&&this._rawPrevTime>=0))&&(l="onReverseComplete",r=this._reversed),time<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=r=!0,l="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(c=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=this._duration||!e||time||this._rawPrevTime===time?time:1e-8,0===time&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;time=0,this._initted||(c=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(time>=v)for(n=this._first;n&&n._startTime<=time&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=time&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&(this._time=this._totalTime=time=f._startTime,_=this._startTime+time/this._timeScale)}this._totalTime=this._time=this._rawPrevTime=time}if(this._time!==v&&this._first||t||c||f){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==v&&time>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(m=this._time)>=v)for(n=this._first;n&&(o=n._next,m===this._time&&(!this._paused||T));)(n._active||n._startTime<=m&&!n._paused&&!n._gc)&&(f===n&&(this.pause(),this._pauseTime=_),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(time-n._startTime)*n._timeScale,e,t):n.render((time-n._startTime)*n._timeScale,e,t)),n=o;else for(n=this._last;n&&(o=n._prev,m===this._time&&(!this._paused||T));){if(n._active||n._startTime<=v&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(time-f._startTime)*f._timeScale:(time-f._startTime)*f._timeScale,e,t),f=f._prev;f=null,this.pause(),this._pauseTime=_}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(time-n._startTime)*n._timeScale,e,t):n.render((time-n._startTime)*n._timeScale,e,t)}n=o}this._onUpdate&&(e||(h.length&&d(),this._callback("onUpdate"))),l&&(this._gc||x!==this._startTime&&w===this._timeScale||(0===this._time||y>=this.totalDuration())&&(r&&(h.length&&d(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))}},p._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof e&&t._hasPausedChild())return!0;t=t._next}return!1},p.getChildren=function(e,t,n,o){o=o||-9999999999;for(var a=[],l=this._first,c=0;l;)l._startTime<o||(l instanceof r.default?!1!==t&&(a[c++]=l):(!1!==n&&(a[c++]=l),!1!==e&&(c=(a=a.concat(l.getChildren(!0,t,n))).length))),l=l._next;return a},p.getTweensOf=function(e,t){var n,i,o=this._gc,a=[],l=0;for(o&&this._enabled(!0,!0),i=(n=r.default.getTweensOf(e)).length;--i>-1;)(n[i].timeline===this||t&&this._contains(n[i]))&&(a[l++]=n[i]);return o&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,n){n=n||0;for(var p,r=this._first,o=this._labels;r;)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(p in o)o[p]>=n&&(o[p]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=n.length,r=!1;--i>-1;)n[i]._kill(e,t)&&(r=!0);return r},p.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return r.Animation.prototype.invalidate.call(this)},p._enabled=function(e,t){if(e===this._gc)for(var n=this._first;n;)n._enabled(e,!0),n=n._next;return r.SimpleTimeline.prototype._enabled.call(this,e,t)},p.totalTime=function(time,e,t){this._forcingPlayhead=!0;var n=r.Animation.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,r=0,o=this,l=o._last,c=999999999999;l;)t=l._prev,l._dirty&&l.totalDuration(),l._startTime>c&&o._sortChildren&&!l._paused&&!o._calculatingDuration?(o._calculatingDuration=1,o.add(l,l._startTime-l._delay),o._calculatingDuration=0):c=l._startTime,l._startTime<0&&!l._paused&&(r-=l._startTime,o._timeline.smoothChildTiming&&(o._startTime+=l._startTime/o._timeScale,o._time-=l._startTime,o._totalTime-=l._startTime,o._rawPrevTime-=l._startTime),o.shiftChildren(-l._startTime,!1,-9999999999),c=0),(n=l._startTime+l._totalDuration/l._timeScale)>r&&(r=n),l=t;o._duration=o._totalDuration=r,o._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},p.paused=function(e){if(!1===e&&this._paused)for(var t=this._first;t;)t._startTime===this._time&&"isPause"===t.data&&(t._rawPrevTime=0),t=t._next;return r.Animation.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===r.Animation._rootFramesTimeline},p.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},e}),!0);var l=r.globals.TimelineLite;n.d(t,"TimelineMax",(function(){return c})),n.d(t,"default",(function(){return c})),n.d(t,"TimelineLite",(function(){return l})),r._gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],(function(){var e=function(e){l.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},t=r.default._internals,n=t.lazyTweens,o=t.lazyRender,c=r._gsScope._gsDefine.globals,h=new r.Ease(null,null,1,0),p=e.prototype=new l;return p.constructor=e,p.kill()._gc=!1,e.version="2.1.2",p.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),l.prototype.invalidate.call(this)},p.addCallback=function(e,t,n,o){return this.add(r.default.delayedCall(0,e,n,o),t)},p.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var a=this.getTweensOf(e,!1),i=a.length,time=this._parseTimeOrLabel(t);--i>-1;)a[i]._startTime===time&&a[i]._enabled(!1,!1);return this},p.removePause=function(e){return this.removeCallback(l._internals.pauseCallback,e)},p.tweenTo=function(e,t){t=t||{};var n,p,o,l={ease:h,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},d=t.repeat&&c.TweenMax||r.default;for(p in t)l[p]=t[p];return l.time=this._parseTimeOrLabel(e),n=Math.abs(Number(l.time)-this._time)/this._timeScale||.001,o=new d(this,n,l),l.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||n!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),t.onStart&&t.onStart.apply(t.onStartScope||t.callbackScope||o,t.onStartParams||[])},o},p.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var r=this.tweenTo(t,n);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},p.render=function(time,e,t){this._gc&&this._enabled(!0,!1);var r,l,c,h,d,f,m,_,v,y=this._time,x=this._dirty?this.totalDuration():this._totalDuration,w=this._duration,T=this._totalTime,S=this._startTime,M=this._timeScale,E=this._rawPrevTime,L=this._paused,k=this._cycle;if(y!==this._time&&(time+=this._time-y),time>=x-1e-8&&time>=0)this._locked||(this._totalTime=x,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(l=!0,h="onComplete",d=!!this._timeline.autoRemoveChildren,0===this._duration&&(time<=0&&time>=-1e-8||E<0||1e-8===E)&&E!==time&&this._first&&(d=!0,E>1e-8&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||time||this._rawPrevTime===time?time:1e-8,this._yoyo&&1&this._cycle?this._time=time=0:(this._time=w,time=w+1e-4);else if(time<1e-8)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,time>-1e-8&&(time=0),(0!==y||0===w&&1e-8!==E&&(E>0||time<0&&E>=0)&&!this._locked)&&(h="onReverseComplete",l=this._reversed),time<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(d=l=!0,h="onReverseComplete"):E>=0&&this._first&&(d=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=w||!e||time||this._rawPrevTime===time?time:1e-8,0===time&&l)for(r=this._first;r&&0===r._startTime;)r._duration||(l=!1),r=r._next;time=0,this._initted||(d=!0)}else if(0===w&&E<0&&(d=!0),this._time=this._rawPrevTime=time,this._locked||(this._totalTime=time,0!==this._repeat&&(f=w+this._repeatDelay,this._cycle=this._totalTime/f>>0,this._cycle&&this._cycle===this._totalTime/f&&T<=time&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&1&this._cycle&&(this._time=w-this._time),this._time>w?(this._time=w,time=w+1e-4):this._time<0?this._time=time=0:time=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((time=this._time)>=y||this._repeat&&k!==this._cycle)for(r=this._first;r&&r._startTime<=time&&!m;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(m=r),r=r._next;else for(r=this._last;r&&r._startTime>=time&&!m;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(m=r),r=r._prev;m&&(v=this._startTime+m._startTime/this._timeScale,m._startTime<w&&(this._time=this._rawPrevTime=time=m._startTime,this._totalTime=time+this._cycle*(this._totalDuration+this._repeatDelay)))}if(this._cycle!==k&&!this._locked){var A=this._yoyo&&0!=(1&k),P=A===(this._yoyo&&0!=(1&this._cycle)),O=this._totalTime,C=this._cycle,R=this._rawPrevTime,I=this._time;if(this._totalTime=k*w,this._cycle<k?A=!A:this._totalTime+=w,this._time=y,this._rawPrevTime=0===w?E-1e-4:E,this._cycle=k,this._locked=!0,y=A?0:w,this.render(y,e,0===w),e||this._gc||this.vars.onRepeat&&(this._cycle=C,this._locked=!1,this._callback("onRepeat")),y!==this._time)return;if(P&&(this._cycle=k,this._locked=!0,y=A?w+1e-4:-1e-4,this.render(y,!0,!1)),this._locked=!1,this._paused&&!L)return;this._time=I,this._totalTime=O,this._cycle=C,this._rawPrevTime=R}if(this._time!==y&&this._first||t||d||m){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==T&&time>0&&(this._active=!0),0===T&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(_=this._time)>=y)for(r=this._first;r&&(c=r._next,_===this._time&&(!this._paused||L));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(m===r&&(this.pause(),this._pauseTime=v),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(time-r._startTime)*r._timeScale,e,t):r.render((time-r._startTime)*r._timeScale,e,t)),r=c;else for(r=this._last;r&&(c=r._prev,_===this._time&&(!this._paused||L));){if(r._active||r._startTime<=y&&!r._paused&&!r._gc){if(m===r){for(m=r._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(time-m._startTime)*m._timeScale:(time-m._startTime)*m._timeScale,e,t),m=m._prev;m=null,this.pause(),this._pauseTime=v}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(time-r._startTime)*r._timeScale,e,t):r.render((time-r._startTime)*r._timeScale,e,t)}r=c}this._onUpdate&&(e||(n.length&&o(),this._callback("onUpdate"))),h&&(this._locked||this._gc||S!==this._startTime&&M===this._timeScale||(0===this._time||x>=this.totalDuration())&&(l&&(n.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))}else T!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},p.getActive=function(e,t,n){var i,r,a=[],o=this.getChildren(e||null==e,t||null==e,!!n),l=0,c=o.length;for(i=0;i<c;i++)(r=o[i]).isActive()&&(a[l++]=r);return a},p.getLabelAfter=function(time){time||0!==time&&(time=this._time);var i,e=this.getLabelsArray(),t=e.length;for(i=0;i<t;i++)if(e[i].time>time)return e[i].name;return null},p.getLabelBefore=function(time){null==time&&(time=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<time)return e[i].name;return null},p.getLabelsArray=function(){var p,a=[],e=0;for(p in this._labels)a[e++]={time:this._labels[p],name:p};return a.sort((function(a,b){return a.time-b.time})),a},p.invalidate=function(){return this._locked=!1,l.prototype.invalidate.call(this)},p.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},p.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},p.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(l.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},p.time=function(e,t){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var n=this._duration,r=this._cycle,o=r*(n+this._repeatDelay);return e>n&&(e=n),this.totalTime(this._yoyo&&1&r?n-e+o:this._repeat?e+o:e,t)},p.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},p.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},p.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},p.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},e}),!0);var c=r.globals.TimelineMax}],[[177,10,1,11]]]);